(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Cd={exports:{}},mo={};var R0;function _T(){if(R0)return mo;R0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return mo.Fragment=e,mo.jsx=i,mo.jsxs=i,mo}var N0;function vT(){return N0||(N0=1,Cd.exports=_T()),Cd.exports}var g=vT(),Rd={exports:{}},De={};var I0;function bT(){if(I0)return De;I0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),N=Symbol.iterator;function L(M){return M===null||typeof M!="object"?null:(M=N&&M[N]||M["@@iterator"],typeof M=="function"?M:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,P={};function ie(M,J,se){this.props=M,this.context=J,this.refs=P,this.updater=se||X}ie.prototype.isReactComponent={},ie.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},ie.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function le(){}le.prototype=ie.prototype;function he(M,J,se){this.props=M,this.context=J,this.refs=P,this.updater=se||X}var G=he.prototype=new le;G.constructor=he,Q(G,ie.prototype),G.isPureReactComponent=!0;var re=Array.isArray;function F(){}var S={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(M,J,se){var ce=se.ref;return{$$typeof:s,type:M,key:J,ref:ce!==void 0?ce:null,props:se}}function O(M,J){return C(M.type,J,M.props)}function I(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function V(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return J[se]})}var R=/\/+/g;function ve(M,J){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):J.toString(36)}function Ae(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(F,F):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function j(M,J,se,ce,fe){var Te=typeof M;(Te==="undefined"||Te==="boolean")&&(M=null);var Ie=!1;if(M===null)Ie=!0;else switch(Te){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(M.$$typeof){case s:case e:Ie=!0;break;case T:return Ie=M._init,j(Ie(M._payload),J,se,ce,fe)}}if(Ie)return fe=fe(M),Ie=ce===""?"."+ve(M,0):ce,re(fe)?(se="",Ie!=null&&(se=Ie.replace(R,"$&/")+"/"),j(fe,J,se,"",function(rn){return rn})):fe!=null&&(I(fe)&&(fe=O(fe,se+(fe.key==null||M&&M.key===fe.key?"":(""+fe.key).replace(R,"$&/")+"/")+Ie)),J.push(fe)),1;Ie=0;var de=ce===""?".":ce+":";if(re(M))for(var xe=0;xe<M.length;xe++)ce=M[xe],Te=de+ve(ce,xe),Ie+=j(ce,J,se,Te,fe);else if(xe=L(M),typeof xe=="function")for(M=xe.call(M),xe=0;!(ce=M.next()).done;)ce=ce.value,Te=de+ve(ce,xe++),Ie+=j(ce,J,se,Te,fe);else if(Te==="object"){if(typeof M.then=="function")return j(Ae(M),J,se,ce,fe);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function Y(M,J,se){if(M==null)return M;var ce=[],fe=0;return j(M,ce,"","",function(Te){return J.call(se,Te,fe++)}),ce}function te(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var oe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},me={map:Y,forEach:function(M,J,se){Y(M,function(){J.apply(this,arguments)},se)},count:function(M){var J=0;return Y(M,function(){J++}),J},toArray:function(M){return Y(M,function(J){return J})||[]},only:function(M){if(!I(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return De.Activity=A,De.Children=me,De.Component=ie,De.Fragment=i,De.Profiler=o,De.PureComponent=he,De.StrictMode=a,De.Suspense=v,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,De.__COMPILER_RUNTIME={__proto__:null,c:function(M){return S.H.useMemoCache(M)}},De.cache=function(M){return function(){return M.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(M,J,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ce=Q({},M.props),fe=M.key;if(J!=null)for(Te in J.key!==void 0&&(fe=""+J.key),J)!w.call(J,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&J.ref===void 0||(ce[Te]=J[Te]);var Te=arguments.length-2;if(Te===1)ce.children=se;else if(1<Te){for(var Ie=Array(Te),de=0;de<Te;de++)Ie[de]=arguments[de+2];ce.children=Ie}return C(M.type,fe,ce)},De.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},De.createElement=function(M,J,se){var ce,fe={},Te=null;if(J!=null)for(ce in J.key!==void 0&&(Te=""+J.key),J)w.call(J,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(fe[ce]=J[ce]);var Ie=arguments.length-2;if(Ie===1)fe.children=se;else if(1<Ie){for(var de=Array(Ie),xe=0;xe<Ie;xe++)de[xe]=arguments[xe+2];fe.children=de}if(M&&M.defaultProps)for(ce in Ie=M.defaultProps,Ie)fe[ce]===void 0&&(fe[ce]=Ie[ce]);return C(M,Te,fe)},De.createRef=function(){return{current:null}},De.forwardRef=function(M){return{$$typeof:p,render:M}},De.isValidElement=I,De.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:te}},De.memo=function(M,J){return{$$typeof:_,type:M,compare:J===void 0?null:J}},De.startTransition=function(M){var J=S.T,se={};S.T=se;try{var ce=M(),fe=S.S;fe!==null&&fe(se,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(F,oe)}catch(Te){oe(Te)}finally{J!==null&&se.types!==null&&(J.types=se.types),S.T=J}},De.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},De.use=function(M){return S.H.use(M)},De.useActionState=function(M,J,se){return S.H.useActionState(M,J,se)},De.useCallback=function(M,J){return S.H.useCallback(M,J)},De.useContext=function(M){return S.H.useContext(M)},De.useDebugValue=function(){},De.useDeferredValue=function(M,J){return S.H.useDeferredValue(M,J)},De.useEffect=function(M,J){return S.H.useEffect(M,J)},De.useEffectEvent=function(M){return S.H.useEffectEvent(M)},De.useId=function(){return S.H.useId()},De.useImperativeHandle=function(M,J,se){return S.H.useImperativeHandle(M,J,se)},De.useInsertionEffect=function(M,J){return S.H.useInsertionEffect(M,J)},De.useLayoutEffect=function(M,J){return S.H.useLayoutEffect(M,J)},De.useMemo=function(M,J){return S.H.useMemo(M,J)},De.useOptimistic=function(M,J){return S.H.useOptimistic(M,J)},De.useReducer=function(M,J,se){return S.H.useReducer(M,J,se)},De.useRef=function(M){return S.H.useRef(M)},De.useState=function(M){return S.H.useState(M)},De.useSyncExternalStore=function(M,J,se){return S.H.useSyncExternalStore(M,J,se)},De.useTransition=function(){return S.H.useTransition()},De.version="19.2.4",De}var D0;function ym(){return D0||(D0=1,Rd.exports=bT()),Rd.exports}var _e=ym(),Nd={exports:{}},go={},Id={exports:{}},Dd={};var M0;function ET(){return M0||(M0=1,(function(s){function e(j,Y){var te=j.length;j.push(Y);e:for(;0<te;){var oe=te-1>>>1,me=j[oe];if(0<o(me,Y))j[oe]=Y,j[te]=me,te=oe;else break e}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var Y=j[0],te=j.pop();if(te!==Y){j[0]=te;e:for(var oe=0,me=j.length,M=me>>>1;oe<M;){var J=2*(oe+1)-1,se=j[J],ce=J+1,fe=j[ce];if(0>o(se,te))ce<me&&0>o(fe,se)?(j[oe]=fe,j[ce]=te,oe=ce):(j[oe]=se,j[J]=te,oe=J);else if(ce<me&&0>o(fe,te))j[oe]=fe,j[ce]=te,oe=ce;else break e}}return Y}function o(j,Y){var te=j.sortIndex-Y.sortIndex;return te!==0?te:j.id-Y.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],_=[],T=1,A=null,N=3,L=!1,X=!1,Q=!1,P=!1,ie=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;function G(j){for(var Y=i(_);Y!==null;){if(Y.callback===null)a(_);else if(Y.startTime<=j)a(_),Y.sortIndex=Y.expirationTime,e(v,Y);else break;Y=i(_)}}function re(j){if(Q=!1,G(j),!X)if(i(v)!==null)X=!0,F||(F=!0,V());else{var Y=i(_);Y!==null&&Ae(re,Y.startTime-j)}}var F=!1,S=-1,w=5,C=-1;function O(){return P?!0:!(s.unstable_now()-C<w)}function I(){if(P=!1,F){var j=s.unstable_now();C=j;var Y=!0;try{e:{X=!1,Q&&(Q=!1,le(S),S=-1),L=!0;var te=N;try{t:{for(G(j),A=i(v);A!==null&&!(A.expirationTime>j&&O());){var oe=A.callback;if(typeof oe=="function"){A.callback=null,N=A.priorityLevel;var me=oe(A.expirationTime<=j);if(j=s.unstable_now(),typeof me=="function"){A.callback=me,G(j),Y=!0;break t}A===i(v)&&a(v),G(j)}else a(v);A=i(v)}if(A!==null)Y=!0;else{var M=i(_);M!==null&&Ae(re,M.startTime-j),Y=!1}}break e}finally{A=null,N=te,L=!1}Y=void 0}}finally{Y?V():F=!1}}}var V;if(typeof he=="function")V=function(){he(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ve=R.port2;R.port1.onmessage=I,V=function(){ve.postMessage(null)}}else V=function(){ie(I,0)};function Ae(j,Y){S=ie(function(){j(s.unstable_now())},Y)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(j){j.callback=null},s.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<j?Math.floor(1e3/j):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(j){switch(N){case 1:case 2:case 3:var Y=3;break;default:Y=N}var te=N;N=Y;try{return j()}finally{N=te}},s.unstable_requestPaint=function(){P=!0},s.unstable_runWithPriority=function(j,Y){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var te=N;N=j;try{return Y()}finally{N=te}},s.unstable_scheduleCallback=function(j,Y,te){var oe=s.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?oe+te:oe):te=oe,j){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=te+me,j={id:T++,callback:Y,priorityLevel:j,startTime:te,expirationTime:me,sortIndex:-1},te>oe?(j.sortIndex=te,e(_,j),i(v)===null&&j===i(_)&&(Q?(le(S),S=-1):Q=!0,Ae(re,te-oe))):(j.sortIndex=me,e(v,j),X||L||(X=!0,F||(F=!0,V()))),j},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(j){var Y=N;return function(){var te=N;N=Y;try{return j.apply(this,arguments)}finally{N=te}}}})(Dd)),Dd}var O0;function TT(){return O0||(O0=1,Id.exports=ET()),Id.exports}var Md={exports:{}},$t={};var V0;function xT(){if(V0)return $t;V0=1;var s=ym();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,_,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:v,containerInfo:_,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,$t.createPortal=function(v,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(v,_,null,T)},$t.flushSync=function(v){var _=d.T,T=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=T,a.d.f()}},$t.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},$t.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},$t.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var T=_.as,A=p(T,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,L=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:L}):T==="script"&&a.d.X(v,{crossOrigin:A,integrity:N,fetchPriority:L,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},$t.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=p(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},$t.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,A=p(T,_.crossOrigin);a.d.L(v,T,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},$t.preloadModule=function(v,_){if(typeof v=="string")if(_){var T=p(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},$t.requestFormReset=function(v){a.d.r(v)},$t.unstable_batchedUpdates=function(v,_){return v(_)},$t.useFormState=function(v,_,T){return d.H.useFormState(v,_,T)},$t.useFormStatus=function(){return d.H.useHostTransitionStatus()},$t.version="19.2.4",$t}var j0;function ST(){if(j0)return Md.exports;j0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Md.exports=xT(),Md.exports}var k0;function wT(){if(k0)return go;k0=1;var s=TT(),e=ym(),i=ST();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),t;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var y=!1,E=h.child;E;){if(E===r){y=!0,r=h,l=f;break}if(E===l){y=!0,l=h,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=h;break}if(E===l){y=!0,l=f,r=h;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),le=Symbol.for("react.consumer"),he=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case ie:return"Profiler";case P:return"StrictMode";case re:return"Suspense";case F:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case X:return"Portal";case he:return t.displayName||"Context";case le:return(t._context.displayName||"Context")+".Consumer";case G:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S:return n=t.displayName||null,n!==null?n:ve(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return ve(t(n))}catch{}}return null}var Ae=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},oe=[],me=-1;function M(t){return{current:t}}function J(t){0>me||(t.current=oe[me],oe[me]=null,me--)}function se(t,n){me++,oe[me]=t.current,t.current=n}var ce=M(null),fe=M(null),Te=M(null),Ie=M(null);function de(t,n){switch(se(Te,n),se(fe,t),se(ce,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Jy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Jy(n),t=Zy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ce),se(ce,t)}function xe(){J(ce),J(fe),J(Te)}function rn(t){t.memoizedState!==null&&se(Ie,t);var n=ce.current,r=Zy(n,t.type);n!==r&&(se(fe,t),se(ce,r))}function Ya(t){fe.current===t&&(J(ce),J(fe)),Ie.current===t&&(J(Ie),uo._currentValue=te)}var Qa,Ka;function ti(t){if(Qa===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Qa=n&&n[1]||"",Ka=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qa+t+Ka}var ul=!1;function aa(t,n){if(!t||ul)return"";ul=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var H=$}Reflect.construct(t,[],ee)}else{try{ee.call()}catch($){H=$}t.call(ee.prototype)}}else{try{throw Error()}catch($){H=$}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&H&&typeof $.stack=="string")return[$.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var D=y.split(`
`),q=E.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===q.length)for(l=D.length-1,h=q.length-1;1<=l&&0<=h&&D[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==q[h]){var Z=`
`+D[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{ul=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ti(r):""}function cl(t,n){switch(t.tag){case 26:case 27:case 5:return ti(t.type);case 16:return ti("Lazy");case 13:return t.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return aa(t.type,!1);case 11:return aa(t.type.render,!1);case 1:return aa(t.type,!0);case 31:return ti("Activity");default:return""}}function hl(t){try{var n="",r=null;do n+=cl(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Mt=s.unstable_scheduleCallback,as=s.unstable_cancelCallback,Rh=s.unstable_shouldYield,Xo=s.unstable_requestPaint,tn=s.unstable_now,ra=s.unstable_getCurrentPriorityLevel,fl=s.unstable_ImmediatePriority,dl=s.unstable_UserBlockingPriority,rs=s.unstable_NormalPriority,Nh=s.unstable_LowPriority,$o=s.unstable_IdlePriority,Jo=s.log,Zo=s.unstable_setDisableYieldValue,zn=null,Bt=null;function An(t){if(typeof Jo=="function"&&Zo(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(zn,t)}catch{}}var gt=Math.clz32?Math.clz32:eu,Wo=Math.log,Xa=Math.LN2;function eu(t){return t>>>=0,t===0?32:31-(Wo(t)/Xa|0)|0}var ni=256,la=262144,Et=4194304;function ii(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function si(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ii(l):(y&=E,y!==0?h=ii(y):r||(r=E&~t,r!==0&&(h=ii(r))))):(E=l&~f,E!==0?h=ii(E):y!==0?h=ii(y):r||(r=l&~t,r!==0&&(h=ii(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Bn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ih(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function ai(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function oa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Dh(t,n,r,l,h,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,D=t.expirationTimes,q=t.hiddenUpdates;for(r=y&~r;0<r;){var Z=31-gt(r),ee=1<<Z;E[Z]=0,D[Z]=-1;var H=q[Z];if(H!==null)for(q[Z]=null,Z=0;Z<H.length;Z++){var $=H[Z];$!==null&&($.lane&=-536870913)}r&=~ee}l!==0&&ua(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function ua(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-gt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function ml(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-gt(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function gl(t,n){var r=n&-n;return r=(r&42)!==0?1:ca(r),(r&(t.suspendedLanes|n))!==0?0:r}function ca(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Mi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function nu(){var t=Y.p;return t!==0?t:(t=window.event,t===void 0?32:E0(t.type))}function qn(t,n){var r=Y.p;try{return Y.p=t,n()}finally{Y.p=r}}var Hn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Hn,Lt="__reactProps$"+Hn,ri="__reactContainer$"+Hn,$a="__reactEvents$"+Hn,Mh="__reactListeners$"+Hn,iu="__reactHandles$"+Hn,su="__reactResources$"+Hn,li="__reactMarker$"+Hn;function Ja(t){delete t[Tt],delete t[Lt],delete t[$a],delete t[Mh],delete t[iu]}function oi(t){var n=t[Tt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[ri]||r[Tt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=a0(t);t!==null;){if(r=t[Tt])return r;t=a0(t)}return n}t=r,r=t.parentNode}return null}function Cn(t){if(t=t[Tt]||t[ri]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function pn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function ui(t){var n=t[su];return n||(n=t[su]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xt(t){t[li]=!0}var pl=new Set,yl={};function ci(t,n){hi(t,n),hi(t+"Capture",n)}function hi(t,n){for(yl[t]=n,t=0;t<n.length;t++)pl.add(n[t])}var _l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vl={},bl={};function au(t){return bt.call(bl,t)?!0:bt.call(vl,t)?!1:_l.test(t)?bl[t]=!0:(vl[t]=!0,!1)}function Za(t,n,r){if(au(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function yn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function St(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ls(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function El(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){r=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Je(t){if(!t._valueTracker){var n=ls(t)?"checked":"value";t._valueTracker=El(t,n,""+t[n])}}function ha(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ls(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function fi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fa=/[\n"\\]/g;function ln(t){return t.replace(fa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Wa(t,n,r,l,h,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ut(n)):t.value!==""+Ut(n)&&(t.value=""+Ut(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Tl(t,y,Ut(n)):r!=null?Tl(t,y,Ut(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ut(E):t.removeAttribute("name")}function ru(t,n,r,l,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Je(t);return}r=r!=null?""+Ut(r):"",n=n!=null?""+Ut(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Je(t)}function Tl(t,n,r){n==="number"&&fi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function os(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ut(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function lu(t,n,r){if(n!=null&&(n=""+Ut(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ut(r):""}function us(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(Ae(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ut(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Je(t)}function on(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||ou.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Sl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&xl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&xl(t,f,n[f])}function er(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tr(t){return cs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var wl=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hs=null,di=null;function da(t){var n=Cn(t);if(n&&(t=n.stateNode)){var r=t[Lt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Wa(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ln(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(a(90));Wa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&ha(l)}break e;case"textarea":lu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&os(t,!!r.multiple,n,!1)}}}var nr=!1;function fs(t,n,r){if(nr)return t(n,r);nr=!0;try{var l=t(n);return l}finally{if(nr=!1,(hs!==null||di!==null)&&(nc(),hs&&(n=hs,t=di,di=hs=null,da(n),t)))for(n=0;n<t.length;n++)da(t[n])}}function Gn(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Lt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ma=!1;if(Nn)try{var et={};Object.defineProperty(et,"passive",{get:function(){ma=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{ma=!1}var mi=null,Al=null,ga=null;function Cl(){if(ga)return ga;var t,n=Al,r=n.length,l,h="value"in mi?mi.value:mi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===h[f-l];l++);return ga=h.slice(t,1<l?1-l:void 0)}function pa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Oi(){return!0}function Yn(){return!1}function qt(t){function n(r,l,h,f,y){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:Yn,this.isPropagationStopped=Yn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=qt(Vi),ds=A({},Vi,{view:0,detail:0}),Rl=qt(ds),ms,ir,pi,sr=A({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pi&&(pi&&t.type==="mousemove"?(ms=t.screenX-pi.screenX,ir=t.screenY-pi.screenY):ir=ms=0,pi=t),ms)},movementY:function(t){return"movementY"in t?t.movementY:ir}}),Nl=qt(sr),ya=A({},sr,{dataTransfer:0}),cu=qt(ya),hu=A({},ds,{relatedTarget:0}),_a=qt(hu),Il=A({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=qt(Il),ar=A({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),du=qt(ar),mu=A({},Vi,{data:0}),yi=qt(mu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=yu[t])?!!n[t]:!1}function gs(){return _u}var nn=A({},ds,{key:function(t){if(t.key){var n=gu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=pa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(t){return t.type==="keypress"?pa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vu=qt(nn),bu=A({},sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=qt(bu),u=A({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),m=qt(u),b=A({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=qt(b),z=A({},sr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=qt(z),ue=A({},Vi,{newState:0,oldState:0}),Oe=qt(ue),pt=[9,13,27,32],Ke=Nn&&"CompositionEvent"in window,ot=null;Nn&&"documentMode"in document&&(ot=document.documentMode);var In=Nn&&"TextEvent"in window&&!ot,_i=Nn&&(!Ke||ot&&8<ot&&11>=ot),Qn=" ",Kn=!1;function va(t,n){switch(t){case"keyup":return pt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lr=!1;function qb(t,n){switch(t){case"compositionend":return rr(n);case"keypress":return n.which!==32?null:(Kn=!0,Qn);case"textInput":return t=n.data,t===Qn&&Kn?null:t;default:return null}}function Hb(t,n){if(lr)return t==="compositionend"||!Ke&&va(t,n)?(t=Cl(),ga=Al=mi=null,lr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _i&&n.locale!=="ko"?null:n.data;default:return null}}var Fb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function og(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Fb[t.type]:n==="textarea"}function ug(t,n,r,l){hs?di?di.push(l):di=[l]:hs=l,n=uc(n,"onChange"),0<n.length&&(r=new gi("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Dl=null,Ml=null;function Gb(t){Gy(t,0)}function Eu(t){var n=pn(t);if(ha(n))return t}function cg(t,n){if(t==="change")return n}var hg=!1;if(Nn){var Oh;if(Nn){var Vh="oninput"in document;if(!Vh){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),Vh=typeof fg.oninput=="function"}Oh=Vh}else Oh=!1;hg=Oh&&(!document.documentMode||9<document.documentMode)}function dg(){Dl&&(Dl.detachEvent("onpropertychange",mg),Ml=Dl=null)}function mg(t){if(t.propertyName==="value"&&Eu(Ml)){var n=[];ug(n,Ml,t,Rn(t)),fs(Gb,n)}}function Yb(t,n,r){t==="focusin"?(dg(),Dl=n,Ml=r,Dl.attachEvent("onpropertychange",mg)):t==="focusout"&&dg()}function Qb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eu(Ml)}function Kb(t,n){if(t==="click")return Eu(n)}function Xb(t,n){if(t==="input"||t==="change")return Eu(n)}function $b(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var _n=typeof Object.is=="function"?Object.is:$b;function Ol(t,n){if(_n(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!bt.call(n,h)||!_n(t[h],n[h]))return!1}return!0}function gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pg(t,n){var r=gg(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gg(r)}}function yg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?yg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function _g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=fi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=fi(t.document)}return n}function jh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Jb=Nn&&"documentMode"in document&&11>=document.documentMode,or=null,kh=null,Vl=null,Lh=!1;function vg(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lh||or==null||or!==fi(l)||(l=or,"selectionStart"in l&&jh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Vl&&Ol(Vl,l)||(Vl=l,l=uc(kh,"onSelect"),0<l.length&&(n=new gi("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=or)))}function ba(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ur={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},Uh={},bg={};Nn&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function Ea(t){if(Uh[t])return Uh[t];if(!ur[t])return t;var n=ur[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in bg)return Uh[t]=n[r];return t}var Eg=Ea("animationend"),Tg=Ea("animationiteration"),xg=Ea("animationstart"),Zb=Ea("transitionrun"),Wb=Ea("transitionstart"),eE=Ea("transitioncancel"),Sg=Ea("transitionend"),wg=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function Xn(t,n){wg.set(t,n),ci(n,[t])}var Tu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],cr=0,zh=0;function xu(){for(var t=cr,n=zh=cr=0;n<t;){var r=Dn[n];Dn[n++]=null;var l=Dn[n];Dn[n++]=null;var h=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}f!==0&&Ag(r,h,f)}}function Su(t,n,r,l){Dn[cr++]=t,Dn[cr++]=n,Dn[cr++]=r,Dn[cr++]=l,zh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Bh(t,n,r,l){return Su(t,n,r,l),wu(t)}function Ta(t,n){return Su(t,null,null,n),wu(t)}function Ag(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-gt(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function wu(t){if(50<no)throw no=0,Jf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var hr={};function tE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,n,r,l){return new tE(t,n,r,l)}function qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,n){var r=t.alternate;return r===null?(r=vn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Cg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Au(t,n,r,l,h,f){var y=0;if(l=t,typeof t=="function")qh(t)&&(y=1);else if(typeof t=="string")y=rT(t,r,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=vn(31,r,n,h),t.elementType=C,t.lanes=f,t;case Q:return xa(r.children,h,f,n);case P:y=8,h|=24;break;case ie:return t=vn(12,r,n,h|2),t.elementType=ie,t.lanes=f,t;case re:return t=vn(13,r,n,h),t.elementType=re,t.lanes=f,t;case F:return t=vn(19,r,n,h),t.elementType=F,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case he:y=10;break e;case le:y=9;break e;case G:y=11;break e;case S:y=14;break e;case w:y=16,l=null;break e}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=vn(y,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function xa(t,n,r,l){return t=vn(7,t,l,n),t.lanes=r,t}function Hh(t,n,r){return t=vn(6,t,null,n),t.lanes=r,t}function Rg(t){var n=vn(18,null,null,0);return n.stateNode=t,n}function Fh(t,n,r){return n=vn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ng=new WeakMap;function Mn(t,n){if(typeof t=="object"&&t!==null){var r=Ng.get(t);return r!==void 0?r:(n={value:t,source:n,stack:hl(n)},Ng.set(t,n),n)}return{value:t,source:n,stack:hl(n)}}var fr=[],dr=0,Cu=null,jl=0,On=[],Vn=0,ps=null,vi=1,bi="";function Li(t,n){fr[dr++]=jl,fr[dr++]=Cu,Cu=t,jl=n}function Ig(t,n,r){On[Vn++]=vi,On[Vn++]=bi,On[Vn++]=ps,ps=t;var l=vi;t=bi;var h=32-gt(l)-1;l&=~(1<<h),r+=1;var f=32-gt(n)+h;if(30<f){var y=h-h%5;f=(l&(1<<y)-1).toString(32),l>>=y,h-=y,vi=1<<32-gt(n)+h|r<<h|l,bi=f+t}else vi=1<<f|r<<h|l,bi=t}function Gh(t){t.return!==null&&(Li(t,1),Ig(t,1,0))}function Yh(t){for(;t===Cu;)Cu=fr[--dr],fr[dr]=null,jl=fr[--dr],fr[dr]=null;for(;t===ps;)ps=On[--Vn],On[Vn]=null,bi=On[--Vn],On[Vn]=null,vi=On[--Vn],On[Vn]=null}function Dg(t,n){On[Vn++]=vi,On[Vn++]=bi,On[Vn++]=ps,vi=n.id,bi=n.overflow,ps=t}var Ht=null,at=null,He=!1,ys=null,jn=!1,Qh=Error(a(519));function _s(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kl(Mn(n,t)),Qh}function Mg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Tt]=t,n[Lt]=l,r){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(r=0;r<so.length;r++)Le(so[r],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Le("invalid",n),ru(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",n);break;case"textarea":Le("invalid",n),us(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Xy(n.textContent,r)?(l.popover!=null&&(Le("beforetoggle",n),Le("toggle",n)),l.onScroll!=null&&Le("scroll",n),l.onScrollEnd!=null&&Le("scrollend",n),l.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||_s(t,!0)}function Og(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Ht=Ht.return}}function mr(t){if(t!==Ht)return!1;if(!He)return Og(t),He=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||fd(t.type,t.memoizedProps)),r=!r),r&&at&&_s(t),Og(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));at=s0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));at=s0(t)}else n===27?(n=at,Ms(t.type)?(t=yd,yd=null,at=t):at=n):at=Ht?Ln(t.stateNode.nextSibling):null;return!0}function Sa(){at=Ht=null,He=!1}function Kh(){var t=ys;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),ys=null),t}function kl(t){ys===null?ys=[t]:ys.push(t)}var Xh=M(null),wa=null,Ui=null;function vs(t,n,r){se(Xh,n._currentValue),n._currentValue=r}function Pi(t){t._currentValue=Xh.current,J(Xh)}function $h(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Jh(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var D=0;D<n.length;D++)if(E.context===n[D]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),$h(f.return,r,t),l||(y=null);break e}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),$h(y,r,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function gr(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=h.type;_n(h.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ie.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(uo):t=[uo])}h=h.return}t!==null&&Jh(n,t,r,l),n.flags|=262144}function Ru(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Aa(t){wa=t,Ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Vg(wa,t)}function Nu(t,n){return wa===null&&Aa(t),Vg(t,n)}function Vg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ui===null){if(t===null)throw Error(a(308));Ui=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ui=Ui.next=n;return r}var nE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},iE=s.unstable_scheduleCallback,sE=s.unstable_NormalPriority,wt={$$typeof:he,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new nE,data:new Map,refCount:0}}function Ll(t){t.refCount--,t.refCount===0&&iE(sE,function(){t.controller.abort()})}var Ul=null,Wh=0,pr=0,yr=null;function aE(t,n){if(Ul===null){var r=Ul=[];Wh=0,pr=id(),yr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Wh++,n.then(jg,jg),n}function jg(){if(--Wh===0&&Ul!==null){yr!==null&&(yr.status="fulfilled");var t=Ul;Ul=null,pr=0,yr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function rE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var kg=j.S;j.S=function(t,n){vy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&aE(t,n),kg!==null&&kg(t,n)};var Ca=M(null);function ef(){var t=Ca.current;return t!==null?t:st.pooledCache}function Iu(t,n){n===null?se(Ca,Ca.current):se(Ca,n.pool)}function Lg(){var t=ef();return t===null?null:{parent:wt._currentValue,pool:t}}var _r=Error(a(460)),tf=Error(a(474)),Du=Error(a(542)),Mu={then:function(){}};function Ug(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Fn,Fn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bg(t),t;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bg(t),t}throw Na=n,_r}}function Ra(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Na=r,_r):r}}var Na=null;function zg(){if(Na===null)throw Error(a(459));var t=Na;return Na=null,t}function Bg(t){if(t===_r||t===Du)throw Error(a(483))}var vr=null,Pl=0;function Ou(t){var n=Pl;return Pl+=1,vr===null&&(vr=[]),Pg(vr,t,n)}function zl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Vu(t,n){throw n.$$typeof===N?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function qg(t){function n(U,k){if(t){var B=U.deletions;B===null?(U.deletions=[k],U.flags|=16):B.push(k)}}function r(U,k){if(!t)return null;for(;k!==null;)n(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function h(U,k){return U=ki(U,k),U.index=0,U.sibling=null,U}function f(U,k,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<k?(U.flags|=67108866,k):B):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,k,B,W){return k===null||k.tag!==6?(k=Hh(B,U.mode,W),k.return=U,k):(k=h(k,B),k.return=U,k)}function D(U,k,B,W){var Ee=B.type;return Ee===Q?Z(U,k,B.props.children,W,B.key):k!==null&&(k.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===w&&Ra(Ee)===k.type)?(k=h(k,B.props),zl(k,B),k.return=U,k):(k=Au(B.type,B.key,B.props,null,U.mode,W),zl(k,B),k.return=U,k)}function q(U,k,B,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==B.containerInfo||k.stateNode.implementation!==B.implementation?(k=Fh(B,U.mode,W),k.return=U,k):(k=h(k,B.children||[]),k.return=U,k)}function Z(U,k,B,W,Ee){return k===null||k.tag!==7?(k=xa(B,U.mode,W,Ee),k.return=U,k):(k=h(k,B),k.return=U,k)}function ee(U,k,B){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Hh(""+k,U.mode,B),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case L:return B=Au(k.type,k.key,k.props,null,U.mode,B),zl(B,k),B.return=U,B;case X:return k=Fh(k,U.mode,B),k.return=U,k;case w:return k=Ra(k),ee(U,k,B)}if(Ae(k)||V(k))return k=xa(k,U.mode,B,null),k.return=U,k;if(typeof k.then=="function")return ee(U,Ou(k),B);if(k.$$typeof===he)return ee(U,Nu(U,k),B);Vu(U,k)}return null}function H(U,k,B,W){var Ee=k!==null?k.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Ee!==null?null:E(U,k,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case L:return B.key===Ee?D(U,k,B,W):null;case X:return B.key===Ee?q(U,k,B,W):null;case w:return B=Ra(B),H(U,k,B,W)}if(Ae(B)||V(B))return Ee!==null?null:Z(U,k,B,W,null);if(typeof B.then=="function")return H(U,k,Ou(B),W);if(B.$$typeof===he)return H(U,k,Nu(U,B),W);Vu(U,B)}return null}function $(U,k,B,W,Ee){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(B)||null,E(k,U,""+W,Ee);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case L:return U=U.get(W.key===null?B:W.key)||null,D(k,U,W,Ee);case X:return U=U.get(W.key===null?B:W.key)||null,q(k,U,W,Ee);case w:return W=Ra(W),$(U,k,B,W,Ee)}if(Ae(W)||V(W))return U=U.get(B)||null,Z(k,U,W,Ee,null);if(typeof W.then=="function")return $(U,k,B,Ou(W),Ee);if(W.$$typeof===he)return $(U,k,B,Nu(k,W),Ee);Vu(k,W)}return null}function pe(U,k,B,W){for(var Ee=null,Ye=null,ye=k,je=k=0,Pe=null;ye!==null&&je<B.length;je++){ye.index>je?(Pe=ye,ye=null):Pe=ye.sibling;var Qe=H(U,ye,B[je],W);if(Qe===null){ye===null&&(ye=Pe);break}t&&ye&&Qe.alternate===null&&n(U,ye),k=f(Qe,k,je),Ye===null?Ee=Qe:Ye.sibling=Qe,Ye=Qe,ye=Pe}if(je===B.length)return r(U,ye),He&&Li(U,je),Ee;if(ye===null){for(;je<B.length;je++)ye=ee(U,B[je],W),ye!==null&&(k=f(ye,k,je),Ye===null?Ee=ye:Ye.sibling=ye,Ye=ye);return He&&Li(U,je),Ee}for(ye=l(ye);je<B.length;je++)Pe=$(ye,U,je,B[je],W),Pe!==null&&(t&&Pe.alternate!==null&&ye.delete(Pe.key===null?je:Pe.key),k=f(Pe,k,je),Ye===null?Ee=Pe:Ye.sibling=Pe,Ye=Pe);return t&&ye.forEach(function(Ls){return n(U,Ls)}),He&&Li(U,je),Ee}function we(U,k,B,W){if(B==null)throw Error(a(151));for(var Ee=null,Ye=null,ye=k,je=k=0,Pe=null,Qe=B.next();ye!==null&&!Qe.done;je++,Qe=B.next()){ye.index>je?(Pe=ye,ye=null):Pe=ye.sibling;var Ls=H(U,ye,Qe.value,W);if(Ls===null){ye===null&&(ye=Pe);break}t&&ye&&Ls.alternate===null&&n(U,ye),k=f(Ls,k,je),Ye===null?Ee=Ls:Ye.sibling=Ls,Ye=Ls,ye=Pe}if(Qe.done)return r(U,ye),He&&Li(U,je),Ee;if(ye===null){for(;!Qe.done;je++,Qe=B.next())Qe=ee(U,Qe.value,W),Qe!==null&&(k=f(Qe,k,je),Ye===null?Ee=Qe:Ye.sibling=Qe,Ye=Qe);return He&&Li(U,je),Ee}for(ye=l(ye);!Qe.done;je++,Qe=B.next())Qe=$(ye,U,je,Qe.value,W),Qe!==null&&(t&&Qe.alternate!==null&&ye.delete(Qe.key===null?je:Qe.key),k=f(Qe,k,je),Ye===null?Ee=Qe:Ye.sibling=Qe,Ye=Qe);return t&&ye.forEach(function(yT){return n(U,yT)}),He&&Li(U,je),Ee}function it(U,k,B,W){if(typeof B=="object"&&B!==null&&B.type===Q&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case L:e:{for(var Ee=B.key;k!==null;){if(k.key===Ee){if(Ee=B.type,Ee===Q){if(k.tag===7){r(U,k.sibling),W=h(k,B.props.children),W.return=U,U=W;break e}}else if(k.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===w&&Ra(Ee)===k.type){r(U,k.sibling),W=h(k,B.props),zl(W,B),W.return=U,U=W;break e}r(U,k);break}else n(U,k);k=k.sibling}B.type===Q?(W=xa(B.props.children,U.mode,W,B.key),W.return=U,U=W):(W=Au(B.type,B.key,B.props,null,U.mode,W),zl(W,B),W.return=U,U=W)}return y(U);case X:e:{for(Ee=B.key;k!==null;){if(k.key===Ee)if(k.tag===4&&k.stateNode.containerInfo===B.containerInfo&&k.stateNode.implementation===B.implementation){r(U,k.sibling),W=h(k,B.children||[]),W.return=U,U=W;break e}else{r(U,k);break}else n(U,k);k=k.sibling}W=Fh(B,U.mode,W),W.return=U,U=W}return y(U);case w:return B=Ra(B),it(U,k,B,W)}if(Ae(B))return pe(U,k,B,W);if(V(B)){if(Ee=V(B),typeof Ee!="function")throw Error(a(150));return B=Ee.call(B),we(U,k,B,W)}if(typeof B.then=="function")return it(U,k,Ou(B),W);if(B.$$typeof===he)return it(U,k,Nu(U,B),W);Vu(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,k!==null&&k.tag===6?(r(U,k.sibling),W=h(k,B),W.return=U,U=W):(r(U,k),W=Hh(B,U.mode,W),W.return=U,U=W),y(U)):r(U,k)}return function(U,k,B,W){try{Pl=0;var Ee=it(U,k,B,W);return vr=null,Ee}catch(ye){if(ye===_r||ye===Du)throw ye;var Ye=vn(29,ye,null,U.mode);return Ye.lanes=W,Ye.return=U,Ye}}}var Ia=qg(!0),Hg=qg(!1),bs=!1;function nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Es(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ts(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=wu(t),Ag(t,null,r),n}return Su(t,l,n,r),wu(t)}function Bl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ml(t,r)}}function af(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var rf=!1;function ql(){if(rf){var t=yr;if(t!==null)throw t}}function Hl(t,n,r,l){rf=!1;var h=t.updateQueue;bs=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var D=E,q=D.next;D.next=null,y===null?f=q:y.next=q,y=D;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,E=Z.lastBaseUpdate,E!==y&&(E===null?Z.firstBaseUpdate=q:E.next=q,Z.lastBaseUpdate=D))}if(f!==null){var ee=h.baseState;y=0,Z=q=D=null,E=f;do{var H=E.lane&-536870913,$=H!==E.lane;if($?(Ue&H)===H:(l&H)===H){H!==0&&H===pr&&(rf=!0),Z!==null&&(Z=Z.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var pe=t,we=E;H=n;var it=r;switch(we.tag){case 1:if(pe=we.payload,typeof pe=="function"){ee=pe.call(it,ee,H);break e}ee=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=we.payload,H=typeof pe=="function"?pe.call(it,ee,H):pe,H==null)break e;ee=A({},ee,H);break e;case 2:bs=!0}}H=E.callback,H!==null&&(t.flags|=64,$&&(t.flags|=8192),$=h.callbacks,$===null?h.callbacks=[H]:$.push(H))}else $={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Z===null?(q=Z=$,D=ee):Z=Z.next=$,y|=H;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;$=E,E=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);Z===null&&(D=ee),h.baseState=D,h.firstBaseUpdate=q,h.lastBaseUpdate=Z,f===null&&(h.shared.lanes=0),Cs|=y,t.lanes=y,t.memoizedState=ee}}function Fg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Gg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Fg(r[t],n)}var br=M(null),ju=M(0);function Yg(t,n){t=Ki,se(ju,t),se(br,n),Ki=t|n.baseLanes}function lf(){se(ju,Ki),se(br,br.current)}function of(){Ki=ju.current,J(br),J(ju)}var bn=M(null),kn=null;function xs(t){var n=t.alternate;se(yt,yt.current&1),se(bn,t),kn===null&&(n===null||br.current!==null||n.memoizedState!==null)&&(kn=t)}function uf(t){se(yt,yt.current),se(bn,t),kn===null&&(kn=t)}function Qg(t){t.tag===22?(se(yt,yt.current),se(bn,t),kn===null&&(kn=t)):Ss()}function Ss(){se(yt,yt.current),se(bn,bn.current)}function En(t){J(bn),kn===t&&(kn=null),J(yt)}var yt=M(0);function ku(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||gd(r)||pd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,Ve=null,tt=null,At=null,Lu=!1,Er=!1,Da=!1,Uu=0,Fl=0,Tr=null,lE=0;function dt(){throw Error(a(321))}function cf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!_n(t[r],n[r]))return!1;return!0}function hf(t,n,r,l,h,f){return zi=f,Ve=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=t===null||t.memoizedState===null?Ip:Af,Da=!1,f=r(l,h),Da=!1,Er&&(f=Xg(n,r,l,h)),Kg(t),f}function Kg(t){j.H=Ql;var n=tt!==null&&tt.next!==null;if(zi=0,At=tt=Ve=null,Lu=!1,Fl=0,Tr=null,n)throw Error(a(300));t===null||Ct||(t=t.dependencies,t!==null&&Ru(t)&&(Ct=!0))}function Xg(t,n,r,l){Ve=t;var h=0;do{if(Er&&(Tr=null),Fl=0,Er=!1,25<=h)throw Error(a(301));if(h+=1,At=tt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=Dp,f=n(r,l)}while(Er);return f}function oE(){var t=j.H,n=t.useState()[0];return n=typeof n.then=="function"?Gl(n):n,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Ve.flags|=1024),n}function ff(){var t=Uu!==0;return Uu=0,t}function df(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function mf(t){if(Lu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Lu=!1}zi=0,At=tt=Ve=null,Er=!1,Fl=Uu=0,Tr=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ve.memoizedState=At=t:At=At.next=t,At}function _t(){if(tt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var n=At===null?Ve.memoizedState:At.next;if(n!==null)At=n,tt=t;else{if(t===null)throw Ve.alternate===null?Error(a(467)):Error(a(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},At===null?Ve.memoizedState=At=t:At=At.next=t}return At}function Pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(t){var n=Fl;return Fl+=1,Tr===null&&(Tr=[]),t=Pg(Tr,t,n),n=Ve,(At===null?n.memoizedState:At.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?Ip:Af),t}function zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Gl(t);if(t.$$typeof===he)return Ft(t)}throw Error(a(438,String(t)))}function gf(t){var n=null,r=Ve.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Pu(),Ve.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=O;return n.index++,r}function Bi(t,n){return typeof n=="function"?n(t):n}function Bu(t){var n=_t();return pf(n,tt,t)}function pf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=y=null,D=null,q=n,Z=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(Ue&ee)===ee:(zi&ee)===ee){var H=q.revertLane;if(H===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===pr&&(Z=!0);else if((zi&H)===H){q=q.next,H===pr&&(Z=!0);continue}else ee={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(E=D=ee,y=f):D=D.next=ee,Ve.lanes|=H,Cs|=H;ee=q.action,Da&&r(f,ee),f=q.hasEagerState?q.eagerState:r(f,ee)}else H={lane:ee,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(E=D=H,y=f):D=D.next=H,Ve.lanes|=ee,Cs|=ee;q=q.next}while(q!==null&&q!==n);if(D===null?y=f:D.next=E,!_n(f,t.memoizedState)&&(Ct=!0,Z&&(r=yr,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=D,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function yf(t){var n=_t(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);_n(f,n.memoizedState)||(Ct=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function $g(t,n,r){var l=Ve,h=_t(),f=He;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!_n((tt||h).memoizedState,r);if(y&&(h.memoizedState=r,Ct=!0),h=h.queue,bf(Wg.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,xr(9,{destroy:void 0},Zg.bind(null,l,h,r,n),null),st===null)throw Error(a(349));f||(zi&127)!==0||Jg(l,n,r)}return r}function Jg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ve.updateQueue,n===null?(n=Pu(),Ve.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Zg(t,n,r,l){n.value=r,n.getSnapshot=l,ep(n)&&tp(t)}function Wg(t,n,r){return r(function(){ep(n)&&tp(t)})}function ep(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!_n(t,r)}catch{return!0}}function tp(t){var n=Ta(t,2);n!==null&&dn(n,t,2)}function _f(t){var n=sn();if(typeof t=="function"){var r=t;if(t=r(),Da){An(!0);try{r()}finally{An(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},n}function np(t,n,r,l){return t.baseState=r,pf(t,tt,typeof l=="function"?l:Bi)}function uE(t,n,r,l,h){if(Fu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};j.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,ip(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ip(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=j.T,y={};j.T=y;try{var E=r(h,l),D=j.S;D!==null&&D(y,E),sp(t,n,E)}catch(q){vf(t,n,q)}finally{f!==null&&y.types!==null&&(f.types=y.types),j.T=f}}else try{f=r(h,l),sp(t,n,f)}catch(q){vf(t,n,q)}}function sp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){ap(t,n,l)},function(l){return vf(t,n,l)}):ap(t,n,r)}function ap(t,n,r){n.status="fulfilled",n.value=r,rp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,ip(t,r)))}function vf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,rp(n),n=n.next;while(n!==l)}t.action=null}function rp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function lp(t,n){return n}function op(t,n){if(He){var r=st.formState;if(r!==null){e:{var l=Ve;if(He){if(at){t:{for(var h=at,f=jn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){at=Ln(h.nextSibling),l=h.data==="F!";break e}}_s(l)}l=!1}l&&(n=r[0])}}return r=sn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lp,lastRenderedState:n},r.queue=l,r=Cp.bind(null,Ve,l),l.dispatch=r,l=_f(!1),f=wf.bind(null,Ve,!1,l.queue),l=sn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=uE.bind(null,Ve,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function up(t){var n=_t();return cp(n,tt,t)}function cp(t,n,r){if(n=pf(t,n,lp)[0],t=Bu(Bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Gl(n)}catch(y){throw y===_r?Du:y}else l=n;n=_t();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ve.flags|=2048,xr(9,{destroy:void 0},cE.bind(null,h,r),null)),[l,f,t]}function cE(t,n){t.action=n}function hp(t){var n=_t(),r=tt;if(r!==null)return cp(n,r,t);_t(),n=n.memoizedState,r=_t();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function xr(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ve.updateQueue,n===null&&(n=Pu(),Ve.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function fp(){return _t().memoizedState}function qu(t,n,r,l){var h=sn();Ve.flags|=t,h.memoizedState=xr(1|n,{destroy:void 0},r,l===void 0?null:l)}function Hu(t,n,r,l){var h=_t();l=l===void 0?null:l;var f=h.memoizedState.inst;tt!==null&&l!==null&&cf(l,tt.memoizedState.deps)?h.memoizedState=xr(n,f,r,l):(Ve.flags|=t,h.memoizedState=xr(1|n,f,r,l))}function dp(t,n){qu(8390656,8,t,n)}function bf(t,n){Hu(2048,8,t,n)}function hE(t){Ve.flags|=4;var n=Ve.updateQueue;if(n===null)n=Pu(),Ve.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function mp(t){var n=_t().memoizedState;return hE({ref:n,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function gp(t,n){return Hu(4,2,t,n)}function pp(t,n){return Hu(4,4,t,n)}function yp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function _p(t,n,r){r=r!=null?r.concat([t]):null,Hu(4,4,yp.bind(null,n,t),r)}function Ef(){}function vp(t,n){var r=_t();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&cf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function bp(t,n){var r=_t();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&cf(n,l[1]))return l[0];if(l=t(),Da){An(!0);try{t()}finally{An(!1)}}return r.memoizedState=[l,n],l}function Tf(t,n,r){return r===void 0||(zi&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Ey(),Ve.lanes|=t,Cs|=t,r)}function Ep(t,n,r,l){return _n(r,n)?r:br.current!==null?(t=Tf(t,r,l),_n(t,n)||(Ct=!0),t):(zi&42)===0||(zi&1073741824)!==0&&(Ue&261930)===0?(Ct=!0,t.memoizedState=r):(t=Ey(),Ve.lanes|=t,Cs|=t,n)}function Tp(t,n,r,l,h){var f=Y.p;Y.p=f!==0&&8>f?f:8;var y=j.T,E={};j.T=E,wf(t,!1,n,r);try{var D=h(),q=j.S;if(q!==null&&q(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=rE(D,l);Yl(t,n,Z,Sn(t))}else Yl(t,n,l,Sn(t))}catch(ee){Yl(t,n,{then:function(){},status:"rejected",reason:ee},Sn())}finally{Y.p=f,y!==null&&E.types!==null&&(y.types=E.types),j.T=y}}function fE(){}function xf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=xp(t).queue;Tp(t,h,n,te,r===null?fE:function(){return Sp(t),r(l)})}function xp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:te},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Sp(t){var n=xp(t);n.next===null&&(n=t.alternate.memoizedState),Yl(t,n.next.queue,{},Sn())}function Sf(){return Ft(uo)}function wp(){return _t().memoizedState}function Ap(){return _t().memoizedState}function dE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Sn();t=Es(r);var l=Ts(n,t,r);l!==null&&(dn(l,n,r),Bl(l,n,r)),n={cache:Zh()},t.payload=n;return}n=n.return}}function mE(t,n,r){var l=Sn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Fu(t)?Rp(n,r):(r=Bh(t,n,r,l),r!==null&&(dn(r,t,l),Np(r,n,l)))}function Cp(t,n,r){var l=Sn();Yl(t,n,r,l)}function Yl(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fu(t))Rp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(h.hasEagerState=!0,h.eagerState=E,_n(E,y))return Su(t,n,h,0),st===null&&xu(),!1}catch{}if(r=Bh(t,n,h,l),r!==null)return dn(r,t,l),Np(r,n,l),!0}return!1}function wf(t,n,r,l){if(l={lane:2,revertLane:id(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fu(t)){if(n)throw Error(a(479))}else n=Bh(t,r,l,2),n!==null&&dn(n,t,2)}function Fu(t){var n=t.alternate;return t===Ve||n!==null&&n===Ve}function Rp(t,n){Er=Lu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Np(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ml(t,r)}}var Ql={readContext:Ft,use:zu,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};Ql.useEffectEvent=dt;var Ip={readContext:Ft,use:zu,useCallback:function(t,n){return sn().memoizedState=[t,n===void 0?null:n],t},useContext:Ft,useEffect:dp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,qu(4194308,4,yp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return qu(4194308,4,t,n)},useInsertionEffect:function(t,n){qu(4,2,t,n)},useMemo:function(t,n){var r=sn();n=n===void 0?null:n;var l=t();if(Da){An(!0);try{t()}finally{An(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=sn();if(r!==void 0){var h=r(n);if(Da){An(!0);try{r(n)}finally{An(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=mE.bind(null,Ve,t),[l.memoizedState,t]},useRef:function(t){var n=sn();return t={current:t},n.memoizedState=t},useState:function(t){t=_f(t);var n=t.queue,r=Cp.bind(null,Ve,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Ef,useDeferredValue:function(t,n){var r=sn();return Tf(r,t,n)},useTransition:function(){var t=_f(!1);return t=Tp.bind(null,Ve,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ve,h=sn();if(He){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),st===null)throw Error(a(349));(Ue&127)!==0||Jg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,dp(Wg.bind(null,l,f,t),[t]),l.flags|=2048,xr(9,{destroy:void 0},Zg.bind(null,l,f,r,n),null),r},useId:function(){var t=sn(),n=st.identifierPrefix;if(He){var r=bi,l=vi;r=(l&~(1<<32-gt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Uu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=lE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Sf,useFormState:op,useActionState:op,useOptimistic:function(t){var n=sn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=wf.bind(null,Ve,!0,r),r.dispatch=n,[t,n]},useMemoCache:gf,useCacheRefresh:function(){return sn().memoizedState=dE.bind(null,Ve)},useEffectEvent:function(t){var n=sn(),r={impl:t};return n.memoizedState=r,function(){if((Xe&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Af={readContext:Ft,use:zu,useCallback:vp,useContext:Ft,useEffect:bf,useImperativeHandle:_p,useInsertionEffect:gp,useLayoutEffect:pp,useMemo:bp,useReducer:Bu,useRef:fp,useState:function(){return Bu(Bi)},useDebugValue:Ef,useDeferredValue:function(t,n){var r=_t();return Ep(r,tt.memoizedState,t,n)},useTransition:function(){var t=Bu(Bi)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:Gl(t),n]},useSyncExternalStore:$g,useId:wp,useHostTransitionStatus:Sf,useFormState:up,useActionState:up,useOptimistic:function(t,n){var r=_t();return np(r,tt,t,n)},useMemoCache:gf,useCacheRefresh:Ap};Af.useEffectEvent=mp;var Dp={readContext:Ft,use:zu,useCallback:vp,useContext:Ft,useEffect:bf,useImperativeHandle:_p,useInsertionEffect:gp,useLayoutEffect:pp,useMemo:bp,useReducer:yf,useRef:fp,useState:function(){return yf(Bi)},useDebugValue:Ef,useDeferredValue:function(t,n){var r=_t();return tt===null?Tf(r,t,n):Ep(r,tt.memoizedState,t,n)},useTransition:function(){var t=yf(Bi)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:Gl(t),n]},useSyncExternalStore:$g,useId:wp,useHostTransitionStatus:Sf,useFormState:hp,useActionState:hp,useOptimistic:function(t,n){var r=_t();return tt!==null?np(r,tt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:gf,useCacheRefresh:Ap};Dp.useEffectEvent=mp;function Cf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Rf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Sn(),h=Es(l);h.payload=n,r!=null&&(h.callback=r),n=Ts(t,h,l),n!==null&&(dn(n,t,l),Bl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Sn(),h=Es(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ts(t,h,l),n!==null&&(dn(n,t,l),Bl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Sn(),l=Es(r);l.tag=2,n!=null&&(l.callback=n),n=Ts(t,l,r),n!==null&&(dn(n,t,r),Bl(n,t,r))}};function Mp(t,n,r,l,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ol(r,l)||!Ol(h,f):!0}function Op(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Rf.enqueueReplaceState(n,n.state,null)}function Ma(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Vp(t){Tu(t)}function jp(t){console.error(t)}function kp(t){Tu(t)}function Gu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Lp(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(t,n,r){return r=Es(r),r.tag=3,r.payload={element:null},r.callback=function(){Gu(t,n)},r}function Up(t){return t=Es(t),t.tag=3,t}function Pp(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Lp(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Lp(n,r,l),typeof h!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function gE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&gr(n,r,h,!0),r=bn.current,r!==null){switch(r.tag){case 31:case 13:return kn===null?ic():r.alternate===null&&mt===0&&(mt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Mu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),ed(t,l,h)),!1;case 22:return r.flags|=65536,l===Mu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),ed(t,l,h)),!1}throw Error(a(435,r.tag))}return ed(t,l,h),ic(),!1}if(He)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Qh&&(t=Error(a(422),{cause:l}),kl(Mn(t,r)))):(l!==Qh&&(n=Error(a(423),{cause:l}),kl(Mn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Mn(l,r),h=Nf(t.stateNode,l,h),af(t,h),mt!==4&&(mt=2)),!1;var f=Error(a(520),{cause:l});if(f=Mn(f,r),to===null?to=[f]:to.push(f),mt!==4&&(mt=2),n===null)return!0;l=Mn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Nf(r.stateNode,l,t),af(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Up(h),Pp(h,t,r,l),af(r,h),!1}r=r.return}while(r!==null);return!1}var If=Error(a(461)),Ct=!1;function Gt(t,n,r,l){n.child=t===null?Hg(n,null,r,l):Ia(n,t.child,r,l)}function zp(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Aa(n),l=hf(t,n,r,y,f,h),E=ff(),t!==null&&!Ct?(df(t,n,h),qi(t,n,h)):(He&&E&&Gh(n),n.flags|=1,Gt(t,n,l,h),n.child)}function Bp(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,qp(t,n,f,l,h)):(t=Au(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Uf(t,h)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ol,r(y,l)&&t.ref===n.ref)return qi(t,n,h)}return n.flags|=1,t=ki(f,l),t.ref=n.ref,t.return=n,n.child=t}function qp(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Ol(f,l)&&t.ref===n.ref)if(Ct=!1,n.pendingProps=l=f,Uf(t,h))(t.flags&131072)!==0&&(Ct=!0);else return n.lanes=t.lanes,qi(t,n,h)}return Df(t,n,r,l,h)}function Hp(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Fp(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Iu(n,f!==null?f.cachePool:null),f!==null?Yg(n,f):lf(),Qg(n);else return l=n.lanes=536870912,Fp(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Iu(n,f.cachePool),Yg(n,f),Ss(),n.memoizedState=null):(t!==null&&Iu(n,null),lf(),Ss());return Gt(t,n,h,r),n.child}function Kl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Fp(t,n,r,l,h){var f=ef();return f=f===null?null:{parent:wt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Iu(n,null),lf(),Qg(n),t!==null&&gr(t,n,l,!0),n.childLanes=h,null}function Yu(t,n){return n=Ku({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Gp(t,n,r){return Ia(n,t.child,null,r),t=Yu(n,n.pendingProps),t.flags|=2,En(n),n.memoizedState=null,t}function pE(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(He){if(l.mode==="hidden")return t=Yu(n,l),n.lanes=536870912,Kl(null,t);if(uf(n),(t=at)?(t=i0(t,jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ps!==null?{id:vi,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},r=Rg(t),r.return=n,n.child=r,Ht=n,at=null)):t=null,t===null)throw _s(n);return n.lanes=536870912,null}return Yu(n,l)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(uf(n),h)if(n.flags&256)n.flags&=-257,n=Gp(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ct||gr(t,n,r,!1),h=(r&t.childLanes)!==0,Ct||h){if(l=st,l!==null&&(y=gl(l,r),y!==0&&y!==f.retryLane))throw f.retryLane=y,Ta(t,y),dn(l,t,y),If;ic(),n=Gp(t,n,r)}else t=f.treeContext,at=Ln(y.nextSibling),Ht=n,He=!0,ys=null,jn=!1,t!==null&&Dg(n,t),n=Yu(n,l),n.flags|=4096;return n}return t=ki(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Qu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Df(t,n,r,l,h){return Aa(n),r=hf(t,n,r,l,void 0,h),l=ff(),t!==null&&!Ct?(df(t,n,h),qi(t,n,h)):(He&&l&&Gh(n),n.flags|=1,Gt(t,n,r,h),n.child)}function Yp(t,n,r,l,h,f){return Aa(n),n.updateQueue=null,r=Xg(n,l,r,h),Kg(t),l=ff(),t!==null&&!Ct?(df(t,n,f),qi(t,n,f)):(He&&l&&Gh(n),n.flags|=1,Gt(t,n,r,f),n.child)}function Qp(t,n,r,l,h){if(Aa(n),n.stateNode===null){var f=hr,y=r.contextType;typeof y=="object"&&y!==null&&(f=Ft(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},nf(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?Ft(y):hr,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Cf(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Rf.enqueueReplaceState(f,f.state,null),Hl(n,l,f,h),ql(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,D=Ma(r,E);f.props=D;var q=f.context,Z=r.contextType;y=hr,typeof Z=="object"&&Z!==null&&(y=Ft(Z));var ee=r.getDerivedStateFromProps;Z=typeof ee=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||q!==y)&&Op(n,f,l,y),bs=!1;var H=n.memoizedState;f.state=H,Hl(n,l,f,h),ql(),q=n.memoizedState,E||H!==q||bs?(typeof ee=="function"&&(Cf(n,r,ee,l),q=n.memoizedState),(D=bs||Mp(n,r,D,l,H,q,y))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=y,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,sf(t,n),y=n.memoizedProps,Z=Ma(r,y),f.props=Z,ee=n.pendingProps,H=f.context,q=r.contextType,D=hr,typeof q=="object"&&q!==null&&(D=Ft(q)),E=r.getDerivedStateFromProps,(q=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==ee||H!==D)&&Op(n,f,l,D),bs=!1,H=n.memoizedState,f.state=H,Hl(n,l,f,h),ql();var $=n.memoizedState;y!==ee||H!==$||bs||t!==null&&t.dependencies!==null&&Ru(t.dependencies)?(typeof E=="function"&&(Cf(n,r,E,l),$=n.memoizedState),(Z=bs||Mp(n,r,Z,l,H,$,D)||t!==null&&t.dependencies!==null&&Ru(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,$,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,$,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=$),f.props=l,f.state=$,f.context=D,l=Z):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Qu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ia(n,t.child,null,h),n.child=Ia(n,null,r,h)):Gt(t,n,r,h),n.memoizedState=f.state,t=n.child):t=qi(t,n,h),t}function Kp(t,n,r,l){return Sa(),n.flags|=256,Gt(t,n,r,l),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(t){return{baseLanes:t,cachePool:Lg()}}function Vf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=xn),t}function Xp(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(h?xs(n):Ss(),(t=at)?(t=i0(t,jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ps!==null?{id:vi,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},r=Rg(t),r.return=n,n.child=r,Ht=n,at=null)):t=null,t===null)throw _s(n);return pd(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Ss(),h=n.mode,E=Ku({mode:"hidden",children:E},h),l=xa(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Of(r),l.childLanes=Vf(t,y,r),n.memoizedState=Mf,Kl(null,l)):(xs(n),jf(n,E))}var D=t.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(f)n.flags&256?(xs(n),n.flags&=-257,n=kf(t,n,r)):n.memoizedState!==null?(Ss(),n.child=t.child,n.flags|=128,n=null):(Ss(),E=l.fallback,h=n.mode,l=Ku({mode:"visible",children:l.children},h),E=xa(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Ia(n,t.child,null,r),l=n.child,l.memoizedState=Of(r),l.childLanes=Vf(t,y,r),n.memoizedState=Mf,n=Kl(null,l));else if(xs(n),pd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var q=y.dgst;y=q,l=Error(a(419)),l.stack="",l.digest=y,kl({value:l,source:null,stack:null}),n=kf(t,n,r)}else if(Ct||gr(t,n,r,!1),y=(r&t.childLanes)!==0,Ct||y){if(y=st,y!==null&&(l=gl(y,r),l!==0&&l!==D.retryLane))throw D.retryLane=l,Ta(t,l),dn(y,t,l),If;gd(E)||ic(),n=kf(t,n,r)}else gd(E)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,at=Ln(E.nextSibling),Ht=n,He=!0,ys=null,jn=!1,t!==null&&Dg(n,t),n=jf(n,l.children),n.flags|=4096);return n}return h?(Ss(),E=l.fallback,h=n.mode,D=t.child,q=D.sibling,l=ki(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,q!==null?E=ki(q,E):(E=xa(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Kl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Of(r):(h=E.cachePool,h!==null?(D=wt._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Lg(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=Vf(t,y,r),n.memoizedState=Mf,Kl(t.child,l)):(xs(n),r=t.child,t=r.sibling,r=ki(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function jf(t,n){return n=Ku({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ku(t,n){return t=vn(22,t,null,n),t.lanes=0,t}function kf(t,n,r){return Ia(n,t.child,null,r),t=jf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function $p(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),$h(t.return,n,r)}function Lf(t,n,r,l,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=r,y.tailMode=h,y.treeForkCount=f)}function Jp(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var y=yt.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,se(yt,y),Gt(t,n,l,r),l=He?jl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$p(t,r,n);else if(t.tag===19)$p(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&ku(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Lf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ku(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Lf(n,!0,r,null,f,l);break;case"together":Lf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function qi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Cs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(gr(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=ki(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ki(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Uf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ru(t)))}function yE(t,n,r){switch(n.tag){case 3:de(n,n.stateNode.containerInfo),vs(n,wt,t.memoizedState.cache),Sa();break;case 27:case 5:rn(n);break;case 4:de(n,n.stateNode.containerInfo);break;case 10:vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(xs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Xp(t,n,r):(xs(n),t=qi(t,n,r),t!==null?t.sibling:null);xs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(gr(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return Jp(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(yt,yt.current),l)break;return null;case 22:return n.lanes=0,Hp(t,n,r,n.pendingProps);case 24:vs(n,wt,t.memoizedState.cache)}return qi(t,n,r)}function Zp(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ct=!0;else{if(!Uf(t,r)&&(n.flags&128)===0)return Ct=!1,yE(t,n,r);Ct=(t.flags&131072)!==0}else Ct=!1,He&&(n.flags&1048576)!==0&&Ig(n,jl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Ra(n.elementType),n.type=t,typeof t=="function")qh(t)?(l=Ma(t,l),n.tag=1,n=Qp(null,n,t,l,r)):(n.tag=0,n=Df(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===G){n.tag=11,n=zp(null,n,t,l,r);break e}else if(h===S){n.tag=14,n=Bp(null,n,t,l,r);break e}}throw n=ve(t)||t,Error(a(306,n,""))}}return n;case 0:return Df(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Ma(l,n.pendingProps),Qp(t,n,l,h,r);case 3:e:{if(de(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,sf(t,n),Hl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,vs(n,wt,l),l!==f.cache&&Jh(n,[wt],r,!0),ql(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Kp(t,n,l,r);break e}else if(l!==h){h=Mn(Error(a(424)),n),kl(h),n=Kp(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,at=Ln(t.firstChild),Ht=n,He=!0,ys=null,jn=!0,r=Hg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Sa(),l===h){n=qi(t,n,r);break e}Gt(t,n,l,r)}n=n.child}return n;case 26:return Qu(t,n),t===null?(r=u0(n.type,null,n.pendingProps,null))?n.memoizedState=r:He||(r=n.type,t=n.pendingProps,l=cc(Te.current).createElement(r),l[Tt]=n,l[Lt]=t,Yt(l,r,t),xt(l),n.stateNode=l):n.memoizedState=u0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return rn(n),t===null&&He&&(l=n.stateNode=r0(n.type,n.pendingProps,Te.current),Ht=n,jn=!0,h=at,Ms(n.type)?(yd=h,at=Ln(l.firstChild)):at=h),Gt(t,n,n.pendingProps.children,r),Qu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&He&&((h=l=at)&&(l=QE(l,n.type,n.pendingProps,jn),l!==null?(n.stateNode=l,Ht=n,at=Ln(l.firstChild),jn=!1,h=!0):h=!1),h||_s(n)),rn(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,fd(h,f)?l=null:y!==null&&fd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=hf(t,n,oE,null,null,r),uo._currentValue=h),Qu(t,n),Gt(t,n,l,r),n.child;case 6:return t===null&&He&&((t=r=at)&&(r=KE(r,n.pendingProps,jn),r!==null?(n.stateNode=r,Ht=n,at=null,t=!0):t=!1),t||_s(n)),null;case 13:return Xp(t,n,r);case 4:return de(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ia(n,null,l,r):Gt(t,n,l,r),n.child;case 11:return zp(t,n,n.type,n.pendingProps,r);case 7:return Gt(t,n,n.pendingProps,r),n.child;case 8:return Gt(t,n,n.pendingProps.children,r),n.child;case 12:return Gt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,vs(n,n.type,l.value),Gt(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Aa(n),h=Ft(h),l=l(h),n.flags|=1,Gt(t,n,l,r),n.child;case 14:return Bp(t,n,n.type,n.pendingProps,r);case 15:return qp(t,n,n.type,n.pendingProps,r);case 19:return Jp(t,n,r);case 31:return pE(t,n,r);case 22:return Hp(t,n,r,n.pendingProps);case 24:return Aa(n),l=Ft(wt),t===null?(h=ef(),h===null&&(h=st,f=Zh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},nf(n),vs(n,wt,h)):((t.lanes&r)!==0&&(sf(t,n),Hl(n,null,null,r),ql()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),vs(n,wt,l)):(l=f.cache,vs(n,wt,l),l!==h.cache&&Jh(n,[wt],r,!0))),Gt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Hi(t){t.flags|=4}function Pf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(wy())t.flags|=8192;else throw Na=Mu,tf}else t.flags&=-16777217}function Wp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!m0(n))if(wy())t.flags|=8192;else throw Na=Mu,tf}function Xu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?tu():536870912,t.lanes|=n,Cr|=n)}function Xl(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function _E(t,n,r){var l=n.pendingProps;switch(Yh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(n),null;case 1:return rt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Pi(wt),xe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mr(n)?Hi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kh())),rt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Hi(n),f!==null?(rt(n),Wp(n,f)):(rt(n),Pf(n,h,null,l,r))):f?f!==t.memoizedState?(Hi(n),rt(n),Wp(n,f)):(rt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Hi(n),rt(n),Pf(n,h,t,l,r)),null;case 27:if(Ya(n),r=Te.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return rt(n),null}t=ce.current,mr(n)?Mg(n):(t=r0(h,l,r),n.stateNode=t,Hi(n))}return rt(n),null;case 5:if(Ya(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return rt(n),null}if(f=ce.current,mr(n))Mg(n);else{var y=cc(Te.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}f[Tt]=n,f[Lt]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(Yt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Hi(n)}}return rt(n),Pf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Te.current,mr(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Xy(t.nodeValue,r)),t||_s(n,!0)}else t=cc(t).createTextNode(l),t[Tt]=n,n.stateNode=t}return rt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=mr(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Tt]=n}else Sa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rt(n),t=!1}else r=Kh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(En(n),n):(En(n),null);if((n.flags&128)!==0)throw Error(a(558))}return rt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=mr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Tt]=n}else Sa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rt(n),h=!1}else h=Kh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(En(n),n):(En(n),null)}return En(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Xu(n,n.updateQueue),rt(n),null);case 4:return xe(),t===null&&ld(n.stateNode.containerInfo),rt(n),null;case 10:return Pi(n.type),rt(n),null;case 19:if(J(yt),l=n.memoizedState,l===null)return rt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Xl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ku(t),f!==null){for(n.flags|=128,Xl(l,!1),t=f.updateQueue,n.updateQueue=t,Xu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Cg(r,t),r=r.sibling;return se(yt,yt.current&1|2),He&&Li(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&tn()>ec&&(n.flags|=128,h=!0,Xl(l,!1),n.lanes=4194304)}else{if(!h)if(t=ku(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Xu(n,t),Xl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!He)return rt(n),null}else 2*tn()-l.renderingStartTime>ec&&r!==536870912&&(n.flags|=128,h=!0,Xl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,r=yt.current,se(yt,h?r&1|2:r&1),He&&Li(n,l.treeForkCount),t):(rt(n),null);case 22:case 23:return En(n),of(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(rt(n),n.subtreeFlags&6&&(n.flags|=8192)):rt(n),r=n.updateQueue,r!==null&&Xu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&J(Ca),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Pi(wt),rt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function vE(t,n){switch(Yh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Pi(wt),xe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ya(n),null;case 31:if(n.memoizedState!==null){if(En(n),n.alternate===null)throw Error(a(340));Sa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(En(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Sa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return J(yt),null;case 4:return xe(),null;case 10:return Pi(n.type),null;case 22:case 23:return En(n),of(),t!==null&&J(Ca),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Pi(wt),null;case 25:return null;default:return null}}function ey(t,n){switch(Yh(n),n.tag){case 3:Pi(wt),xe();break;case 26:case 27:case 5:Ya(n);break;case 4:xe();break;case 31:n.memoizedState!==null&&En(n);break;case 13:En(n);break;case 19:J(yt);break;case 10:Pi(n.type);break;case 22:case 23:En(n),of(),t!==null&&J(Ca);break;case 24:Pi(wt)}}function $l(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==h)}}catch(E){We(n,n.return,E)}}function ws(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var D=r,q=E;try{q()}catch(Z){We(h,D,Z)}}}l=l.next}while(l!==f)}}catch(Z){We(n,n.return,Z)}}function ty(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Gg(n,r)}catch(l){We(t,t.return,l)}}}function ny(t,n,r){r.props=Ma(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){We(t,n,l)}}function Jl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){We(t,n,h)}}function Ei(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){We(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){We(t,n,h)}else r.current=null}function iy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){We(t,t.return,h)}}function zf(t,n,r){try{var l=t.stateNode;BE(l,t.type,r,n),l[Lt]=n}catch(h){We(t,t.return,h)}}function sy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ms(t.type)||t.tag===4}function Bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ms(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Fn));else if(l!==4&&(l===27&&Ms(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(qf(t,n,r),t=t.sibling;t!==null;)qf(t,n,r),t=t.sibling}function $u(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Ms(t.type)&&(r=t.stateNode),t=t.child,t!==null))for($u(t,n,r),t=t.sibling;t!==null;)$u(t,n,r),t=t.sibling}function ay(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Yt(n,l,r),n[Tt]=t,n[Lt]=r}catch(f){We(t,t.return,f)}}var Fi=!1,Rt=!1,Hf=!1,ry=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function bE(t,n){if(t=t.containerInfo,cd=yc,t=_g(t),jh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,E=-1,D=-1,q=0,Z=0,ee=t,H=null;t:for(;;){for(var $;ee!==r||h!==0&&ee.nodeType!==3||(E=y+h),ee!==f||l!==0&&ee.nodeType!==3||(D=y+l),ee.nodeType===3&&(y+=ee.nodeValue.length),($=ee.firstChild)!==null;)H=ee,ee=$;for(;;){if(ee===t)break t;if(H===r&&++q===h&&(E=y),H===f&&++Z===l&&(D=y),($=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=$}r=E===-1||D===-1?null:{start:E,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(hd={focusedElem:t,selectionRange:r},yc=!1,Pt=n;Pt!==null;)if(n=Pt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Pt=t;else for(;Pt!==null;){switch(n=Pt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var pe=Ma(r.type,h);t=l.getSnapshotBeforeUpdate(pe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){We(r,r.return,we)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)md(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Pt=t;break}Pt=n.return}}function ly(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Yi(t,r),l&4&&$l(5,r);break;case 1:if(Yi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){We(r,r.return,y)}else{var h=Ma(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){We(r,r.return,y)}}l&64&&ty(r),l&512&&Jl(r,r.return);break;case 3:if(Yi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Gg(t,n)}catch(y){We(r,r.return,y)}}break;case 27:n===null&&l&4&&ay(r);case 26:case 5:Yi(t,r),n===null&&l&4&&iy(r),l&512&&Jl(r,r.return);break;case 12:Yi(t,r);break;case 31:Yi(t,r),l&4&&cy(t,r);break;case 13:Yi(t,r),l&4&&hy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=NE.bind(null,r),XE(t,r))));break;case 22:if(l=r.memoizedState!==null||Fi,!l){n=n!==null&&n.memoizedState!==null||Rt,h=Fi;var f=Rt;Fi=l,(Rt=n)&&!f?Qi(t,r,(r.subtreeFlags&8772)!==0):Yi(t,r),Fi=h,Rt=f}break;case 30:break;default:Yi(t,r)}}function oy(t){var n=t.alternate;n!==null&&(t.alternate=null,oy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ja(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,un=!1;function Gi(t,n,r){for(r=r.child;r!==null;)uy(t,n,r),r=r.sibling}function uy(t,n,r){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(zn,r)}catch{}switch(r.tag){case 26:Rt||Ei(r,n),Gi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Rt||Ei(r,n);var l=ut,h=un;Ms(r.type)&&(ut=r.stateNode,un=!1),Gi(t,n,r),ro(r.stateNode),ut=l,un=h;break;case 5:Rt||Ei(r,n);case 6:if(l=ut,h=un,ut=null,Gi(t,n,r),ut=l,un=h,ut!==null)if(un)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(r.stateNode)}catch(f){We(r,n,f)}else try{ut.removeChild(r.stateNode)}catch(f){We(r,n,f)}break;case 18:ut!==null&&(un?(t=ut,t0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),jr(t)):t0(ut,r.stateNode));break;case 4:l=ut,h=un,ut=r.stateNode.containerInfo,un=!0,Gi(t,n,r),ut=l,un=h;break;case 0:case 11:case 14:case 15:ws(2,r,n),Rt||ws(4,r,n),Gi(t,n,r);break;case 1:Rt||(Ei(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&ny(r,n,l)),Gi(t,n,r);break;case 21:Gi(t,n,r);break;case 22:Rt=(l=Rt)||r.memoizedState!==null,Gi(t,n,r),Rt=l;break;default:Gi(t,n,r)}}function cy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{jr(t)}catch(r){We(n,n.return,r)}}}function hy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jr(t)}catch(r){We(n,n.return,r)}}function EE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ry),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ry),n;default:throw Error(a(435,t.tag))}}function Ju(t,n){var r=EE(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=IE.bind(null,t,l);l.then(h,h)}})}function cn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,y=n,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(Ms(E.type)){ut=E.stateNode,un=!1;break e}break;case 5:ut=E.stateNode,un=!1;break e;case 3:case 4:ut=E.stateNode.containerInfo,un=!0;break e}E=E.return}if(ut===null)throw Error(a(160));uy(f,y,h),ut=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)fy(n,t),n=n.sibling}var $n=null;function fy(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(n,t),hn(t),l&4&&(ws(3,t,t.return),$l(3,t),ws(5,t,t.return));break;case 1:cn(n,t),hn(t),l&512&&(Rt||r===null||Ei(r,r.return)),l&64&&Fi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=$n;if(cn(n,t),hn(t),l&512&&(Rt||r===null||Ei(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[Tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Yt(f,l,r),f[Tt]=t,xt(f),l=f;break e;case"link":var y=f0("link","href",h).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break t}}f=h.createElement(l),Yt(f,l,r),h.head.appendChild(f);break;case"meta":if(y=f0("meta","content",h).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break t}}f=h.createElement(l),Yt(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Tt]=t,xt(f),l=f}t.stateNode=l}else d0(h,t.type,t.stateNode);else t.stateNode=h0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?d0(h,t.type,t.stateNode):h0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&zf(t,t.memoizedProps,r.memoizedProps)}break;case 27:cn(n,t),hn(t),l&512&&(Rt||r===null||Ei(r,r.return)),r!==null&&l&4&&zf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(cn(n,t),hn(t),l&512&&(Rt||r===null||Ei(r,r.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(pe){We(t,t.return,pe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,zf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Hf=!0);break;case 6:if(cn(n,t),hn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(pe){We(t,t.return,pe)}}break;case 3:if(dc=null,h=$n,$n=hc(n.containerInfo),cn(n,t),$n=h,hn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{jr(n.containerInfo)}catch(pe){We(t,t.return,pe)}Hf&&(Hf=!1,dy(t));break;case 4:l=$n,$n=hc(t.stateNode.containerInfo),cn(n,t),hn(t),$n=l;break;case 12:cn(n,t),hn(t);break;case 31:cn(n,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ju(t,l)));break;case 13:cn(n,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Wu=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ju(t,l)));break;case 22:h=t.memoizedState!==null;var D=r!==null&&r.memoizedState!==null,q=Fi,Z=Rt;if(Fi=q||h,Rt=Z||D,cn(n,t),Rt=Z,Fi=q,hn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||D||Fi||Rt||Oa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){D=r=n;try{if(f=D.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=D.stateNode;var ee=D.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;E.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(pe){We(D,D.return,pe)}}}else if(n.tag===6){if(r===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(pe){We(D,D.return,pe)}}}else if(n.tag===18){if(r===null){D=n;try{var $=D.stateNode;h?n0($,!0):n0(D.stateNode,!1)}catch(pe){We(D,D.return,pe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Ju(t,r))));break;case 19:cn(n,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ju(t,l)));break;case 30:break;case 21:break;default:cn(n,t),hn(t)}}function hn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(sy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Bf(t);$u(t,f,h);break;case 5:var y=r.stateNode;r.flags&32&&(on(y,""),r.flags&=-33);var E=Bf(t);$u(t,E,y);break;case 3:case 4:var D=r.stateNode.containerInfo,q=Bf(t);qf(t,q,D);break;default:throw Error(a(161))}}catch(Z){We(t,t.return,Z)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function dy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Yi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ly(t,n.alternate,n),n=n.sibling}function Oa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ws(4,n,n.return),Oa(n);break;case 1:Ei(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ny(n,n.return,r),Oa(n);break;case 27:ro(n.stateNode);case 26:case 5:Ei(n,n.return),Oa(n);break;case 22:n.memoizedState===null&&Oa(n);break;case 30:Oa(n);break;default:Oa(n)}t=t.sibling}}function Qi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Qi(h,f,r),$l(4,f);break;case 1:if(Qi(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){We(l,l.return,q)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Fg(D[h],E)}catch(q){We(l,l.return,q)}}r&&y&64&&ty(f),Jl(f,f.return);break;case 27:ay(f);case 26:case 5:Qi(h,f,r),r&&l===null&&y&4&&iy(f),Jl(f,f.return);break;case 12:Qi(h,f,r);break;case 31:Qi(h,f,r),r&&y&4&&cy(h,f);break;case 13:Qi(h,f,r),r&&y&4&&hy(h,f);break;case 22:f.memoizedState===null&&Qi(h,f,r),Jl(f,f.return);break;case 30:break;default:Qi(h,f,r)}n=n.sibling}}function Ff(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ll(r))}function Gf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ll(t))}function Jn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)my(t,n,r,l),n=n.sibling}function my(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,r,l),h&2048&&$l(9,n);break;case 1:Jn(t,n,r,l);break;case 3:Jn(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ll(t)));break;case 12:if(h&2048){Jn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){We(n,n.return,D)}}else Jn(t,n,r,l);break;case 31:Jn(t,n,r,l);break;case 13:Jn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,r,l):Zl(t,n):f._visibility&2?Jn(t,n,r,l):(f._visibility|=2,Sr(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(y,n);break;case 24:Jn(t,n,r,l),h&2048&&Gf(n.alternate,n);break;default:Jn(t,n,r,l)}}function Sr(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,E=r,D=l,q=y.flags;switch(y.tag){case 0:case 11:case 15:Sr(f,y,E,D,h),$l(8,y);break;case 23:break;case 22:var Z=y.stateNode;y.memoizedState!==null?Z._visibility&2?Sr(f,y,E,D,h):Zl(f,y):(Z._visibility|=2,Sr(f,y,E,D,h)),h&&q&2048&&Ff(y.alternate,y);break;case 24:Sr(f,y,E,D,h),h&&q&2048&&Gf(y.alternate,y);break;default:Sr(f,y,E,D,h)}n=n.sibling}}function Zl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:Zl(r,l),h&2048&&Ff(l.alternate,l);break;case 24:Zl(r,l),h&2048&&Gf(l.alternate,l);break;default:Zl(r,l)}n=n.sibling}}var Wl=8192;function wr(t,n,r){if(t.subtreeFlags&Wl)for(t=t.child;t!==null;)gy(t,n,r),t=t.sibling}function gy(t,n,r){switch(t.tag){case 26:wr(t,n,r),t.flags&Wl&&t.memoizedState!==null&&lT(r,$n,t.memoizedState,t.memoizedProps);break;case 5:wr(t,n,r);break;case 3:case 4:var l=$n;$n=hc(t.stateNode.containerInfo),wr(t,n,r),$n=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Wl,Wl=16777216,wr(t,n,r),Wl=l):wr(t,n,r));break;default:wr(t,n,r)}}function py(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function eo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Pt=l,_y(l,t)}py(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yy(t),t=t.sibling}function yy(t){switch(t.tag){case 0:case 11:case 15:eo(t),t.flags&2048&&ws(9,t,t.return);break;case 3:eo(t);break;case 12:eo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Zu(t)):eo(t);break;default:eo(t)}}function Zu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Pt=l,_y(l,t)}py(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ws(8,n,n.return),Zu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Zu(n));break;default:Zu(n)}t=t.sibling}}function _y(t,n){for(;Pt!==null;){var r=Pt;switch(r.tag){case 0:case 11:case 15:ws(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ll(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Pt=l;else e:for(r=t;Pt!==null;){l=Pt;var h=l.sibling,f=l.return;if(oy(l),l===r){Pt=null;break e}if(h!==null){h.return=f,Pt=h;break e}Pt=f}}}var TE={getCacheForType:function(t){var n=Ft(wt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Ft(wt).controller.signal}},xE=typeof WeakMap=="function"?WeakMap:Map,Xe=0,st=null,ke=null,Ue=0,Ze=0,Tn=null,As=!1,Ar=!1,Yf=!1,Ki=0,mt=0,Cs=0,Va=0,Qf=0,xn=0,Cr=0,to=null,fn=null,Kf=!1,Wu=0,vy=0,ec=1/0,tc=null,Rs=null,Ot=0,Ns=null,Rr=null,Xi=0,Xf=0,$f=null,by=null,no=0,Jf=null;function Sn(){return(Xe&2)!==0&&Ue!==0?Ue&-Ue:j.T!==null?id():nu()}function Ey(){if(xn===0)if((Ue&536870912)===0||He){var t=la;la<<=1,(la&3932160)===0&&(la=262144),xn=t}else xn=536870912;return t=bn.current,t!==null&&(t.flags|=32),xn}function dn(t,n,r){(t===st&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(Nr(t,0),Is(t,Ue,xn,!1)),oa(t,r),((Xe&2)===0||t!==st)&&(t===st&&((Xe&2)===0&&(Va|=r),mt===4&&Is(t,Ue,xn,!1)),Ti(t))}function Ty(t,n,r){if((Xe&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Bn(t,n),h=l?AE(t,n):Wf(t,n,!0),f=l;do{if(h===0){Ar&&!l&&Is(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!SE(r)){h=Wf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var E=t;h=to;var D=E.current.memoizedState.isDehydrated;if(D&&(Nr(E,y).flags|=256),y=Wf(E,y,!1),y!==2){if(Yf&&!D){E.errorRecoveryDisabledLanes|=f,Va|=f,h=4;break e}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Nr(t,0),Is(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Is(l,n,xn,!As);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Wu+300-tn(),10<h)){if(Is(l,n,xn,!As),si(l,0,!0)!==0)break e;Xi=n,l.timeoutHandle=Wy(xy.bind(null,l,r,fn,tc,Kf,n,xn,Va,Cr,As,f,"Throttled",-0,0),h);break e}xy(l,r,fn,tc,Kf,n,xn,Va,Cr,As,f,null,-0,0)}}break}while(!0);Ti(t)}function xy(t,n,r,l,h,f,y,E,D,q,Z,ee,H,$){if(t.timeoutHandle=-1,ee=n.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},gy(n,f,ee);var pe=(f&62914560)===f?Wu-tn():(f&4194048)===f?vy-tn():0;if(pe=oT(ee,pe),pe!==null){Xi=f,t.cancelPendingCommit=pe(Dy.bind(null,t,n,f,r,l,h,y,E,D,Z,ee,null,H,$)),Is(t,f,y,!q);return}}Dy(t,n,f,r,l,h,y,E,D)}function SE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Is(t,n,r,l){n&=~Qf,n&=~Va,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-gt(h),y=1<<f;l[f]=-1,h&=~y}r!==0&&ua(t,r,n)}function nc(){return(Xe&6)===0?(io(0),!1):!0}function Zf(){if(ke!==null){if(Ze===0)var t=ke.return;else t=ke,Ui=wa=null,mf(t),vr=null,Pl=0,t=ke;for(;t!==null;)ey(t.alternate,t),t=t.return;ke=null}}function Nr(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,FE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Xi=0,Zf(),st=t,ke=r=ki(t.current,null),Ue=n,Ze=0,Tn=null,As=!1,Ar=Bn(t,n),Yf=!1,Cr=xn=Qf=Va=Cs=mt=0,fn=to=null,Kf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-gt(l),f=1<<h;n|=t[h],l&=~f}return Ki=n,xu(),r}function Sy(t,n){Ve=null,j.H=Ql,n===_r||n===Du?(n=zg(),Ze=3):n===tf?(n=zg(),Ze=4):Ze=n===If?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Tn=n,ke===null&&(mt=1,Gu(t,Mn(n,t.current)))}function wy(){var t=bn.current;return t===null?!0:(Ue&4194048)===Ue?kn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===kn:!1}function Ay(){var t=j.H;return j.H=Ql,t===null?Ql:t}function Cy(){var t=j.A;return j.A=TE,t}function ic(){mt=4,As||(Ue&4194048)!==Ue&&bn.current!==null||(Ar=!0),(Cs&134217727)===0&&(Va&134217727)===0||st===null||Is(st,Ue,xn,!1)}function Wf(t,n,r){var l=Xe;Xe|=2;var h=Ay(),f=Cy();(st!==t||Ue!==n)&&(tc=null,Nr(t,n)),n=!1;var y=mt;e:do try{if(Ze!==0&&ke!==null){var E=ke,D=Tn;switch(Ze){case 8:Zf(),y=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var q=Ze;if(Ze=0,Tn=null,Ir(t,E,D,q),r&&Ar){y=0;break e}break;default:q=Ze,Ze=0,Tn=null,Ir(t,E,D,q)}}wE(),y=mt;break}catch(Z){Sy(t,Z)}while(!0);return n&&t.shellSuspendCounter++,Ui=wa=null,Xe=l,j.H=h,j.A=f,ke===null&&(st=null,Ue=0,xu()),y}function wE(){for(;ke!==null;)Ry(ke)}function AE(t,n){var r=Xe;Xe|=2;var l=Ay(),h=Cy();st!==t||Ue!==n?(tc=null,ec=tn()+500,Nr(t,n)):Ar=Bn(t,n);e:do try{if(Ze!==0&&ke!==null){n=ke;var f=Tn;t:switch(Ze){case 1:Ze=0,Tn=null,Ir(t,n,f,1);break;case 2:case 9:if(Ug(f)){Ze=0,Tn=null,Ny(n);break}n=function(){Ze!==2&&Ze!==9||st!==t||(Ze=7),Ti(t)},f.then(n,n);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Ug(f)?(Ze=0,Tn=null,Ny(n)):(Ze=0,Tn=null,Ir(t,n,f,7));break;case 5:var y=null;switch(ke.tag){case 26:y=ke.memoizedState;case 5:case 27:var E=ke;if(y?m0(y):E.stateNode.complete){Ze=0,Tn=null;var D=E.sibling;if(D!==null)ke=D;else{var q=E.return;q!==null?(ke=q,sc(q)):ke=null}break t}}Ze=0,Tn=null,Ir(t,n,f,5);break;case 6:Ze=0,Tn=null,Ir(t,n,f,6);break;case 8:Zf(),mt=6;break e;default:throw Error(a(462))}}CE();break}catch(Z){Sy(t,Z)}while(!0);return Ui=wa=null,j.H=l,j.A=h,Xe=r,ke!==null?0:(st=null,Ue=0,xu(),mt)}function CE(){for(;ke!==null&&!Rh();)Ry(ke)}function Ry(t){var n=Zp(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,n===null?sc(t):ke=n}function Ny(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Yp(r,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=Yp(r,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:mf(n);default:ey(r,n),n=ke=Cg(n,Ki),n=Zp(r,n,Ki)}t.memoizedProps=t.pendingProps,n===null?sc(t):ke=n}function Ir(t,n,r,l){Ui=wa=null,mf(n),vr=null,Pl=0;var h=n.return;try{if(gE(t,h,n,r,Ue)){mt=1,Gu(t,Mn(r,t.current)),ke=null;return}}catch(f){if(h!==null)throw ke=h,f;mt=1,Gu(t,Mn(r,t.current)),ke=null;return}n.flags&32768?(He||l===1?t=!0:Ar||(Ue&536870912)!==0?t=!1:(As=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Iy(n,t)):sc(n)}function sc(t){var n=t;do{if((n.flags&32768)!==0){Iy(n,As);return}t=n.return;var r=_E(n.alternate,n,Ki);if(r!==null){ke=r;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);mt===0&&(mt=5)}function Iy(t,n){do{var r=vE(t.alternate,t);if(r!==null){r.flags&=32767,ke=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=r}while(t!==null);mt=6,ke=null}function Dy(t,n,r,l,h,f,y,E,D){t.cancelPendingCommit=null;do ac();while(Ot!==0);if((Xe&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=zh,Dh(t,r,f,y,E,D),t===st&&(ke=st=null,Ue=0),Rr=n,Ns=t,Xi=r,Xf=f,$f=h,by=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,DE(rs,function(){return ky(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,h=Y.p,Y.p=2,y=Xe,Xe|=4;try{bE(t,n,r)}finally{Xe=y,Y.p=h,j.T=l}}Ot=1,My(),Oy(),Vy()}}function My(){if(Ot===1){Ot=0;var t=Ns,n=Rr,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=j.T,j.T=null;var l=Y.p;Y.p=2;var h=Xe;Xe|=4;try{fy(n,t);var f=hd,y=_g(t.containerInfo),E=f.focusedElem,D=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&yg(E.ownerDocument.documentElement,E)){if(D!==null&&jh(E)){var q=D.start,Z=D.end;if(Z===void 0&&(Z=q),"selectionStart"in E)E.selectionStart=q,E.selectionEnd=Math.min(Z,E.value.length);else{var ee=E.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var $=H.getSelection(),pe=E.textContent.length,we=Math.min(D.start,pe),it=D.end===void 0?we:Math.min(D.end,pe);!$.extend&&we>it&&(y=it,it=we,we=y);var U=pg(E,we),k=pg(E,it);if(U&&k&&($.rangeCount!==1||$.anchorNode!==U.node||$.anchorOffset!==U.offset||$.focusNode!==k.node||$.focusOffset!==k.offset)){var B=ee.createRange();B.setStart(U.node,U.offset),$.removeAllRanges(),we>it?($.addRange(B),$.extend(k.node,k.offset)):(B.setEnd(k.node,k.offset),$.addRange(B))}}}}for(ee=[],$=E;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ee.length;E++){var W=ee[E];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}yc=!!cd,hd=cd=null}finally{Xe=h,Y.p=l,j.T=r}}t.current=n,Ot=2}}function Oy(){if(Ot===2){Ot=0;var t=Ns,n=Rr,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=j.T,j.T=null;var l=Y.p;Y.p=2;var h=Xe;Xe|=4;try{ly(t,n.alternate,n)}finally{Xe=h,Y.p=l,j.T=r}}Ot=3}}function Vy(){if(Ot===4||Ot===3){Ot=0,Xo();var t=Ns,n=Rr,r=Xi,l=by;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ot=5:(Ot=0,Rr=Ns=null,jy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Rs=null),Mi(r),n=n.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=j.T,h=Y.p,Y.p=2,j.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{j.T=n,Y.p=h}}(Xi&3)!==0&&ac(),Ti(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===Jf?no++:(no=0,Jf=t):no=0,io(0)}}function jy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ll(n)))}function ac(){return My(),Oy(),Vy(),ky()}function ky(){if(Ot!==5)return!1;var t=Ns,n=Xf;Xf=0;var r=Mi(Xi),l=j.T,h=Y.p;try{Y.p=32>r?32:r,j.T=null,r=$f,$f=null;var f=Ns,y=Xi;if(Ot=0,Rr=Ns=null,Xi=0,(Xe&6)!==0)throw Error(a(331));var E=Xe;if(Xe|=4,yy(f.current),my(f,f.current,y,r),Xe=E,io(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{Y.p=h,j.T=l,jy(t,n)}}function Ly(t,n,r){n=Mn(r,n),n=Nf(t.stateNode,n,2),t=Ts(t,n,2),t!==null&&(oa(t,2),Ti(t))}function We(t,n,r){if(t.tag===3)Ly(t,t,r);else for(;n!==null;){if(n.tag===3){Ly(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rs===null||!Rs.has(l))){t=Mn(r,t),r=Up(2),l=Ts(n,r,2),l!==null&&(Pp(r,l,n,t),oa(l,2),Ti(l));break}}n=n.return}}function ed(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new xE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Yf=!0,h.add(r),t=RE.bind(null,t,n,r),n.then(t,t))}function RE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,st===t&&(Ue&r)===r&&(mt===4||mt===3&&(Ue&62914560)===Ue&&300>tn()-Wu?(Xe&2)===0&&Nr(t,0):Qf|=r,Cr===Ue&&(Cr=0)),Ti(t)}function Uy(t,n){n===0&&(n=tu()),t=Ta(t,n),t!==null&&(oa(t,n),Ti(t))}function NE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Uy(t,r)}function IE(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Uy(t,r)}function DE(t,n){return Mt(t,n)}var rc=null,Dr=null,td=!1,lc=!1,nd=!1,Ds=0;function Ti(t){t!==Dr&&t.next===null&&(Dr===null?rc=Dr=t:Dr=Dr.next=t),lc=!0,td||(td=!0,OE())}function io(t,n){if(!nd&&lc){nd=!0;do for(var r=!1,l=rc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-gt(42|t)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,qy(l,f))}else f=Ue,f=si(l,l===st?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Bn(l,f)||(r=!0,qy(l,f));l=l.next}while(r);nd=!1}}function ME(){Py()}function Py(){lc=td=!1;var t=0;Ds!==0&&HE()&&(t=Ds);for(var n=tn(),r=null,l=rc;l!==null;){var h=l.next,f=zy(l,n);f===0?(l.next=null,r===null?rc=h:r.next=h,h===null&&(Dr=r)):(r=l,(t!==0||(f&3)!==0)&&(lc=!0)),l=h}Ot!==0&&Ot!==5||io(t),Ds!==0&&(Ds=0)}function zy(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-gt(f),E=1<<y,D=h[y];D===-1?((E&r)===0||(E&l)!==0)&&(h[y]=Ih(E,n)):D<=n&&(t.expiredLanes|=E),f&=~E}if(n=st,r=Ue,r=si(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&as(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Bn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&as(l),Mi(r)){case 2:case 8:r=dl;break;case 32:r=rs;break;case 268435456:r=$o;break;default:r=rs}return l=By.bind(null,t),r=Mt(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&as(l),t.callbackPriority=2,t.callbackNode=null,2}function By(t,n){if(Ot!==0&&Ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(ac()&&t.callbackNode!==r)return null;var l=Ue;return l=si(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ty(t,l,n),zy(t,tn()),t.callbackNode!=null&&t.callbackNode===r?By.bind(null,t):null)}function qy(t,n){if(ac())return null;Ty(t,n,!0)}function OE(){GE(function(){(Xe&6)!==0?Mt(fl,ME):Py()})}function id(){if(Ds===0){var t=pr;t===0&&(t=ni,ni<<=1,(ni&261888)===0&&(ni=256)),Ds=t}return Ds}function Hy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:tr(""+t)}function Fy(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function VE(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=Hy((h[Lt]||null).action),y=l.submitter;y&&(n=(n=y[Lt]||null)?Hy(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new gi("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ds!==0){var D=y?Fy(h,y):new FormData(h);xf(r,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(E.preventDefault(),D=y?Fy(h,y):new FormData(h),xf(r,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var sd=0;sd<Ph.length;sd++){var ad=Ph[sd],jE=ad.toLowerCase(),kE=ad[0].toUpperCase()+ad.slice(1);Xn(jE,"on"+kE)}Xn(Eg,"onAnimationEnd"),Xn(Tg,"onAnimationIteration"),Xn(xg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(Zb,"onTransitionRun"),Xn(Wb,"onTransitionStart"),Xn(eE,"onTransitionCancel"),Xn(Sg,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(so));function Gy(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],D=E.instance,q=E.currentTarget;if(E=E.listener,D!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=q;try{f(h)}catch(Z){Tu(Z)}h.currentTarget=null,f=D}else for(y=0;y<l.length;y++){if(E=l[y],D=E.instance,q=E.currentTarget,E=E.listener,D!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=q;try{f(h)}catch(Z){Tu(Z)}h.currentTarget=null,f=D}}}}function Le(t,n){var r=n[$a];r===void 0&&(r=n[$a]=new Set);var l=t+"__bubble";r.has(l)||(Yy(n,t,2,!1),r.add(l))}function rd(t,n,r){var l=0;n&&(l|=4),Yy(r,t,l,n)}var oc="_reactListening"+Math.random().toString(36).slice(2);function ld(t){if(!t[oc]){t[oc]=!0,pl.forEach(function(r){r!=="selectionchange"&&(LE.has(r)||rd(r,!1,t),rd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[oc]||(n[oc]=!0,rd("selectionchange",!1,n))}}function Yy(t,n,r,l){switch(E0(n)){case 2:var h=hT;break;case 8:h=fT;break;default:h=Td}r=h.bind(null,n,r,t),h=void 0,!ma||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function od(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=l.return;y!==null;){var D=y.tag;if((D===3||D===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=oi(E),y===null)return;if(D=y.tag,D===5||D===6||D===26||D===27){l=f=y;continue e}E=E.parentNode}}l=l.return}fs(function(){var q=f,Z=Rn(r),ee=[];e:{var H=wg.get(t);if(H!==void 0){var $=gi,pe=t;switch(t){case"keypress":if(pa(r)===0)break e;case"keydown":case"keyup":$=vu;break;case"focusin":pe="focus",$=_a;break;case"focusout":pe="blur",$=_a;break;case"beforeblur":case"afterblur":$=_a;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=m;break;case Eg:case Tg:case xg:$=fu;break;case Sg:$=x;break;case"scroll":case"scrollend":$=Rl;break;case"wheel":$=K;break;case"copy":case"cut":case"paste":$=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=ji;break;case"toggle":case"beforetoggle":$=Oe}var we=(n&4)!==0,it=!we&&(t==="scroll"||t==="scrollend"),U=we?H!==null?H+"Capture":null:H;we=[];for(var k=q,B;k!==null;){var W=k;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||U===null||(W=Gn(k,U),W!=null&&we.push(ao(k,W,B))),it)break;k=k.return}0<we.length&&(H=new $(H,pe,null,r,Z),ee.push({event:H,listeners:we}))}}if((n&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",H&&r!==wl&&(pe=r.relatedTarget||r.fromElement)&&(oi(pe)||pe[ri]))break e;if(($||H)&&(H=Z.window===Z?Z:(H=Z.ownerDocument)?H.defaultView||H.parentWindow:window,$?(pe=r.relatedTarget||r.toElement,$=q,pe=pe?oi(pe):null,pe!==null&&(it=c(pe),we=pe.tag,pe!==it||we!==5&&we!==27&&we!==6)&&(pe=null)):($=null,pe=q),$!==pe)){if(we=Nl,W="onMouseLeave",U="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(we=ji,W="onPointerLeave",U="onPointerEnter",k="pointer"),it=$==null?H:pn($),B=pe==null?H:pn(pe),H=new we(W,k+"leave",$,r,Z),H.target=it,H.relatedTarget=B,W=null,oi(Z)===q&&(we=new we(U,k+"enter",pe,r,Z),we.target=B,we.relatedTarget=it,W=we),it=W,$&&pe)t:{for(we=UE,U=$,k=pe,B=0,W=U;W;W=we(W))B++;W=0;for(var Ee=k;Ee;Ee=we(Ee))W++;for(;0<B-W;)U=we(U),B--;for(;0<W-B;)k=we(k),W--;for(;B--;){if(U===k||k!==null&&U===k.alternate){we=U;break t}U=we(U),k=we(k)}we=null}else we=null;$!==null&&Qy(ee,H,$,we,!1),pe!==null&&it!==null&&Qy(ee,it,pe,we,!0)}}e:{if(H=q?pn(q):window,$=H.nodeName&&H.nodeName.toLowerCase(),$==="select"||$==="input"&&H.type==="file")var Ye=cg;else if(og(H))if(hg)Ye=Xb;else{Ye=Qb;var ye=Yb}else $=H.nodeName,!$||$.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&er(q.elementType)&&(Ye=cg):Ye=Kb;if(Ye&&(Ye=Ye(t,q))){ug(ee,Ye,r,Z);break e}ye&&ye(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&Tl(H,"number",H.value)}switch(ye=q?pn(q):window,t){case"focusin":(og(ye)||ye.contentEditable==="true")&&(or=ye,kh=q,Vl=null);break;case"focusout":Vl=kh=or=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,vg(ee,r,Z);break;case"selectionchange":if(Jb)break;case"keydown":case"keyup":vg(ee,r,Z)}var je;if(Ke)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else lr?va(t,r)&&(Pe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Pe="onCompositionStart");Pe&&(_i&&r.locale!=="ko"&&(lr||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&lr&&(je=Cl()):(mi=Z,Al="value"in mi?mi.value:mi.textContent,lr=!0)),ye=uc(q,Pe),0<ye.length&&(Pe=new yi(Pe,t,null,r,Z),ee.push({event:Pe,listeners:ye}),je?Pe.data=je:(je=rr(r),je!==null&&(Pe.data=je)))),(je=In?qb(t,r):Hb(t,r))&&(Pe=uc(q,"onBeforeInput"),0<Pe.length&&(ye=new yi("onBeforeInput","beforeinput",null,r,Z),ee.push({event:ye,listeners:Pe}),ye.data=je)),VE(ee,t,q,r,Z)}Gy(ee,n)})}function ao(t,n,r){return{instance:t,listener:n,currentTarget:r}}function uc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(t,r),h!=null&&l.unshift(ao(t,h,f)),h=Gn(t,n),h!=null&&l.push(ao(t,h,f))),t.tag===3)return l;t=t.return}return[]}function UE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Qy(t,n,r,l,h){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,D=E.alternate,q=E.stateNode;if(E=E.tag,D!==null&&D===l)break;E!==5&&E!==26&&E!==27||q===null||(D=q,h?(q=Gn(r,f),q!=null&&y.unshift(ao(r,q,D))):h||(q=Gn(r,f),q!=null&&y.push(ao(r,q,D)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var PE=/\r\n?/g,zE=/\u0000|\uFFFD/g;function Ky(t){return(typeof t=="string"?t:""+t).replace(PE,`
`).replace(zE,"")}function Xy(t,n){return n=Ky(n),Ky(t)===n}function nt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&on(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,r,l);break;case"style":Sl(t,l,f);break;case"data":if(n!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=tr(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&nt(t,n,"name",h.name,h,null),nt(t,n,"formEncType",h.formEncType,h,null),nt(t,n,"formMethod",h.formMethod,h,null),nt(t,n,"formTarget",h.formTarget,h,null)):(nt(t,n,"encType",h.encType,h,null),nt(t,n,"method",h.method,h,null),nt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=tr(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=tr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Za(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Za(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=uu.get(r)||r,Za(t,r,l))}}function ud(t,n,r,l,h,f){switch(r){case"style":Sl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Lt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Za(t,r,l)}}}function Yt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:nt(t,n,f,y,r,null)}}h&&nt(t,n,"srcSet",r.srcSet,r,null),l&&nt(t,n,"src",r.src,r,null);return;case"input":Le("invalid",t);var E=f=y=h=null,D=null,q=null;for(l in r)if(r.hasOwnProperty(l)){var Z=r[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":y=Z;break;case"checked":D=Z;break;case"defaultChecked":q=Z;break;case"value":f=Z;break;case"defaultValue":E=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,n));break;default:nt(t,n,l,Z,r,null)}}ru(t,f,E,D,q,y,h,!1);return;case"select":Le("invalid",t),l=y=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:nt(t,n,h,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?os(t,!!l,n,!1):r!=null&&os(t,!!l,r,!0);return;case"textarea":Le("invalid",t),f=h=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:nt(t,n,y,E,r,null)}us(t,l,h,f);return;case"option":for(D in r)r.hasOwnProperty(D)&&(l=r[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":nt(t,n,D,l,r,null));return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<so.length;l++)Le(so[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in r)if(r.hasOwnProperty(q)&&(l=r[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:nt(t,n,q,l,r,null)}return;default:if(er(n)){for(Z in r)r.hasOwnProperty(Z)&&(l=r[Z],l!==void 0&&ud(t,n,Z,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&nt(t,n,E,l,r,null))}function BE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,D=null,q=null,Z=null;for($ in r){var ee=r[$];if(r.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":D=ee;default:l.hasOwnProperty($)||nt(t,n,$,null,l,ee)}}for(var H in l){var $=l[H];if(ee=r[H],l.hasOwnProperty(H)&&($!=null||ee!=null))switch(H){case"type":f=$;break;case"name":h=$;break;case"checked":q=$;break;case"defaultChecked":Z=$;break;case"value":y=$;break;case"defaultValue":E=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,n));break;default:$!==ee&&nt(t,n,H,$,l,ee)}}Wa(t,y,E,D,q,Z,f,h);return;case"select":$=y=E=H=null;for(f in r)if(D=r[f],r.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":$=D;default:l.hasOwnProperty(f)||nt(t,n,f,null,l,D)}for(h in l)if(f=l[h],D=r[h],l.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":H=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==D&&nt(t,n,h,f,l,D)}n=E,r=y,l=$,H!=null?os(t,!!r,H,!1):!!l!=!!r&&(n!=null?os(t,!!r,n,!0):os(t,!!r,r?[]:"",!1));return;case"textarea":$=H=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:nt(t,n,E,null,l,h)}for(y in l)if(h=l[y],f=r[y],l.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":H=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&nt(t,n,y,h,l,f)}lu(t,H,$);return;case"option":for(var pe in r)H=r[pe],r.hasOwnProperty(pe)&&H!=null&&!l.hasOwnProperty(pe)&&(pe==="selected"?t.selected=!1:nt(t,n,pe,null,l,H));for(D in l)H=l[D],$=r[D],l.hasOwnProperty(D)&&H!==$&&(H!=null||$!=null)&&(D==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":nt(t,n,D,H,l,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in r)H=r[we],r.hasOwnProperty(we)&&H!=null&&!l.hasOwnProperty(we)&&nt(t,n,we,null,l,H);for(q in l)if(H=l[q],$=r[q],l.hasOwnProperty(q)&&H!==$&&(H!=null||$!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:nt(t,n,q,H,l,$)}return;default:if(er(n)){for(var it in r)H=r[it],r.hasOwnProperty(it)&&H!==void 0&&!l.hasOwnProperty(it)&&ud(t,n,it,void 0,l,H);for(Z in l)H=l[Z],$=r[Z],!l.hasOwnProperty(Z)||H===$||H===void 0&&$===void 0||ud(t,n,Z,H,l,$);return}}for(var U in r)H=r[U],r.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&nt(t,n,U,null,l,H);for(ee in l)H=l[ee],$=r[ee],!l.hasOwnProperty(ee)||H===$||H==null&&$==null||nt(t,n,ee,H,l,$)}function $y(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&$y(y)){for(y=0,E=h.responseEnd,l+=1;l<r.length;l++){var D=r[l],q=D.startTime;if(q>E)break;var Z=D.transferSize,ee=D.initiatorType;Z&&$y(ee)&&(D=D.responseEnd,y+=Z*(D<E?1:(E-q)/(D-q)))}if(--l,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var cd=null,hd=null;function cc(t){return t.nodeType===9?t:t.ownerDocument}function Jy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function fd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dd=null;function HE(){var t=window.event;return t&&t.type==="popstate"?t===dd?!1:(dd=t,!0):(dd=null,!1)}var Wy=typeof setTimeout=="function"?setTimeout:void 0,FE=typeof clearTimeout=="function"?clearTimeout:void 0,e0=typeof Promise=="function"?Promise:void 0,GE=typeof queueMicrotask=="function"?queueMicrotask:typeof e0<"u"?function(t){return e0.resolve(null).then(t).catch(YE)}:Wy;function YE(t){setTimeout(function(){throw t})}function Ms(t){return t==="head"}function t0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),jr(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")ro(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,ro(r);for(var f=r.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=y}}else r==="body"&&ro(t.ownerDocument.body);r=h}while(r);jr(n)}function n0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function md(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":md(r),Ja(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function QE(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[li])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function KE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ln(t.nextSibling),t===null))return null;return t}function i0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ln(t.nextSibling),t===null))return null;return t}function gd(t){return t.data==="$?"||t.data==="$~"}function pd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function XE(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var yd=null;function s0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Ln(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function a0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function r0(t,n,r){switch(n=cc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ro(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ja(t)}var Un=new Map,l0=new Set;function hc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $i=Y.d;Y.d={f:$E,r:JE,D:ZE,C:WE,L:eT,m:tT,X:iT,S:nT,M:sT};function $E(){var t=$i.f(),n=nc();return t||n}function JE(t){var n=Cn(t);n!==null&&n.tag===5&&n.type==="form"?Sp(n):$i.r(t)}var Mr=typeof document>"u"?null:document;function o0(t,n,r){var l=Mr;if(l&&typeof n=="string"&&n){var h=ln(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),l0.has(h)||(l0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Yt(n,"link",t),xt(n),l.head.appendChild(n)))}}function ZE(t){$i.D(t),o0("dns-prefetch",t,null)}function WE(t,n){$i.C(t,n),o0("preconnect",t,n)}function eT(t,n,r){$i.L(t,n,r);var l=Mr;if(l&&t&&n){var h='link[rel="preload"][as="'+ln(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+ln(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+ln(r.imageSizes)+'"]')):h+='[href="'+ln(t)+'"]';var f=h;switch(n){case"style":f=Or(t);break;case"script":f=Vr(t)}Un.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Un.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(lo(f))||n==="script"&&l.querySelector(oo(f))||(n=l.createElement("link"),Yt(n,"link",t),xt(n),l.head.appendChild(n)))}}function tT(t,n){$i.m(t,n);var r=Mr;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Vr(t)}if(!Un.has(f)&&(t=A({rel:"modulepreload",href:t},n),Un.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(oo(f)))return}l=r.createElement("link"),Yt(l,"link",t),xt(l),r.head.appendChild(l)}}}function nT(t,n,r){$i.S(t,n,r);var l=Mr;if(l&&t){var h=ui(l).hoistableStyles,f=Or(t);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(lo(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Un.get(f))&&_d(t,r);var D=y=l.createElement("link");xt(D),Yt(D,"link",t),D._p=new Promise(function(q,Z){D.onload=q,D.onerror=Z}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function iT(t,n){$i.X(t,n);var r=Mr;if(r&&t){var l=ui(r).hoistableScripts,h=Vr(t),f=l.get(h);f||(f=r.querySelector(oo(h)),f||(t=A({src:t,async:!0},n),(n=Un.get(h))&&vd(t,n),f=r.createElement("script"),xt(f),Yt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function sT(t,n){$i.M(t,n);var r=Mr;if(r&&t){var l=ui(r).hoistableScripts,h=Vr(t),f=l.get(h);f||(f=r.querySelector(oo(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Un.get(h))&&vd(t,n),f=r.createElement("script"),xt(f),Yt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function u0(t,n,r,l){var h=(h=Te.current)?hc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Or(r.href),r=ui(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Or(r.href);var f=ui(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(lo(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Un.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Un.set(t,r),f||aT(h,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Vr(r),r=ui(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Or(t){return'href="'+ln(t)+'"'}function lo(t){return'link[rel="stylesheet"]['+t+"]"}function c0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function aT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Yt(n,"link",r),xt(n),t.head.appendChild(n))}function Vr(t){return'[src="'+ln(t)+'"]'}function oo(t){return"script[async]"+t}function h0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ln(r.href)+'"]');if(l)return n.instance=l,xt(l),l;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),Yt(l,"style",h),fc(l,r.precedence,t),n.instance=l;case"stylesheet":h=Or(r.href);var f=t.querySelector(lo(h));if(f)return n.state.loading|=4,n.instance=f,xt(f),f;l=c0(r),(h=Un.get(h))&&_d(l,h),f=(t.ownerDocument||t).createElement("link"),xt(f);var y=f;return y._p=new Promise(function(E,D){y.onload=E,y.onerror=D}),Yt(f,"link",l),n.state.loading|=4,fc(f,r.precedence,t),n.instance=f;case"script":return f=Vr(r.src),(h=t.querySelector(oo(f)))?(n.instance=h,xt(h),h):(l=r,(h=Un.get(f))&&(l=A({},r),vd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),xt(h),Yt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,fc(l,r.precedence,t));return n.instance}function fc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function _d(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function vd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var dc=null;function f0(t,n,r){if(dc===null){var l=new Map,h=dc=new Map;h.set(r,l)}else h=dc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[li]||f[Tt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function d0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function rT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function m0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function lT(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Or(l.href),f=n.querySelector(lo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=mc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,xt(f);return}f=n.ownerDocument||n,l=c0(l),(h=Un.get(h))&&_d(l,h),f=f.createElement("link"),xt(f);var y=f;y._p=new Promise(function(E,D){y.onload=E,y.onerror=D}),Yt(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=mc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var bd=0;function oT(t,n){return t.stylesheets&&t.count===0&&pc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&pc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&bd===0&&(bd=62500*qE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&pc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>bd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gc=null;function pc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gc=new Map,n.forEach(uT,t),gc=null,mc.call(t))}function uT(t,n){if(!(n.state.loading&4)){var r=gc.get(t);if(r)var l=r.get(null);else{r=new Map,gc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,h),r.set(y,h),this.count++,l=mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var uo={$$typeof:he,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function cT(t,n,r,l,h,f,y,E,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function g0(t,n,r,l,h,f,y,E,D,q,Z,ee){return t=new cT(t,n,r,y,D,q,Z,ee,E),n=1,f===!0&&(n|=24),f=vn(3,null,null,n),t.current=f,f.stateNode=t,n=Zh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},nf(f),t}function p0(t){return t?(t=hr,t):hr}function y0(t,n,r,l,h,f){h=p0(h),l.context===null?l.context=h:l.pendingContext=h,l=Es(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Ts(t,l,n),r!==null&&(dn(r,t,n),Bl(r,t,n))}function _0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Ed(t,n){_0(t,n),(t=t.alternate)&&_0(t,n)}function v0(t){if(t.tag===13||t.tag===31){var n=Ta(t,67108864);n!==null&&dn(n,t,67108864),Ed(t,67108864)}}function b0(t){if(t.tag===13||t.tag===31){var n=Sn();n=ca(n);var r=Ta(t,n);r!==null&&dn(r,t,n),Ed(t,n)}}var yc=!0;function hT(t,n,r,l){var h=j.T;j.T=null;var f=Y.p;try{Y.p=2,Td(t,n,r,l)}finally{Y.p=f,j.T=h}}function fT(t,n,r,l){var h=j.T;j.T=null;var f=Y.p;try{Y.p=8,Td(t,n,r,l)}finally{Y.p=f,j.T=h}}function Td(t,n,r,l){if(yc){var h=xd(l);if(h===null)od(t,n,l,_c,r),T0(t,l);else if(mT(h,t,n,r,l))l.stopPropagation();else if(T0(t,l),n&4&&-1<dT.indexOf(t)){for(;h!==null;){var f=Cn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ii(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var D=1<<31-gt(y);E.entanglements[1]|=D,y&=~D}Ti(f),(Xe&6)===0&&(ec=tn()+500,io(0))}}break;case 31:case 13:E=Ta(f,2),E!==null&&dn(E,f,2),nc(),Ed(f,2)}if(f=xd(l),f===null&&od(t,n,l,_c,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else od(t,n,l,null,r)}}function xd(t){return t=Rn(t),Sd(t)}var _c=null;function Sd(t){if(_c=null,t=oi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return _c=t,null}function E0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ra()){case fl:return 2;case dl:return 8;case rs:case Nh:return 32;case $o:return 268435456;default:return 32}default:return 32}}var wd=!1,Os=null,Vs=null,js=null,co=new Map,ho=new Map,ks=[],dT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T0(t,n){switch(t){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":co.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ho.delete(n.pointerId)}}function fo(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Cn(n),n!==null&&v0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function mT(t,n,r,l,h){switch(n){case"focusin":return Os=fo(Os,t,n,r,l,h),!0;case"dragenter":return Vs=fo(Vs,t,n,r,l,h),!0;case"mouseover":return js=fo(js,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return co.set(f,fo(co.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,ho.set(f,fo(ho.get(f)||null,t,n,r,l,h)),!0}return!1}function x0(t){var n=oi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,qn(t.priority,function(){b0(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,qn(t.priority,function(){b0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=xd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);wl=l,r.target.dispatchEvent(l),wl=null}else return n=Cn(r),n!==null&&v0(n),t.blockedOn=r,!1;n.shift()}return!0}function S0(t,n,r){vc(t)&&r.delete(n)}function gT(){wd=!1,Os!==null&&vc(Os)&&(Os=null),Vs!==null&&vc(Vs)&&(Vs=null),js!==null&&vc(js)&&(js=null),co.forEach(S0),ho.forEach(S0)}function bc(t,n){t.blockedOn===n&&(t.blockedOn=null,wd||(wd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,gT)))}var Ec=null;function w0(t){Ec!==t&&(Ec=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ec===t&&(Ec=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Sd(l||r)===null)continue;break}var f=Cn(r);f!==null&&(t.splice(n,3),n-=3,xf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function jr(t){function n(D){return bc(D,t)}Os!==null&&bc(Os,t),Vs!==null&&bc(Vs,t),js!==null&&bc(js,t),co.forEach(n),ho.forEach(n);for(var r=0;r<ks.length;r++){var l=ks[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ks.length&&(r=ks[0],r.blockedOn===null);)x0(r),r.blockedOn===null&&ks.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],y=h[Lt]||null;if(typeof f=="function")y||w0(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Lt]||null)E=y.formAction;else if(Sd(h)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),w0(r)}}}function A0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ad(t){this._internalRoot=t}Tc.prototype.render=Ad.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Sn();y0(r,l,t,n,null,null)},Tc.prototype.unmount=Ad.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;y0(t.current,2,null,t,null,null),nc(),n[ri]=null}};function Tc(t){this._internalRoot=t}Tc.prototype.unstable_scheduleHydration=function(t){if(t){var n=nu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ks.length&&n!==0&&n<ks[r].priority;r++);ks.splice(r,0,t),r===0&&x0(t)}};var C0=e.version;if(C0!=="19.2.4")throw Error(a(527,C0,"19.2.4"));Y.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var pT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{zn=xc.inject(pT),Bt=xc}catch{}}return go.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=Vp,f=jp,y=kp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=g0(t,1,!1,null,null,r,l,null,h,f,y,A0),t[ri]=n.current,ld(t),new Ad(n)},go.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=Vp,y=jp,E=kp,D=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(D=r.formState)),n=g0(t,1,!0,n,r??null,l,h,D,f,y,E,A0),n.context=p0(null),r=n.current,l=Sn(),l=ca(l),h=Es(l),h.callback=null,Ts(r,h,l),r=l,n.current.lanes=r,oa(n,r),Ti(n),t[ri]=n.current,ld(t),new Tc(n)},go.version="19.2.4",go}var L0;function AT(){if(L0)return Nd.exports;L0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Nd.exports=wT(),Nd.exports}var CT=AT();const RT=()=>{};var U0={};const hv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},NT=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],p=s[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},fv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,T=c>>2,A=(c&3)<<4|p>>4;let N=(p&15)<<2|_>>6,L=_&63;v||(L=64,d||(N=64)),a.push(i[T],i[A],i[N],i[L])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(hv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):NT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const A=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||_==null||A==null)throw new IT;const N=c<<2|p>>4;if(a.push(N),_!==64){const L=p<<4&240|_>>2;if(a.push(L),A!==64){const X=_<<6&192|A;a.push(X)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class IT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DT=function(s){const e=hv(s);return fv.encodeByteArray(e,!0)},Bc=function(s){return DT(s).replace(/\./g,"")},dv=function(s){try{return fv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function MT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const OT=()=>MT().__FIREBASE_DEFAULTS__,VT=()=>{if(typeof process>"u"||typeof U0>"u")return;const s=U0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},jT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&dv(s[1]);return e&&JSON.parse(e)},lh=()=>{try{return RT()||OT()||VT()||jT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},mv=s=>lh()?.emulatorHosts?.[s],kT=s=>{const e=mv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},gv=()=>lh()?.config,pv=s=>lh()?.[`_${s}`];class LT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function nl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yv(s){return(await fetch(s,{credentials:"include"})).ok}function UT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Bc(JSON.stringify(i)),Bc(JSON.stringify(d)),""].join(".")}const Eo={};function PT(){const s={prod:[],emulator:[]};for(const e of Object.keys(Eo))Eo[e]?s.emulator.push(e):s.prod.push(e);return s}function zT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let P0=!1;function _v(s,e){if(typeof window>"u"||typeof document>"u"||!nl(window.location.host)||Eo[s]===e||Eo[s]||P0)return;Eo[s]=e;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",c=PT().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function v(N,L){N.setAttribute("width","24"),N.setAttribute("id",L),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{P0=!0,d()},N}function T(N,L){N.setAttribute("id",L),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function A(){const N=zT(a),L=i("text"),X=document.getElementById(L)||document.createElement("span"),Q=i("learnmore"),P=document.getElementById(Q)||document.createElement("a"),ie=i("preprendIcon"),le=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const he=N.element;p(he),T(P,Q);const G=_();v(le,ie),he.append(le,X,P,G),document.body.appendChild(he)}c?(X.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function qT(){const s=lh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function GT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YT(){const s=en();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function QT(){return!qT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KT(){try{return typeof indexedDB=="object"}catch{return!1}}function XT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const $T="FirebaseError";class ss extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=$T,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Po.prototype.create)}}class Po{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?JT(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new ss(o,p,a)}}function JT(s,e){return s.replace(ZT,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const ZT=/\{\$([^}]+)}/g;function WT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Pa(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(z0(c)&&z0(d)){if(!Pa(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function z0(s){return s!==null&&typeof s=="object"}function zo(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function ex(s,e){const i=new tx(s,e);return i.subscribe.bind(i)}class tx{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");nx(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Od),o.error===void 0&&(o.error=Od),o.complete===void 0&&(o.complete=Od);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nx(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Od(){}function an(s){return s&&s._delegate?s._delegate:s}class za{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ja="[DEFAULT]";class ix{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new LT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ax(e))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ja){return this.instances.has(e)}getOptions(e=ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:sx(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ja){return this.component?this.component.multipleInstances?e:ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sx(s){return s===ja?void 0:s}function ax(s){return s.instantiationMode==="EAGER"}class rx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new ix(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var ze;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ze||(ze={}));const lx={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},ox=ze.INFO,ux={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},cx=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=ux[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _m{constructor(e){this.name=e,this._logLevel=ox,this._logHandler=cx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const hx=(s,e)=>e.some(i=>s instanceof i);let B0,q0;function fx(){return B0||(B0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dx(){return q0||(q0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vv=new WeakMap,Gd=new WeakMap,bv=new WeakMap,Vd=new WeakMap,vm=new WeakMap;function mx(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Fs(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&vv.set(i,s)}).catch(()=>{}),vm.set(e,s),e}function gx(s){if(Gd.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Gd.set(s,e)}let Yd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Gd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||bv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Fs(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function px(s){Yd=s(Yd)}function yx(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(jd(this),e,...i);return bv.set(a,e.sort?e.sort():[e]),Fs(a)}:dx().includes(s)?function(...e){return s.apply(jd(this),e),Fs(vv.get(this))}:function(...e){return Fs(s.apply(jd(this),e))}}function _x(s){return typeof s=="function"?yx(s):(s instanceof IDBTransaction&&gx(s),hx(s,fx())?new Proxy(s,Yd):s)}function Fs(s){if(s instanceof IDBRequest)return mx(s);if(Vd.has(s))return Vd.get(s);const e=_x(s);return e!==s&&(Vd.set(s,e),vm.set(e,s)),e}const jd=s=>vm.get(s);function vx(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=Fs(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Fs(d.result),v.oldVersion,v.newVersion,Fs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const bx=["get","getKey","getAll","getAllKeys","count"],Ex=["put","add","delete","clear"],kd=new Map;function H0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(kd.get(e))return kd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=Ex.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||bx.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&v.done]))[0]};return kd.set(e,c),c}px(s=>({...s,get:(e,i,a)=>H0(e,i)||s.get(e,i,a),has:(e,i)=>!!H0(e,i)||s.has(e,i)}));class Tx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(xx(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function xx(s){return s.getComponent()?.type==="VERSION"}const Qd="@firebase/app",F0="0.14.7";const Wi=new _m("@firebase/app"),Sx="@firebase/app-compat",wx="@firebase/analytics-compat",Ax="@firebase/analytics",Cx="@firebase/app-check-compat",Rx="@firebase/app-check",Nx="@firebase/auth",Ix="@firebase/auth-compat",Dx="@firebase/database",Mx="@firebase/data-connect",Ox="@firebase/database-compat",Vx="@firebase/functions",jx="@firebase/functions-compat",kx="@firebase/installations",Lx="@firebase/installations-compat",Ux="@firebase/messaging",Px="@firebase/messaging-compat",zx="@firebase/performance",Bx="@firebase/performance-compat",qx="@firebase/remote-config",Hx="@firebase/remote-config-compat",Fx="@firebase/storage",Gx="@firebase/storage-compat",Yx="@firebase/firestore",Qx="@firebase/ai",Kx="@firebase/firestore-compat",Xx="firebase",$x="12.8.0";const Kd="[DEFAULT]",Jx={[Qd]:"fire-core",[Sx]:"fire-core-compat",[Ax]:"fire-analytics",[wx]:"fire-analytics-compat",[Rx]:"fire-app-check",[Cx]:"fire-app-check-compat",[Nx]:"fire-auth",[Ix]:"fire-auth-compat",[Dx]:"fire-rtdb",[Mx]:"fire-data-connect",[Ox]:"fire-rtdb-compat",[Vx]:"fire-fn",[jx]:"fire-fn-compat",[kx]:"fire-iid",[Lx]:"fire-iid-compat",[Ux]:"fire-fcm",[Px]:"fire-fcm-compat",[zx]:"fire-perf",[Bx]:"fire-perf-compat",[qx]:"fire-rc",[Hx]:"fire-rc-compat",[Fx]:"fire-gcs",[Gx]:"fire-gcs-compat",[Yx]:"fire-fst",[Kx]:"fire-fst-compat",[Qx]:"fire-vertex","fire-js":"fire-js",[Xx]:"fire-js-all"};const qc=new Map,Zx=new Map,Xd=new Map;function G0(s,e){try{s.container.addComponent(e)}catch(i){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Xr(s){const e=s.name;if(Xd.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;Xd.set(e,s);for(const i of qc.values())G0(i,s);for(const i of Zx.values())G0(i,s);return!0}function bm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Zn(s){return s==null?!1:s.settings!==void 0}const Wx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new Po("app","Firebase",Wx);class eS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}const il=$x;function Ev(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:Kd,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Gs.create("bad-app-name",{appName:String(o)});if(i||(i=gv()),!i)throw Gs.create("no-options");const c=qc.get(o);if(c){if(Pa(i,c.options)&&Pa(a,c.config))return c;throw Gs.create("duplicate-app",{appName:o})}const d=new rx(o);for(const v of Xd.values())d.addComponent(v);const p=new eS(i,a,d);return qc.set(o,p),p}function Tv(s=Kd){const e=qc.get(s);if(!e&&s===Kd&&gv())return Ev();if(!e)throw Gs.create("no-app",{appName:s});return e}function Ys(s,e,i){let a=Jx[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}Xr(new za(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const tS="firebase-heartbeat-database",nS=1,Co="firebase-heartbeat-store";let Ld=null;function xv(){return Ld||(Ld=vx(tS,nS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Co)}catch(i){console.warn(i)}}}}).catch(s=>{throw Gs.create("idb-open",{originalErrorMessage:s.message})})),Ld}async function iS(s){try{const i=(await xv()).transaction(Co),a=await i.objectStore(Co).get(Sv(s));return await i.done,a}catch(e){if(e instanceof ss)Wi.warn(e.message);else{const i=Gs.create("idb-get",{originalErrorMessage:e?.message});Wi.warn(i.message)}}}async function Y0(s,e){try{const a=(await xv()).transaction(Co,"readwrite");await a.objectStore(Co).put(e,Sv(s)),await a.done}catch(i){if(i instanceof ss)Wi.warn(i.message);else{const a=Gs.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(a.message)}}}function Sv(s){return`${s.name}!${s.options.appId}`}const sS=1024,aS=30;class rS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new oS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Q0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>aS){const o=uS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Wi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Q0(),{heartbeatsToSend:i,unsentEntries:a}=lS(this._heartbeatsCache.heartbeats),o=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Wi.warn(e),""}}}function Q0(){return new Date().toISOString().substring(0,10)}function lS(s,e=sS){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),K0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),K0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class oS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KT()?XT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await iS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function K0(s){return Bc(JSON.stringify({version:2,heartbeats:s})).length}function uS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function cS(s){Xr(new za("platform-logger",e=>new Tx(e),"PRIVATE")),Xr(new za("heartbeat",e=>new rS(e),"PRIVATE")),Ys(Qd,F0,s),Ys(Qd,F0,"esm2020"),Ys("fire-js","")}cS("");var hS="firebase",fS="12.8.0";Ys(hS,fS,"app");function wv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dS=wv,Av=new Po("auth","Firebase",wv());const Hc=new _m("@firebase/auth");function mS(s,...e){Hc.logLevel<=ze.WARN&&Hc.warn(`Auth (${il}): ${s}`,...e)}function Dc(s,...e){Hc.logLevel<=ze.ERROR&&Hc.error(`Auth (${il}): ${s}`,...e)}function es(s,...e){throw Em(s,...e)}function Si(s,...e){return Em(s,...e)}function Cv(s,e,i){const a={...dS(),[e]:i};return new Po("auth","Firebase",a).create(e,{appName:s.name})}function Qs(s){return Cv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Em(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Av.create(s,...e)}function Re(s,e,...i){if(!s)throw Em(e,...i)}function Ji(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Dc(e),new Error(e)}function ts(s,e){s||Ji(e)}function $d(){return typeof self<"u"&&self.location?.href||""}function gS(){return X0()==="http:"||X0()==="https:"}function X0(){return typeof self<"u"&&self.location?.protocol||null}function pS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gS()||FT()||"connection"in navigator)?navigator.onLine:!0}function yS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Bo{constructor(e,i){this.shortDelay=e,this.longDelay=i,ts(i>e,"Short delay should be less than long delay!"),this.isMobile=BT()||GT()}get(){return pS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tm(s,e){ts(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Rv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _S={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const vS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bS=new Bo(3e4,6e4);function oh(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function sl(s,e,i,a,o={}){return Nv(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=zo({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:v,...c};return HT()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&nl(s.emulatorConfig.host)&&(_.credentials="include"),Rv.fetch()(await Dv(s,s.config.apiHost,i,p),_)})}async function Nv(s,e,i){s._canInitEmulator=!1;const a={..._S,...e};try{const o=new ES(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Sc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,_]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Sc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Sc(s,"user-disabled",d);const T=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Cv(s,T,_);es(s,T)}}catch(o){if(o instanceof ss)throw o;es(s,"network-request-failed",{message:String(o)})}}async function Iv(s,e,i,a,o={}){const c=await sl(s,e,i,a,o);return"mfaPendingCredential"in c&&es(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Dv(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Tm(s.config,o):`${s.config.apiScheme}://${o}`;return vS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class ES{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Si(this.auth,"network-request-failed")),bS.get())})}}function Sc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Si(s,e,a);return o.customData._tokenResponse=i,o}async function TS(s,e){return sl(s,"POST","/v1/accounts:delete",e)}async function Fc(s,e){return sl(s,"POST","/v1/accounts:lookup",e)}function To(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xS(s,e=!1){const i=an(s),a=await i.getIdToken(e),o=xm(a);Re(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:To(Ud(o.auth_time)),issuedAtTime:To(Ud(o.iat)),expirationTime:To(Ud(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ud(s){return Number(s)*1e3}function xm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const o=dv(i);return o?JSON.parse(o):(Dc("Failed to decode base64 JWT payload"),null)}catch(o){return Dc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function $0(s){const e=xm(s);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ro(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof ss&&SS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function SS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class wS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=To(this.lastLoginAt),this.creationTime=To(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Gc(s){const e=s.auth,i=await s.getIdToken(),a=await Ro(s,Fc(e,{idToken:i}));Re(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Mv(o.providerUserInfo):[],d=CS(s.providerData,c),p=s.isAnonymous,v=!(s.email&&o.passwordHash)&&!d?.length,_=p?v:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Jd(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,T)}async function AS(s){const e=an(s);await Gc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CS(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Mv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function RS(s,e){const i=await Nv(s,{},async()=>{const a=zo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await Dv(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return s.emulatorConfig&&nl(s.emulatorConfig.host)&&(v.credentials="include"),Rv.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function NS(s,e){return sl(s,"POST","/v2/accounts:revokeToken",oh(s,e))}class Hr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const i=$0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await RS(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Hr;return a&&(Re(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Re(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Re(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hr,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function Us(s,e){Re(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new wS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Ro(this,this.stsTokenManager.getToken(this.auth,e));return Re(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return xS(this,e)}reload(){return AS(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Gc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Qs(this.auth));const e=await this.getIdToken();return await Ro(this,TS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:A,emailVerified:N,isAnonymous:L,providerData:X,stsTokenManager:Q}=i;Re(A&&Q,e,"internal-error");const P=Hr.fromJSON(this.name,Q);Re(typeof A=="string",e,"internal-error"),Us(a,e.name),Us(o,e.name),Re(typeof N=="boolean",e,"internal-error"),Re(typeof L=="boolean",e,"internal-error"),Us(c,e.name),Us(d,e.name),Us(p,e.name),Us(v,e.name),Us(_,e.name),Us(T,e.name);const ie=new Wn({uid:A,auth:e,email:o,emailVerified:N,displayName:a,isAnonymous:L,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:P,createdAt:_,lastLoginAt:T});return X&&Array.isArray(X)&&(ie.providerData=X.map(le=>({...le}))),v&&(ie._redirectEventId=v),ie}static async _fromIdTokenResponse(e,i,a=!1){const o=new Hr;o.updateFromServerResponse(i);const c=new Wn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Gc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Re(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Mv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new Hr;p.updateFromIdToken(a);const v=new Wn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Jd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,_),v}}const J0=new Map;function Zi(s){ts(s instanceof Function,"Expected a class definition");let e=J0.get(s);return e?(ts(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,J0.set(s,e),e)}class Ov{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Ov.type="NONE";const Z0=Ov;function Mc(s,e,i){return`firebase:${s}:${e}:${i}`}class Fr{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Mc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Fc(this.auth,{idToken:e}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Fr(Zi(Z0),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||Zi(Z0);const d=Mc(a,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const T=await _._get(d);if(T){let A;if(typeof T=="string"){const N=await Fc(e,{idToken:T}).catch(()=>{});if(!N)break;A=await Wn._fromGetAccountInfoResponse(e,N,T)}else A=Wn._fromJSON(e,T);_!==c&&(p=A),c=_;break}}catch{}const v=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Fr(c,e,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Fr(c,e,a))}}function W0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Pv(e))return"Blackberry";if(zv(e))return"Webos";if(jv(e))return"Safari";if((e.includes("chrome/")||kv(e))&&!e.includes("edge/"))return"Chrome";if(Uv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Vv(s=en()){return/firefox\//i.test(s)}function jv(s=en()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kv(s=en()){return/crios\//i.test(s)}function Lv(s=en()){return/iemobile/i.test(s)}function Uv(s=en()){return/android/i.test(s)}function Pv(s=en()){return/blackberry/i.test(s)}function zv(s=en()){return/webos/i.test(s)}function Sm(s=en()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function IS(s=en()){return Sm(s)&&!!window.navigator?.standalone}function DS(){return YT()&&document.documentMode===10}function Bv(s=en()){return Sm(s)||Uv(s)||zv(s)||Pv(s)||/windows phone/i.test(s)||Lv(s)}function qv(s,e=[]){let i;switch(s){case"Browser":i=W0(en());break;case"Worker":i=`${W0(en())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${il}/${a}`}class MS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const v=e(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function OS(s,e={}){return sl(s,"GET","/v2/passwordPolicy",oh(s,e))}const VS=6;class jS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??VS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class kS{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e_(this),this.idTokenSubscription=new e_(this),this.beforeStateQueue=new MS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Av,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fr.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Fc(this,{idToken:e}),a=await Wn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Gc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(Qs(this));const i=e?an(e):null;return i&&Re(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OS(this),i=new jS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Po("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await NS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Zi(e)||this._popupRedirectResolver;Re(i,this,"argument-error"),this.redirectPersistenceManager=await Fr.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=e.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function uh(s){return an(s)}class e_{constructor(e){this.auth=e,this.observer=null,this.addObserver=ex(i=>this.observer=i)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LS(s){wm=s}function US(s){return wm.loadJS(s)}function PS(){return wm.gapiScript}function zS(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function BS(s,e){const i=bm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Pa(c,e??{}))return o;es(o,"already-initialized")}return i.initialize({options:e})}function qS(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Zi);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function HS(s,e,i){const a=uh(s);Re(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=Hv(e),{host:d,port:p}=FS(e),v=p===null?"":`:${p}`,_={url:`${c}//${d}${v}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Re(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Re(Pa(_,a.config.emulator)&&Pa(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,nl(d)?(yv(`${c}//${d}${v}`),_v("Auth",!0)):GS()}function Hv(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function FS(s){const e=Hv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:t_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:t_(d)}}}function t_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function GS(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Fv{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,i){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}async function Gr(s,e){return Iv(s,"POST","/v1/accounts:signInWithIdp",oh(s,e))}const YS="http://localhost";class Ba extends Fv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):es("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Ba(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Gr(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Gr(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Gr(e,i)}buildRequest(){const e={requestUri:YS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=zo(i)}return e}}class Gv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class qo extends Gv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ps extends qo{constructor(){super("facebook.com")}static credential(e){return Ba._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";class zs extends qo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ba._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return zs.credential(i,a)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";class Bs extends qo{constructor(){super("github.com")}static credential(e){return Ba._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";class qs extends qo{constructor(){super("twitter.com")}static credential(e,i){return Ba._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return qs.credential(i,a)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";async function QS(s,e){return Iv(s,"POST","/v1/accounts:signUp",oh(s,e))}class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await Wn._fromIdTokenResponse(e,a,o),d=n_(a);return new $s({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=n_(a);return new $s({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function n_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function KS(s){if(Zn(s.app))return Promise.reject(Qs(s));const e=uh(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new $s({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await QS(e,{returnSecureToken:!0}),a=await $s._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Yc extends ss{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Yc(e,i,a,o)}}function Yv(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(s,c,e,a):c})}async function XS(s,e,i=!1){const a=await Ro(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return $s._forOperation(s,"link",a)}async function $S(s,e,i=!1){const{auth:a}=s;if(Zn(a.app))return Promise.reject(Qs(a));const o="reauthenticate";try{const c=await Ro(s,Yv(a,o,e,s),i);Re(c.idToken,a,"internal-error");const d=xm(c.idToken);Re(d,a,"internal-error");const{sub:p}=d;return Re(s.uid===p,a,"user-mismatch"),$s._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&es(a,"user-mismatch"),c}}async function JS(s,e,i=!1){if(Zn(s.app))return Promise.reject(Qs(s));const a="signIn",o=await Yv(s,a,e),c=await $s._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}function ZS(s,e,i,a){return an(s).onIdTokenChanged(e,i,a)}function WS(s,e,i){return an(s).beforeAuthStateChanged(e,i)}function ew(s,e,i,a){return an(s).onAuthStateChanged(e,i,a)}const Qc="__sak";class Qv{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Qc,"1"),this.storage.removeItem(Qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const tw=1e3,nw=10;class Kv extends Qv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Bv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);DS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,nw):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},tw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Kv.type="LOCAL";const iw=Kv;class Xv extends Qv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Xv.type="SESSION";const $v=Xv;function sw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new ch(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async _=>_(i.origin,c)),v=await sw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];function Am(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class aw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const _=Am("",20);o.port1.start();const T=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const N=A;if(N.data.eventId===_)switch(N.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(N.data.response);break;default:clearTimeout(T),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function wi(){return window}function rw(s){wi().location.href=s}function Jv(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function lw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ow(){return navigator?.serviceWorker?.controller||null}function uw(){return Jv()?self:null}const Zv="firebaseLocalStorageDb",cw=1,Kc="firebaseLocalStorage",Wv="fbase_key";class Ho{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function hh(s,e){return s.transaction([Kc],e?"readwrite":"readonly").objectStore(Kc)}function hw(){const s=indexedDB.deleteDatabase(Zv);return new Ho(s).toPromise()}function Zd(){const s=indexedDB.open(Zv,cw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Kc,{keyPath:Wv})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Kc)?e(a):(a.close(),await hw(),e(await Zd()))})})}async function i_(s,e,i){const a=hh(s,!0).put({[Wv]:e,value:i});return new Ho(a).toPromise()}async function fw(s,e){const i=hh(s,!1).get(e),a=await new Ho(i).toPromise();return a===void 0?null:a.value}function s_(s,e){const i=hh(s,!0).delete(e);return new Ho(i).toPromise()}const dw=800,mw=3;class e1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zd(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>mw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(uw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await lw(),!this.activeServiceWorker)return;this.sender=new aw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ow()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zd();return await i_(e,Qc,"1"),await s_(e,Qc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>i_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>fw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>s_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=hh(o,!1).getAll();return new Ho(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e1.type="LOCAL";const gw=e1;new Bo(3e4,6e4);function pw(s,e){return e?Zi(e):(Re(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Cm extends Fv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gr(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Gr(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Gr(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function yw(s){return JS(s.auth,new Cm(s),s.bypassAuthState)}function _w(s){const{auth:e,user:i}=s;return Re(i,e,"internal-error"),$S(i,new Cm(s),s.bypassAuthState)}async function vw(s){const{auth:e,user:i}=s;return Re(i,e,"internal-error"),XS(i,new Cm(s),s.bypassAuthState)}class t1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yw;case"linkViaPopup":case"linkViaRedirect":return vw;case"reauthViaPopup":case"reauthViaRedirect":return _w;default:es(this.auth,"internal-error")}}resolve(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bw=new Bo(2e3,1e4);class qr extends t1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,qr.currentPopupAction&&qr.currentPopupAction.cancel(),qr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const e=Am();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bw.get())};e()}}qr.currentPopupAction=null;const Ew="pendingRedirect",Oc=new Map;class Tw extends t1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Oc.get(this.auth._key());if(!e){try{const a=await xw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Oc.set(this.auth._key(),e)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xw(s,e){const i=Aw(e),a=ww(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Sw(s,e){Oc.set(s._key(),e)}function ww(s){return Zi(s._redirectPersistence)}function Aw(s){return Mc(Ew,s.config.apiKey,s.name)}async function Cw(s,e,i=!1){if(Zn(s.app))return Promise.reject(Qs(s));const a=uh(s),o=pw(a,e),d=await new Tw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Rw=600*1e3;class Nw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Iw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!n1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Si(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Rw&&this.cachedEventUids.clear(),this.cachedEventUids.has(a_(e))}saveEventToCache(e){this.cachedEventUids.add(a_(e)),this.lastProcessedEventTime=Date.now()}}function a_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function n1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Iw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n1(s);default:return!1}}async function Dw(s,e={}){return sl(s,"GET","/v1/projects",e)}const Mw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ow=/^https?/;async function Vw(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Dw(s);for(const i of e)try{if(jw(i))return}catch{}es(s,"unauthorized-domain")}function jw(s){const e=$d(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Ow.test(i))return!1;if(Mw.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const kw=new Bo(3e4,6e4);function r_(){const s=wi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function Lw(s){return new Promise((e,i)=>{function a(){r_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{r_(),i(Si(s,"network-request-failed"))},timeout:kw.get()})}if(wi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(wi().gapi?.load)a();else{const o=zS("iframefcb");return wi()[o]=()=>{gapi.load?a():i(Si(s,"network-request-failed"))},US(`${PS()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Vc=null,e})}let Vc=null;function Uw(s){return Vc=Vc||Lw(s),Vc}const Pw=new Bo(5e3,15e3),zw="__/auth/iframe",Bw="emulator/auth/iframe",qw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fw(s){const e=s.config;Re(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Tm(e,Bw):`https://${s.config.authDomain}/${zw}`,a={apiKey:e.apiKey,appName:s.name,v:il},o=Hw.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${zo(a).slice(1)}`}async function Gw(s){const e=await Uw(s),i=wi().gapi;return Re(i,s,"internal-error"),e.open({where:document.body,url:Fw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Si(s,"network-request-failed"),p=wi().setTimeout(()=>{c(d)},Pw.get());function v(){wi().clearTimeout(p),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const Yw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qw=500,Kw=600,Xw="_blank",$w="http://localhost";class l_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Jw(s,e,i,a=Qw,o=Kw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...Yw,width:a.toString(),height:o.toString(),top:c,left:d},_=en().toLowerCase();i&&(p=kv(_)?Xw:i),Vv(_)&&(e=e||$w,v.scrollbars="yes");const T=Object.entries(v).reduce((N,[L,X])=>`${N}${L}=${X},`,"");if(IS(_)&&p!=="_self")return Zw(e||"",p),new l_(null);const A=window.open(e||"",p,T);Re(A,s,"popup-blocked");try{A.focus()}catch{}return new l_(A)}function Zw(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Ww="__/auth/handler",eA="emulator/auth/handler",tA=encodeURIComponent("fac");async function o_(s,e,i,a,o,c){Re(s.config.authDomain,s,"auth-domain-config-required"),Re(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:il,eventId:o};if(e instanceof Gv){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",WT(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(e instanceof qo){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const v=await s._getAppCheckToken(),_=v?`#${tA}=${encodeURIComponent(v)}`:"";return`${nA(s)}?${zo(p).slice(1)}${_}`}function nA({config:s}){return s.emulator?Tm(s,eA):`https://${s.authDomain}/${Ww}`}const Pd="webStorageSupport";class iA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$v,this._completeRedirectFn=Cw,this._overrideRedirectResult=Sw}async _openPopup(e,i,a,o){ts(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await o_(e,i,a,$d(),o);return Jw(e,c,Am())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await o_(e,i,a,$d(),o);return rw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ts(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await Gw(e),a=new Nw(e);return i.register("authEvent",o=>(Re(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Pd,{type:Pd},o=>{const c=o?.[0]?.[Pd];c!==void 0&&i(!!c),es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Vw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Bv()||jv()||Sm()}}const sA=iA;var u_="@firebase/auth",c_="1.12.0";class aA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rA(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lA(s){Xr(new za("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Re(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qv(s)},_=new kS(a,o,c,v);return qS(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Xr(new za("auth-internal",e=>{const i=uh(e.getProvider("auth").getImmediate());return(a=>new aA(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ys(u_,c_,rA(s)),Ys(u_,c_,"esm2020")}const oA=300,uA=pv("authIdTokenMaxAge")||oA;let h_=null;const cA=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>uA)return;const o=i?.token;h_!==o&&(h_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function hA(s=Tv()){const e=bm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=BS(s,{popupRedirectResolver:sA,persistence:[gw,iw,$v]}),a=pv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=cA(c.toString());WS(i,d,()=>d(i.currentUser)),ZS(i,p=>d(p))}}const o=mv("auth");return o&&HS(i,`http://${o}`),i}function fA(){return document.getElementsByTagName("head")?.[0]??document}LS({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Si("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",fA().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lA("Browser");var f_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ks,i1;(function(){var s;function e(S,w){function C(){}C.prototype=w.prototype,S.F=w.prototype,S.prototype=new C,S.prototype.constructor=S,S.D=function(O,I,V){for(var R=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)R[ve-2]=arguments[ve];return w.prototype[I].apply(O,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(S,w,C){C||(C=0);const O=Array(16);if(typeof w=="string")for(var I=0;I<16;++I)O[I]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(I=0;I<16;++I)O[I]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=S.g[0],C=S.g[1],I=S.g[2];let V=S.g[3],R;R=w+(V^C&(I^V))+O[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=V+(I^w&(C^I))+O[1]+3905402710&4294967295,V=w+(R<<12&4294967295|R>>>20),R=I+(C^V&(w^C))+O[2]+606105819&4294967295,I=V+(R<<17&4294967295|R>>>15),R=C+(w^I&(V^w))+O[3]+3250441966&4294967295,C=I+(R<<22&4294967295|R>>>10),R=w+(V^C&(I^V))+O[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=V+(I^w&(C^I))+O[5]+1200080426&4294967295,V=w+(R<<12&4294967295|R>>>20),R=I+(C^V&(w^C))+O[6]+2821735955&4294967295,I=V+(R<<17&4294967295|R>>>15),R=C+(w^I&(V^w))+O[7]+4249261313&4294967295,C=I+(R<<22&4294967295|R>>>10),R=w+(V^C&(I^V))+O[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=V+(I^w&(C^I))+O[9]+2336552879&4294967295,V=w+(R<<12&4294967295|R>>>20),R=I+(C^V&(w^C))+O[10]+4294925233&4294967295,I=V+(R<<17&4294967295|R>>>15),R=C+(w^I&(V^w))+O[11]+2304563134&4294967295,C=I+(R<<22&4294967295|R>>>10),R=w+(V^C&(I^V))+O[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=V+(I^w&(C^I))+O[13]+4254626195&4294967295,V=w+(R<<12&4294967295|R>>>20),R=I+(C^V&(w^C))+O[14]+2792965006&4294967295,I=V+(R<<17&4294967295|R>>>15),R=C+(w^I&(V^w))+O[15]+1236535329&4294967295,C=I+(R<<22&4294967295|R>>>10),R=w+(I^V&(C^I))+O[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=V+(C^I&(w^C))+O[6]+3225465664&4294967295,V=w+(R<<9&4294967295|R>>>23),R=I+(w^C&(V^w))+O[11]+643717713&4294967295,I=V+(R<<14&4294967295|R>>>18),R=C+(V^w&(I^V))+O[0]+3921069994&4294967295,C=I+(R<<20&4294967295|R>>>12),R=w+(I^V&(C^I))+O[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=V+(C^I&(w^C))+O[10]+38016083&4294967295,V=w+(R<<9&4294967295|R>>>23),R=I+(w^C&(V^w))+O[15]+3634488961&4294967295,I=V+(R<<14&4294967295|R>>>18),R=C+(V^w&(I^V))+O[4]+3889429448&4294967295,C=I+(R<<20&4294967295|R>>>12),R=w+(I^V&(C^I))+O[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=V+(C^I&(w^C))+O[14]+3275163606&4294967295,V=w+(R<<9&4294967295|R>>>23),R=I+(w^C&(V^w))+O[3]+4107603335&4294967295,I=V+(R<<14&4294967295|R>>>18),R=C+(V^w&(I^V))+O[8]+1163531501&4294967295,C=I+(R<<20&4294967295|R>>>12),R=w+(I^V&(C^I))+O[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=V+(C^I&(w^C))+O[2]+4243563512&4294967295,V=w+(R<<9&4294967295|R>>>23),R=I+(w^C&(V^w))+O[7]+1735328473&4294967295,I=V+(R<<14&4294967295|R>>>18),R=C+(V^w&(I^V))+O[12]+2368359562&4294967295,C=I+(R<<20&4294967295|R>>>12),R=w+(C^I^V)+O[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=V+(w^C^I)+O[8]+2272392833&4294967295,V=w+(R<<11&4294967295|R>>>21),R=I+(V^w^C)+O[11]+1839030562&4294967295,I=V+(R<<16&4294967295|R>>>16),R=C+(I^V^w)+O[14]+4259657740&4294967295,C=I+(R<<23&4294967295|R>>>9),R=w+(C^I^V)+O[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=V+(w^C^I)+O[4]+1272893353&4294967295,V=w+(R<<11&4294967295|R>>>21),R=I+(V^w^C)+O[7]+4139469664&4294967295,I=V+(R<<16&4294967295|R>>>16),R=C+(I^V^w)+O[10]+3200236656&4294967295,C=I+(R<<23&4294967295|R>>>9),R=w+(C^I^V)+O[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=V+(w^C^I)+O[0]+3936430074&4294967295,V=w+(R<<11&4294967295|R>>>21),R=I+(V^w^C)+O[3]+3572445317&4294967295,I=V+(R<<16&4294967295|R>>>16),R=C+(I^V^w)+O[6]+76029189&4294967295,C=I+(R<<23&4294967295|R>>>9),R=w+(C^I^V)+O[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=V+(w^C^I)+O[12]+3873151461&4294967295,V=w+(R<<11&4294967295|R>>>21),R=I+(V^w^C)+O[15]+530742520&4294967295,I=V+(R<<16&4294967295|R>>>16),R=C+(I^V^w)+O[2]+3299628645&4294967295,C=I+(R<<23&4294967295|R>>>9),R=w+(I^(C|~V))+O[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=V+(C^(w|~I))+O[7]+1126891415&4294967295,V=w+(R<<10&4294967295|R>>>22),R=I+(w^(V|~C))+O[14]+2878612391&4294967295,I=V+(R<<15&4294967295|R>>>17),R=C+(V^(I|~w))+O[5]+4237533241&4294967295,C=I+(R<<21&4294967295|R>>>11),R=w+(I^(C|~V))+O[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=V+(C^(w|~I))+O[3]+2399980690&4294967295,V=w+(R<<10&4294967295|R>>>22),R=I+(w^(V|~C))+O[10]+4293915773&4294967295,I=V+(R<<15&4294967295|R>>>17),R=C+(V^(I|~w))+O[1]+2240044497&4294967295,C=I+(R<<21&4294967295|R>>>11),R=w+(I^(C|~V))+O[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=V+(C^(w|~I))+O[15]+4264355552&4294967295,V=w+(R<<10&4294967295|R>>>22),R=I+(w^(V|~C))+O[6]+2734768916&4294967295,I=V+(R<<15&4294967295|R>>>17),R=C+(V^(I|~w))+O[13]+1309151649&4294967295,C=I+(R<<21&4294967295|R>>>11),R=w+(I^(C|~V))+O[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=V+(C^(w|~I))+O[11]+3174756917&4294967295,V=w+(R<<10&4294967295|R>>>22),R=I+(w^(V|~C))+O[2]+718787259&4294967295,I=V+(R<<15&4294967295|R>>>17),R=C+(V^(I|~w))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+I&4294967295,S.g[3]=S.g[3]+V&4294967295}a.prototype.v=function(S,w){w===void 0&&(w=S.length);const C=w-this.blockSize,O=this.C;let I=this.h,V=0;for(;V<w;){if(I==0)for(;V<=C;)o(this,S,V),V+=this.blockSize;if(typeof S=="string"){for(;V<w;)if(O[I++]=S.charCodeAt(V++),I==this.blockSize){o(this,O),I=0;break}}else for(;V<w;)if(O[I++]=S[V++],I==this.blockSize){o(this,O),I=0;break}}this.h=I,this.o+=w},a.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;w=this.o*8;for(var C=S.length-8;C<S.length;++C)S[C]=w&255,w/=256;for(this.v(S),S=Array(16),w=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)S[w++]=this.g[C]>>>O&255;return S};function c(S,w){var C=p;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=w(S)}function d(S,w){this.h=w;const C=[];let O=!0;for(let I=S.length-1;I>=0;I--){const V=S[I]|0;O&&V==w||(C[I]=V,O=!1)}this.g=C}var p={};function v(S){return-128<=S&&S<128?c(S,function(w){return new d([w|0],w<0?-1:0)}):new d([S|0],S<0?-1:0)}function _(S){if(isNaN(S)||!isFinite(S))return A;if(S<0)return P(_(-S));const w=[];let C=1;for(let O=0;S>=C;O++)w[O]=S/C|0,C*=4294967296;return new d(w,0)}function T(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return P(T(S.substring(1),w));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let O=A;for(let V=0;V<S.length;V+=8){var I=Math.min(8,S.length-V);const R=parseInt(S.substring(V,V+I),w);I<8?(I=_(Math.pow(w,I)),O=O.j(I).add(_(R))):(O=O.j(C),O=O.add(_(R)))}return O}var A=v(0),N=v(1),L=v(16777216);s=d.prototype,s.m=function(){if(Q(this))return-P(this).m();let S=0,w=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);S+=(O>=0?O:4294967296+O)*w,w*=4294967296}return S},s.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(X(this))return"0";if(Q(this))return"-"+P(this).toString(S);const w=_(Math.pow(S,6));var C=this;let O="";for(;;){const I=G(C,w).g;C=ie(C,I.j(w));let V=((C.g.length>0?C.g[0]:C.h)>>>0).toString(S);if(C=I,X(C))return V+O;for(;V.length<6;)V="0"+V;O=V+O}},s.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function X(S){if(S.h!=0)return!1;for(let w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function Q(S){return S.h==-1}s.l=function(S){return S=ie(this,S),Q(S)?-1:X(S)?0:1};function P(S){const w=S.g.length,C=[];for(let O=0;O<w;O++)C[O]=~S.g[O];return new d(C,~S.h).add(N)}s.abs=function(){return Q(this)?P(this):this},s.add=function(S){const w=Math.max(this.g.length,S.g.length),C=[];let O=0;for(let I=0;I<=w;I++){let V=O+(this.i(I)&65535)+(S.i(I)&65535),R=(V>>>16)+(this.i(I)>>>16)+(S.i(I)>>>16);O=R>>>16,V&=65535,R&=65535,C[I]=R<<16|V}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ie(S,w){return S.add(P(w))}s.j=function(S){if(X(this)||X(S))return A;if(Q(this))return Q(S)?P(this).j(P(S)):P(P(this).j(S));if(Q(S))return P(this.j(P(S)));if(this.l(L)<0&&S.l(L)<0)return _(this.m()*S.m());const w=this.g.length+S.g.length,C=[];for(var O=0;O<2*w;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let I=0;I<S.g.length;I++){const V=this.i(O)>>>16,R=this.i(O)&65535,ve=S.i(I)>>>16,Ae=S.i(I)&65535;C[2*O+2*I]+=R*Ae,le(C,2*O+2*I),C[2*O+2*I+1]+=V*Ae,le(C,2*O+2*I+1),C[2*O+2*I+1]+=R*ve,le(C,2*O+2*I+1),C[2*O+2*I+2]+=V*ve,le(C,2*O+2*I+2)}for(S=0;S<w;S++)C[S]=C[2*S+1]<<16|C[2*S];for(S=w;S<2*w;S++)C[S]=0;return new d(C,0)};function le(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function he(S,w){this.g=S,this.h=w}function G(S,w){if(X(w))throw Error("division by zero");if(X(S))return new he(A,A);if(Q(S))return w=G(P(S),w),new he(P(w.g),P(w.h));if(Q(w))return w=G(S,P(w)),new he(P(w.g),w.h);if(S.g.length>30){if(Q(S)||Q(w))throw Error("slowDivide_ only works with positive integers.");for(var C=N,O=w;O.l(S)<=0;)C=re(C),O=re(O);var I=F(C,1),V=F(O,1);for(O=F(O,2),C=F(C,2);!X(O);){var R=V.add(O);R.l(S)<=0&&(I=I.add(C),V=R),O=F(O,1),C=F(C,1)}return w=ie(S,I.j(w)),new he(I,w)}for(I=A;S.l(w)>=0;){for(C=Math.max(1,Math.floor(S.m()/w.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),V=_(C),R=V.j(w);Q(R)||R.l(S)>0;)C-=O,V=_(C),R=V.j(w);X(V)&&(V=N),I=I.add(V),S=ie(S,R)}return new he(I,S)}s.B=function(S){return G(this,S).h},s.and=function(S){const w=Math.max(this.g.length,S.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)&S.i(O);return new d(C,this.h&S.h)},s.or=function(S){const w=Math.max(this.g.length,S.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)|S.i(O);return new d(C,this.h|S.h)},s.xor=function(S){const w=Math.max(this.g.length,S.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)^S.i(O);return new d(C,this.h^S.h)};function re(S){const w=S.g.length+1,C=[];for(let O=0;O<w;O++)C[O]=S.i(O)<<1|S.i(O-1)>>>31;return new d(C,S.h)}function F(S,w){const C=w>>5;w%=32;const O=S.g.length-C,I=[];for(let V=0;V<O;V++)I[V]=w>0?S.i(V+C)>>>w|S.i(V+C+1)<<32-w:S.i(V+C);return new d(I,S.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,i1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,Ks=d}).apply(typeof f_<"u"?f_:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var s1,yo,a1,jc,Wd,r1,l1,o1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var b=a;u=u.split(".");for(var x=0;x<u.length-1;x++){var z=u[x];if(!(z in b))break e;b=b[z]}u=u[u.length-1],x=b[u],m=m(x),m!=x&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var b=[],x;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&b.push([x,m[x]]);return b}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,b){return u.call.apply(u.bind,arguments)}function _(u,m,b){return _=v,_.apply(null,arguments)}function T(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function A(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(x,z,K){for(var ue=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)ue[Oe-2]=arguments[Oe];return m.prototype[z].apply(x,ue)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function L(u){const m=u.length;if(m>0){const b=Array(m);for(let x=0;x<m;x++)b[x]=u[x];return b}return[]}function X(u,m){for(let x=1;x<arguments.length;x++){const z=arguments[x];var b=typeof z;if(b=b!="object"?b:z?Array.isArray(z)?"array":b:"null",b=="array"||b=="object"&&typeof z.length=="number"){b=u.length||0;const K=z.length||0;u.length=b+K;for(let ue=0;ue<K;ue++)u[b+ue]=z[ue]}else u.push(z)}}class Q{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function P(u){d.setTimeout(()=>{throw u},0)}function ie(){var u=S;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class le{constructor(){this.h=this.g=null}add(m,b){const x=he.get();x.set(m,b),this.h?this.h.next=x:this.g=x,this.h=x}}var he=new Q(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let re,F=!1,S=new le,w=()=>{const u=Promise.resolve(void 0);re=()=>{u.then(C)}};function C(){for(var u;u=ie();){try{u.h.call(u.g)}catch(b){P(b)}var m=he;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}F=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ve(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ve,I),ve.prototype.init=function(u,m){const b=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ae="closure_listenable_"+(Math.random()*1e6|0),j=0;function Y(u,m,b,x,z){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!x,this.ha=z,this.key=++j,this.da=this.fa=!1}function te(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function oe(u,m,b){for(const x in u)m.call(b,u[x],x,u)}function me(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function M(u){const m={};for(const b in u)m[b]=u[b];return m}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,m){let b,x;for(let z=1;z<arguments.length;z++){x=arguments[z];for(b in x)u[b]=x[b];for(let K=0;K<J.length;K++)b=J[K],Object.prototype.hasOwnProperty.call(x,b)&&(u[b]=x[b])}}function ce(u){this.src=u,this.g={},this.h=0}ce.prototype.add=function(u,m,b,x,z){const K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);const ue=Te(u,m,x,z);return ue>-1?(m=u[ue],b||(m.fa=!1)):(m=new Y(m,this.src,K,!!x,z),m.fa=b,u.push(m)),m};function fe(u,m){const b=m.type;if(b in u.g){var x=u.g[b],z=Array.prototype.indexOf.call(x,m,void 0),K;(K=z>=0)&&Array.prototype.splice.call(x,z,1),K&&(te(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Te(u,m,b,x){for(let z=0;z<u.length;++z){const K=u[z];if(!K.da&&K.listener==m&&K.capture==!!b&&K.ha==x)return z}return-1}var Ie="closure_lm_"+(Math.random()*1e6|0),de={};function xe(u,m,b,x,z){if(Array.isArray(m)){for(let K=0;K<m.length;K++)xe(u,m[K],b,x,z);return null}return b=hl(b),u&&u[Ae]?u.J(m,b,p(x)?!!x.capture:!1,z):rn(u,m,b,!1,x,z)}function rn(u,m,b,x,z,K){if(!m)throw Error("Invalid event type");const ue=p(z)?!!z.capture:!!z;let Oe=aa(u);if(Oe||(u[Ie]=Oe=new ce(u)),b=Oe.add(m,b,x,ue,K),b.proxy)return b;if(x=Ya(),b.proxy=x,x.src=u,x.listener=b,u.addEventListener)V||(z=ue),z===void 0&&(z=!1),u.addEventListener(m.toString(),x,z);else if(u.attachEvent)u.attachEvent(ti(m.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ya(){function u(b){return m.call(u.src,u.listener,b)}const m=ul;return u}function Qa(u,m,b,x,z){if(Array.isArray(m))for(var K=0;K<m.length;K++)Qa(u,m[K],b,x,z);else x=p(x)?!!x.capture:!!x,b=hl(b),u&&u[Ae]?(u=u.i,K=String(m).toString(),K in u.g&&(m=u.g[K],b=Te(m,b,x,z),b>-1&&(te(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[K],u.h--)))):u&&(u=aa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Te(m,b,x,z)),(b=u>-1?m[u]:null)&&Ka(b))}function Ka(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ae])fe(m.i,u);else{var b=u.type,x=u.proxy;m.removeEventListener?m.removeEventListener(b,x,u.capture):m.detachEvent?m.detachEvent(ti(b),x):m.addListener&&m.removeListener&&m.removeListener(x),(b=aa(m))?(fe(b,u),b.h==0&&(b.src=null,m[Ie]=null)):te(u)}}}function ti(u){return u in de?de[u]:de[u]="on"+u}function ul(u,m){if(u.da)u=!0;else{m=new ve(m,this);const b=u.listener,x=u.ha||u.src;u.fa&&Ka(u),u=b.call(x,m)}return u}function aa(u){return u=u[Ie],u instanceof ce?u:null}var cl="__closure_events_fn_"+(Math.random()*1e9>>>0);function hl(u){return typeof u=="function"?u:(u[cl]||(u[cl]=function(m){return u.handleEvent(m)}),u[cl])}function bt(){O.call(this),this.i=new ce(this),this.M=this,this.G=null}A(bt,O),bt.prototype[Ae]=!0,bt.prototype.removeEventListener=function(u,m,b,x){Qa(this,u,m,b,x)};function Mt(u,m){var b,x=u.G;if(x)for(b=[];x;x=x.G)b.push(x);if(u=u.M,x=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var z=m;m=new I(x,u),se(m,z)}z=!0;let K,ue;if(b)for(ue=b.length-1;ue>=0;ue--)K=m.g=b[ue],z=as(K,x,!0,m)&&z;if(K=m.g=u,z=as(K,x,!0,m)&&z,z=as(K,x,!1,m)&&z,b)for(ue=0;ue<b.length;ue++)K=m.g=b[ue],z=as(K,x,!1,m)&&z}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let x=0;x<b.length;x++)te(b[x]);delete u.g[m],u.h--}}this.G=null},bt.prototype.J=function(u,m,b,x){return this.i.add(String(u),m,!1,b,x)},bt.prototype.K=function(u,m,b,x){return this.i.add(String(u),m,!0,b,x)};function as(u,m,b,x){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let K=0;K<m.length;++K){const ue=m[K];if(ue&&!ue.da&&ue.capture==b){const Oe=ue.listener,pt=ue.ha||ue.src;ue.fa&&fe(u.i,ue),z=Oe.call(pt,x)!==!1&&z}}return z&&!x.defaultPrevented}function Rh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Xo(u){u.g=Rh(()=>{u.g=null,u.i&&(u.i=!1,Xo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends O{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ra(u){O.call(this),this.h=u,this.g={}}A(ra,O);var fl=[];function dl(u){oe(u.g,function(m,b){this.g.hasOwnProperty(b)&&Ka(m)},u),u.g={}}ra.prototype.N=function(){ra.Z.N.call(this),dl(this)},ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=d.JSON.stringify,Nh=d.JSON.parse,$o=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Jo(){}function Zo(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){I.call(this,"d")}A(Bt,I);function An(){I.call(this,"c")}A(An,I);var gt={},Wo=null;function Xa(){return Wo=Wo||new bt}gt.Ia="serverreachability";function eu(u){I.call(this,gt.Ia,u)}A(eu,I);function ni(u){const m=Xa();Mt(m,new eu(m))}gt.STAT_EVENT="statevent";function la(u,m){I.call(this,gt.STAT_EVENT,u),this.stat=m}A(la,I);function Et(u){const m=Xa();Mt(m,new la(m,u))}gt.Ja="timingevent";function ii(u,m){I.call(this,gt.Ja,u),this.size=m}A(ii,I);function si(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Ih(u,m,b,x,z,K){u.info(function(){if(u.g)if(K){var ue="",Oe=K.split("&");for(let Ke=0;Ke<Oe.length;Ke++){var pt=Oe[Ke].split("=");if(pt.length>1){const ot=pt[0];pt=pt[1];const In=ot.split("_");ue=In.length>=2&&In[1]=="type"?ue+(ot+"="+pt+"&"):ue+(ot+"=redacted&")}}}else ue=null;else ue=K;return"XMLHTTP REQ ("+x+") [attempt "+z+"]: "+m+`
`+b+`
`+ue})}function tu(u,m,b,x,z,K,ue){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+z+"]: "+m+`
`+b+`
`+K+" "+ue})}function ai(u,m,b,x){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dh(u,b)+(x?" "+x:"")})}function oa(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Dh(u,m){if(!u.g)return m;if(!m)return null;try{const K=JSON.parse(m);if(K){for(u=0;u<K.length;u++)if(Array.isArray(K[u])){var b=K[u];if(!(b.length<2)){var x=b[1];if(Array.isArray(x)&&!(x.length<1)){var z=x[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ue=1;ue<x.length;ue++)x[ue]=""}}}}return rs(K)}catch{return m}}var ua={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ml={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gl;function ca(){}A(ca,Jo),ca.prototype.g=function(){return new XMLHttpRequest},gl=new ca;function Mi(u){return encodeURIComponent(String(u))}function nu(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function qn(u,m,b,x){this.j=u,this.i=m,this.l=b,this.S=x||1,this.V=new ra(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Tt={},Lt={};function ri(u,m,b){u.M=1,u.A=ha(St(m)),u.u=b,u.R=!0,$a(u,null)}function $a(u,m){u.F=Date.now(),li(u),u.B=St(u.A);var b=u.B,x=u.S;Array.isArray(x)||(x=[String(x)]),er(b.i,"t",x),u.C=0,b=u.j.L,u.h=new Hn,u.g=yu(u.j,b?m:null,!u.u),u.P>0&&(u.O=new tn(_(u.Y,u,u.g),u.P)),m=u.V,b=u.g,x=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(fl[0]=z.toString()),z=fl);for(let K=0;K<z.length;K++){const ue=xe(b,z[K],x||m.handleEvent,!1,m.h||m);if(!ue)break;m.g[ue.key]=ue}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ni(),Ih(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Yn(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)e:{const Oe=Yn(this.g),pt=this.g.ya(),Ke=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||Oe!=4||pt==7||(pt==8||Ke<=0?ni(3):ni(2)),oi(this);var m=this.g.ca();this.X=m;var b=Mh(this);if(this.o=m==200,tu(this.i,this.v,this.B,this.l,this.S,Oe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var x,z=this.g;if((x=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(x)){var K=x;break t}}K=null}if(u=K)ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ui(this,u);else{this.o=!1,this.m=3,Et(12),pn(this),Cn(this);break e}}if(this.R){u=!0;let ot;for(;!this.K&&this.C<b.length;)if(ot=su(this,b),ot==Lt){Oe==4&&(this.m=4,Et(14),u=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Tt){this.m=4,Et(15),ai(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else ai(this.i,this.l,ot,null),ui(this,ot);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||b.length!=0||this.h.h||(this.m=1,Et(16),u=!1),this.o=this.o&&u,!u)ai(this.i,this.l,b,"[Invalid Chunked Response]"),pn(this),Cn(this);else if(b.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Il(ue),ue.P=!0,Et(11))}}else ai(this.i,this.l,b,null),ui(this,b);Oe==4&&pn(this),this.o&&!this.K&&(Oe==4?du(this.j,this):(this.o=!1,li(this)))}else Vi(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),pn(this),Cn(this)}}}catch{}};function Mh(u){if(!iu(u))return u.g.la();const m=qt(u.g);if(m==="")return"";let b="";const x=m.length,z=Yn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return pn(u),Cn(u),"";u.h.i=new d.TextDecoder}for(let K=0;K<x;K++)u.h.h=!0,b+=u.h.i.decode(m[K],{stream:!(z&&K==x-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function su(u,m){var b=u.C,x=m.indexOf(`
`,b);return x==-1?Lt:(b=Number(m.substring(b,x)),isNaN(b)?Tt:(x+=1,x+b>m.length?Lt:(m=m.slice(x,x+b),u.C=x+b,m)))}qn.prototype.cancel=function(){this.K=!0,pn(this)};function li(u){u.T=Date.now()+u.H,Ja(u,u.H)}function Ja(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=si(_(u.aa,u),m)}function oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(oa(this.i,this.B),this.M!=2&&(ni(),Et(17)),pn(this),this.m=2,Cn(this)):Ja(this,this.T-u)};function Cn(u){u.j.I==0||u.K||du(u.j,u)}function pn(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,dl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ui(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||hi(b.h,u))){if(!u.L&&hi(b.h,u)&&b.I==3){try{var x=b.Ba.g.parse(m)}catch{x=null}if(Array.isArray(x)&&x.length==3){var z=x;if(z[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)ar(b),ms(b);else break e;_a(b),Et(18)}}else b.xa=z[1],0<b.xa-b.K&&z[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=si(_(b.Va,b),6e3));ci(b.h)<=1&&b.ta&&(b.ta=void 0)}else yi(b,11)}else if((u.L||b.g==u)&&ar(b),!R(m))for(z=b.Ba.g.parse(m),m=0;m<z.length;m++){let Ke=z[m];const ot=Ke[0];if(!(ot<=b.K))if(b.K=ot,Ke=Ke[1],b.I==2)if(Ke[0]=="c"){b.M=Ke[1],b.ba=Ke[2];const In=Ke[3];In!=null&&(b.ka=In,b.j.info("VER="+b.ka));const _i=Ke[4];_i!=null&&(b.za=_i,b.j.info("SVER="+b.za));const Qn=Ke[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(x=1.5*Qn,b.O=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const Kn=u.g;if(Kn){const va=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(va){var K=x.h;K.g||va.indexOf("spdy")==-1&&va.indexOf("quic")==-1&&va.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(_l(K,K.h),K.h=null))}if(x.G){const rr=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;rr&&(x.wa=rr,Je(x.J,x.G,rr))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),x=b;var ue=u;if(x.na=pu(x,x.L?x.ba:null,x.W),ue.L){vl(x.h,ue);var Oe=ue,pt=x.O;pt&&(Oe.H=pt),Oe.D&&(oi(Oe),li(Oe)),x.g=ue}else hu(x);b.i.length>0&&pi(b)}else Ke[0]!="stop"&&Ke[0]!="close"||yi(b,7);else b.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?yi(b,7):Rl(b):Ke[0]!="noop"&&b.l&&b.l.qa(Ke),b.A=0)}}ni(4)}catch{}}var xt=class{constructor(u,m){this.g=u,this.map=m}};function pl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ci(u){return u.h?1:u.g?u.g.size:0}function hi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _l(u,m){u.g?u.g.add(m):u.h=m}function vl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}pl.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function bl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return L(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Za(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const x=u[b].indexOf("=");let z,K=null;x>=0?(z=u[b].substring(0,x),K=u[b].substring(x+1)):z=u[b],m(z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function yn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof yn?(this.l=u.l,Ut(this,u.j),this.o=u.o,this.g=u.g,ls(this,u.u),this.h=u.h,El(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(au))?(this.l=!1,Ut(this,m[1]||"",!0),this.o=fi(m[2]||""),this.g=fi(m[3]||"",!0),ls(this,m[4]),this.h=fi(m[5]||"",!0),El(this,m[6]||"",!0),this.m=fi(m[7]||"")):(this.l=!1,this.i=new us(null,this.l))}yn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(fa(m,Wa,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fa(m,Wa,!0),"@"),u.push(Mi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(fa(b,b.charAt(0)=="/"?Tl:ru,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",fa(b,lu)),u.join("")},yn.prototype.resolve=function(u){const m=St(this);let b=!!u.j;b?Ut(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var x=u.h;if(b)ls(m,u.u);else if(b=!!u.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var z=m.h.lastIndexOf("/");z!=-1&&(x=m.h.slice(0,z+1)+x)}if(z=x,z==".."||z==".")x="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){x=z.lastIndexOf("/",0)==0,z=z.split("/");const K=[];for(let ue=0;ue<z.length;){const Oe=z[ue++];Oe=="."?x&&ue==z.length&&K.push(""):Oe==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),x&&ue==z.length&&K.push("")):(K.push(Oe),x=!0)}x=K.join("/")}else x=z}return b?m.h=x:b=u.i.toString()!=="",b?El(m,uu(u.i)):b=!!u.m,b&&(m.m=u.m),m};function St(u){return new yn(u)}function Ut(u,m,b){u.j=b?fi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ls(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function El(u,m,b){m instanceof us?(u.i=m,tr(u.i,u.l)):(b||(m=fa(m,os)),u.i=new us(m,u.l))}function Je(u,m,b){u.i.set(m,b)}function ha(u){return Je(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function fi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fa(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,ln),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ln(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Wa=/[#\/\?@]/g,ru=/[#\?:]/g,Tl=/[#\?]/g,os=/[#\?@]/g,lu=/#/g;function us(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function on(u){u.g||(u.g=new Map,u.h=0,u.i&&Za(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=us.prototype,s.add=function(u,m){on(this),this.i=null,u=cs(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function ou(u,m){on(u),m=cs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function xl(u,m){return on(u),m=cs(u,m),u.g.has(m)}s.forEach=function(u,m){on(this),this.g.forEach(function(b,x){b.forEach(function(z){u.call(m,z,x,this)},this)},this)};function Sl(u,m){on(u);let b=[];if(typeof m=="string")xl(u,m)&&(b=b.concat(u.g.get(cs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}s.set=function(u,m){return on(this),this.i=null,u=cs(this,u),xl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Sl(this,u),u.length>0?String(u[0]):m):m};function er(u,m,b){ou(u,m),b.length>0&&(u.i=null,u.g.set(cs(u,m),L(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let x=0;x<m.length;x++){var b=m[x];const z=Mi(b);b=Sl(this,b);for(let K=0;K<b.length;K++){let ue=z;b[K]!==""&&(ue+="="+Mi(b[K])),u.push(ue)}}return this.i=u.join("&")};function uu(u){const m=new us;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function cs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function tr(u,m){m&&!u.j&&(on(u),u.i=null,u.g.forEach(function(b,x){const z=x.toLowerCase();x!=z&&(ou(this,x),er(this,z,b))},u)),u.j=m}function Fn(u,m){const b=new Bn;if(d.Image){const x=new Image;x.onload=T(Rn,b,"TestLoadImage: loaded",!0,m,x),x.onerror=T(Rn,b,"TestLoadImage: error",!1,m,x),x.onabort=T(Rn,b,"TestLoadImage: abort",!1,m,x),x.ontimeout=T(Rn,b,"TestLoadImage: timeout",!1,m,x),d.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else m(!1)}function wl(u,m){const b=new Bn,x=new AbortController,z=setTimeout(()=>{x.abort(),Rn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:x.signal}).then(K=>{clearTimeout(z),K.ok?Rn(b,"TestPingServer: ok",!0,m):Rn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),Rn(b,"TestPingServer: error",!1,m)})}function Rn(u,m,b,x,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),x(b)}catch{}}function hs(){this.g=new $o}function di(u){this.i=u.Sb||null,this.h=u.ab||!1}A(di,Jo),di.prototype.g=function(){return new da(this.i,this.h)};function da(u,m){bt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(da,bt),s=da.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;nr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function nr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?fs(this):Gn(this),this.readyState==3&&nr(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,fs(this))},s.Na=function(u){this.g&&(this.response=u,fs(this))},s.ga=function(){this.g&&fs(this)};function fs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Nn(u){let m="";return oe(u,function(b,x){m+=x,m+=":",m+=b,m+=`\r
`}),m}function ma(u,m,b){e:{for(x in b){var x=!1;break e}x=!0}x||(b=Nn(b),typeof u=="string"?b!=null&&Mi(b):Je(u,m,b))}function et(u){bt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(et,bt);var mi=/^https?$/i,Al=["POST","PUT"];s=et.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gl.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(K){ga(this,K);return}if(u=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var z in x)b.set(z,x[z]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const K of x.keys())b.set(K,x.get(K));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(K=>K.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Al,m,void 0)>=0)||x||z||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ue]of b)this.g.setRequestHeader(K,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(K){ga(this,K)}};function ga(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Cl(u),Oi(u)}function Cl(u){u.A||(u.A=!0,Mt(u,"complete"),Mt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Mt(this,"complete"),Mt(this,"abort"),Oi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),et.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?pa(this):this.Xa())},s.Xa=function(){pa(this)};function pa(u){if(u.h&&typeof c<"u"){if(u.v&&Yn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Mt(u,"readystatechange"),Yn(u)==4){u.h=!1;try{const K=u.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var x;if(x=K===0){let ue=String(u.D).match(au)[1]||null;!ue&&d.self&&d.self.location&&(ue=d.self.location.protocol.slice(0,-1)),x=!mi.test(ue?ue.toLowerCase():"")}b=x}if(b)Mt(u,"complete"),Mt(u,"success");else{u.o=6;try{var z=Yn(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",Cl(u)}}finally{Oi(u)}}}}function Oi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||Mt(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Yn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Nh(m)}};function qt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Yn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(R(u[x]))continue;var b=nu(u[x]);const z=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const K=m[z]||[];m[z]=K,K.push(b)}me(m,function(x){return x.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function ds(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,u),this.Za=gi("retryDelaySeedMs",1e4,u),this.Ta=gi("forwardChannelMaxRetries",2,u),this.va=gi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new pl(u&&u.concurrentRequestLimit),this.Ba=new hs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ds.prototype,s.ka=8,s.I=1,s.connect=function(u,m,b,x){Et(0),this.W=u,this.H=m||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.J=pu(this,null,this.W),pi(this)};function Rl(u){if(ir(u),u.I==3){var m=u.V++,b=St(u.J);if(Je(b,"SID",u.M),Je(b,"RID",m),Je(b,"TYPE","terminate"),ya(u,b),m=new qn(u,u.j,m),m.M=2,m.A=ha(St(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}gu(u)}function ms(u){u.g&&(Il(u),u.g.cancel(),u.g=null)}function ir(u){ms(u),u.v&&(d.clearTimeout(u.v),u.v=null),ar(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function pi(u){if(!yl(u.h)&&!u.m){u.m=!0;var m=u.Ea;re||w(),F||(re(),F=!0),S.add(m,u),u.D=0}}function sr(u,m){return ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=si(_(u.Ea,u,m),mu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new qn(this,this.j,u);let K=this.o;if(this.U&&(K?(K=M(K),se(K,this.U)):K=this.U),this.u!==null||this.R||(z.J=K,K=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(m+=x,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=cu(this,z,m),b=St(this.J),Je(b,"RID",u),Je(b,"CVER",22),this.G&&Je(b,"X-HTTP-Session-Id",this.G),ya(this,b),K&&(this.R?m="headers="+Mi(Nn(K))+"&"+m:this.u&&ma(b,this.u,K)),_l(this.h,z),this.Ra&&Je(b,"TYPE","init"),this.S?(Je(b,"$req",m),Je(b,"SID","null"),z.U=!0,ri(z,b,null)):ri(z,b,m),this.I=2}}else this.I==3&&(u?Nl(this,u):this.i.length==0||yl(this.h)||Nl(this))};function Nl(u,m){var b;m?b=m.l:b=u.V++;const x=St(u.J);Je(x,"SID",u.M),Je(x,"RID",b),Je(x,"AID",u.K),ya(u,x),u.u&&u.o&&ma(x,u.u,u.o),b=new qn(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cu(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),_l(u.h,b),ri(b,x,m)}function ya(u,m){u.H&&oe(u.H,function(b,x){Je(m,x,b)}),u.l&&oe({},function(b,x){Je(m,x,b)})}function cu(u,m,b){b=Math.min(u.i.length,b);const x=u.l?_(u.l.Ka,u.l,u):null;e:{var z=u.i;let Oe=-1;for(;;){const pt=["count="+b];Oe==-1?b>0?(Oe=z[0].g,pt.push("ofs="+Oe)):Oe=0:pt.push("ofs="+Oe);let Ke=!0;for(let ot=0;ot<b;ot++){var K=z[ot].g;const In=z[ot].map;if(K-=Oe,K<0)Oe=Math.max(0,z[ot].g-100),Ke=!1;else try{K="req"+K+"_"||"";try{var ue=In instanceof Map?In:Object.entries(In);for(const[_i,Qn]of ue){let Kn=Qn;p(Qn)&&(Kn=rs(Qn)),pt.push(K+_i+"="+encodeURIComponent(Kn))}}catch(_i){throw pt.push(K+"type="+encodeURIComponent("_badmap")),_i}}catch{x&&x(In)}}if(Ke){ue=pt.join("&");break e}}ue=void 0}return u=u.i.splice(0,b),m.G=u,ue}function hu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;re||w(),F||(re(),F=!0),S.add(m,u),u.A=0}}function _a(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=si(_(u.Da,u),mu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=si(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),ms(this),fu(this))};function Il(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=St(u.na);Je(m,"RID","rpc"),Je(m,"SID",u.M),Je(m,"AID",u.K),Je(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Je(m,"TO",u.ia),Je(m,"TYPE","xmlhttp"),ya(u,m),u.u&&u.o&&ma(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=ha(St(m)),b.u=null,b.R=!0,$a(b,u)}s.Va=function(){this.C!=null&&(this.C=null,ms(this),_a(this),Et(19))};function ar(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function du(u,m){var b=null;if(u.g==m){ar(u),Il(u),u.g=null;var x=2}else if(hi(u.h,m))b=m.G,vl(u.h,m),x=1;else return;if(u.I!=0){if(m.o)if(x==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var z=u.D;x=Xa(),Mt(x,new ii(x,b)),pi(u)}else hu(u);else if(z=m.m,z==3||z==0&&m.X>0||!(x==1&&sr(u,m)||x==2&&_a(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),z){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function mu(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var b=_(u.bb,u),x=u.Ua;const z=!x;x=new yn(x||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ut(x,"https"),ha(x),z?Fn(x.toString(),b):wl(x.toString(),b)}else Et(2);u.I=0,u.l&&u.l.pa(m),gu(u),ir(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function gu(u){if(u.I=0,u.ja=[],u.l){const m=bl(u.h);(m.length!=0||u.i.length!=0)&&(X(u.ja,m),X(u.ja,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.oa()}}function pu(u,m,b){var x=b instanceof yn?St(b):new yn(b);if(x.g!="")m&&(x.g=m+"."+x.g),ls(x,x.u);else{var z=d.location;x=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const K=new yn(null);x&&Ut(K,x),m&&(K.g=m),z&&ls(K,z),b&&(K.h=b),x=K}return b=u.G,m=u.wa,b&&m&&Je(x,b,m),Je(x,"VER",u.ka),ya(u,x),x}function yu(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new et(new di({ab:b})):new et(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}s=_u.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function gs(){}gs.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){bt.call(this),this.g=new ds(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ji(this)}A(nn,bt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Rl(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=rs(u),u=b);m.i.push(new xt(m.Ya++,u)),m.I==3&&pi(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Rl(this.g),delete this.g,nn.Z.N.call(this)};function vu(u){Bt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(vu,Bt);function bu(){An.call(this),this.status=1}A(bu,An);function ji(u){this.g=u}A(ji,_u),ji.prototype.ra=function(){Mt(this.g,"a")},ji.prototype.qa=function(u){Mt(this.g,new vu(u))},ji.prototype.pa=function(u){Mt(this.g,new bu)},ji.prototype.oa=function(){Mt(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,o1=function(){return new gs},l1=function(){return Xa()},r1=gt,Wd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ua.NO_ERROR=0,ua.TIMEOUT=8,ua.HTTP_ERROR=6,jc=ua,ml.COMPLETE="complete",a1=ml,Zo.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,yo=Zo,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,s1=et}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let al="12.8.0";function dA(s){al=s}const qa=new _m("@firebase/firestore");function Ur(){return qa.logLevel}function ge(s,...e){if(qa.logLevel<=ze.DEBUG){const i=e.map(Rm);qa.debug(`Firestore (${al}): ${s}`,...i)}}function ns(s,...e){if(qa.logLevel<=ze.ERROR){const i=e.map(Rm);qa.error(`Firestore (${al}): ${s}`,...i)}}function $r(s,...e){if(qa.logLevel<=ze.WARN){const i=e.map(Rm);qa.warn(`Firestore (${al}): ${s}`,...i)}}function Rm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ce(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,u1(s,a,i)}function u1(s,e,i){let a=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ns(a),new Error(a)}function $e(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||u1(e,o,a)}function Me(s,e){return s}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends ss{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class La{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class c1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Zt.UNAUTHENTICATED)))}shutdown(){}}class gA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class pA{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){$e(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new La;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new La,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new La)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($e(typeof a.accessToken=="string",31837,{l:a}),new c1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class yA{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class _A{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new yA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class d_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){$e(this.o===void 0,3512);const a=c=>{c.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ge("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new d_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?($e(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new d_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Nm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=bA(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Be(s,e){return s<e?-1:s>e?1:0}function em(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return zd(o)===zd(c)?Be(o,c):zd(o)?1:-1}return Be(s.length,e.length)}const EA=55296,TA=57343;function zd(s){const e=s.charCodeAt(0);return e>=EA&&e<=TA}function Jr(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const m_="__name__";class xi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ce(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ce(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=xi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Be(e.length,i.length)}static compareSegments(e,i){const a=xi.isNumericId(e),o=xi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?xi.extractNumericId(e).compare(xi.extractNumericId(i)):em(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ks.fromString(e.substring(4,e.length-2))}}class ht extends xi{construct(e,i,a){return new ht(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new be(ae.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new ht(i)}static emptyPath(){return new ht([])}}const xA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends xi{construct(e,i,a){return new Kt(e,i,a)}static isValidIdentifier(e){return xA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===m_}static keyField(){return new Kt([m_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new be(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new be(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new be(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new be(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(i)}static emptyPath(){return new Kt([])}}class Se{constructor(e){this.path=e}static fromPath(e){return new Se(ht.fromString(e))}static fromName(e){return new Se(ht.fromString(e).popFirst(5))}static empty(){return new Se(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ht.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new ht(e.slice()))}}function SA(s,e,i){if(!i)throw new be(ae.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function wA(s,e,i,a){if(e===!0&&a===!0)throw new be(ae.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function g_(s){if(!Se.isDocumentKey(s))throw new be(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function h1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Im(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ce(12329,{type:typeof s})}function Xs(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new be(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Im(s);throw new be(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Dt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Fo(s,e){if(!h1(s))throw new be(ae.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new be(ae.INVALID_ARGUMENT,i);return!0}const p_=-62135596800,y_=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*y_);return new lt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new be(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new be(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<p_)throw new be(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/y_}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fo(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-p_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Dt("string",lt._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new lt(0,0))}static max(){return new Ne(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const No=-1;function AA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(a===1e9?new lt(i+1,0):new lt(i,a));return new Js(o,Se.empty(),e)}function CA(s){return new Js(s.readTime,s.key,No)}class Js{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Js(Ne.min(),Se.empty(),No)}static max(){return new Js(Ne.max(),Se.empty(),No)}}function RA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=Se.comparator(s.documentKey,e.documentKey),i!==0?i:Be(s.largestBatchId,e.largestBatchId))}const NA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function rl(s){if(s.code!==ae.FAILED_PRECONDITION||s.message!==NA)throw s;ge("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ne(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof ne?i:ne.resolve(i)}catch(i){return ne.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):ne.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):ne.reject(i)}static resolve(e){return new ne(((i,a)=>{i(e)}))}static reject(e){return new ne(((i,a)=>{a(e)}))}static waitFor(e){return new ne(((i,a)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(e){let i=ne.resolve(!1);for(const a of e)i=i.next((o=>o?ne.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new ne(((a,o)=>{const c=e.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const _=v;i(e[_]).next((T=>{d[_]=T,++p,p===c&&a(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new ne(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function DA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ll(s){return s.name==="IndexedDbTransactionError"}class fh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fh.ce=-1;const Dm=-1;function dh(s){return s==null}function Xc(s){return s===0&&1/s==-1/0}function MA(s){return typeof s=="number"&&Number.isInteger(s)&&!Xc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const f1="";function OA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=__(e)),e=VA(s.get(i),e);return __(e)}function VA(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case f1:i+="";break;default:i+=c}}return i}function __(s){return s+f1+""}function v_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ia(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function d1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ft{constructor(e,i){this.comparator=e,this.root=i||Qt.EMPTY}insert(e,i){return new ft(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ac(this.root,e,this.comparator,!0)}}class Ac{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??Qt.RED,this.left=o??Qt.EMPTY,this.right=c??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new Qt(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new Qt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new b_(this.data.getIterator())}getIteratorFrom(e){return new b_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new kt(this.comparator);return i.data=e,i}}class b_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new wn([])}unionWith(e){let i=new kt(Kt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new wn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Jr(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class m1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new m1("Invalid base64 string: "+c):c}})(e);return new Xt(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Xt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const jA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(s){if($e(!!s,39018),typeof s=="string"){let e=0;const i=jA.exec(s);if($e(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:vt(s.seconds),nanos:vt(s.nanos)}}function vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ws(s){return typeof s=="string"?Xt.fromBase64String(s):Xt.fromUint8Array(s)}const g1="server_timestamp",p1="__type__",y1="__previous_value__",_1="__local_write_time__";function Mm(s){return(s?.mapValue?.fields||{})[p1]?.stringValue===g1}function mh(s){const e=s.mapValue.fields[y1];return Mm(e)?mh(e):e}function Io(s){const e=Zs(s.mapValue.fields[_1].timestampValue);return new lt(e.seconds,e.nanos)}class kA{constructor(e,i,a,o,c,d,p,v,_,T,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=T,this.apiKey=A}}const $c="(default)";class Do{constructor(e,i){this.projectId=e,this.database=i||$c}static empty(){return new Do("","")}get isDefaultDatabase(){return this.database===$c}isEqual(e){return e instanceof Do&&e.projectId===this.projectId&&e.database===this.database}}function LA(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new be(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Do(s.options.projectId,e)}const v1="__type__",UA="__max__",Cc={mapValue:{}},b1="__vector__",Jc="value";function ea(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Mm(s)?4:zA(s)?9007199254740991:PA(s)?10:11:Ce(28295,{value:s})}function Ii(s,e){if(s===e)return!0;const i=ea(s);if(i!==ea(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Io(s).isEqual(Io(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Zs(o.timestampValue),p=Zs(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Ws(o.bytesValue).isEqual(Ws(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return vt(o.geoPointValue.latitude)===vt(c.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return vt(o.integerValue)===vt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=vt(o.doubleValue),p=vt(c.doubleValue);return d===p?Xc(d)===Xc(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Jr(s.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(v_(d)!==v_(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Ii(d[v],p[v])))return!1;return!0})(s,e);default:return Ce(52216,{left:s})}}function Mo(s,e){return(s.values||[]).find((i=>Ii(i,e)))!==void 0}function Zr(s,e){if(s===e)return 0;const i=ea(s),a=ea(e);if(i!==a)return Be(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Be(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=vt(c.integerValue||c.doubleValue),v=vt(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,e);case 3:return E_(s.timestampValue,e.timestampValue);case 4:return E_(Io(s),Io(e));case 5:return em(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=Ws(c),v=Ws(d);return p.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const T=Be(p[_],v[_]);if(T!==0)return T}return Be(p.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Be(vt(c.latitude),vt(d.latitude));return p!==0?p:Be(vt(c.longitude),vt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return T_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},_=p[Jc]?.arrayValue,T=v[Jc]?.arrayValue,A=Be(_?.values?.length||0,T?.values?.length||0);return A!==0?A:T_(_,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Cc.mapValue&&d===Cc.mapValue)return 0;if(c===Cc.mapValue)return 1;if(d===Cc.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),_=d.fields||{},T=Object.keys(_);v.sort(),T.sort();for(let A=0;A<v.length&&A<T.length;++A){const N=em(v[A],T[A]);if(N!==0)return N;const L=Zr(p[v[A]],_[T[A]]);if(L!==0)return L}return Be(v.length,T.length)})(s.mapValue,e.mapValue);default:throw Ce(23264,{he:i})}}function E_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Be(s,e);const i=Zs(s),a=Zs(e),o=Be(i.seconds,a.seconds);return o!==0?o:Be(i.nanos,a.nanos)}function T_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Zr(i[o],a[o]);if(c)return c}return Be(i.length,a.length)}function Wr(s){return tm(s)}function tm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Zs(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ws(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Se.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=tm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${tm(i.fields[d])}`;return o+"}"})(s.mapValue):Ce(61005,{value:s})}function kc(s){switch(ea(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mh(s);return e?16+kc(e):16;case 5:return 2*s.stringValue.length;case 6:return Ws(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+kc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return ia(a.fields,((c,d)=>{o+=c.length+kc(d)})),o})(s.mapValue);default:throw Ce(13486,{value:s})}}function nm(s){return!!s&&"integerValue"in s}function Om(s){return!!s&&"arrayValue"in s}function x_(s){return!!s&&"nullValue"in s}function S_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Lc(s){return!!s&&"mapValue"in s}function PA(s){return(s?.mapValue?.fields||{})[v1]?.stringValue===b1}function xo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ia(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=xo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=xo(s.arrayValue.values[i]);return e}return{...s}}function zA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===UA}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Lc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=xo(i)}setAll(e){let i=Kt.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=xo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){ia(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new gn(xo(this.value))}}function E1(s){const e=[];return ia(s.fields,((i,a)=>{const o=new Kt([i]);if(Lc(a)){const c=E1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new wn(e)}class Wt{constructor(e,i,a,o,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Wt(e,0,Ne.min(),Ne.min(),Ne.min(),gn.empty(),0)}static newFoundDocument(e,i,a,o){return new Wt(e,1,i,Ne.min(),a,o,0)}static newNoDocument(e,i){return new Wt(e,2,i,Ne.min(),Ne.min(),gn.empty(),0)}static newUnknownDocument(e,i){return new Wt(e,3,i,Ne.min(),Ne.min(),gn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zc{constructor(e,i){this.position=e,this.inclusive=i}}function w_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=Se.comparator(Se.fromName(d.referenceValue),i.key):a=Zr(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function A_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ii(s.position[i],e.position[i]))return!1;return!0}class Wc{constructor(e,i="asc"){this.field=e,this.dir=i}}function BA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class T1{}class Vt extends T1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new HA(e,i,a):i==="array-contains"?new YA(e,a):i==="in"?new QA(e,a):i==="not-in"?new KA(e,a):i==="array-contains-any"?new XA(e,a):new Vt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new FA(e,a):new GA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Zr(i,this.value)):i!==null&&ea(this.value)===ea(i)&&this.matchesComparison(Zr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends T1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Di(e,i)}matches(e){return x1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x1(s){return s.op==="and"}function S1(s){return qA(s)&&x1(s)}function qA(s){for(const e of s.filters)if(e instanceof Di)return!1;return!0}function im(s){if(s instanceof Vt)return s.field.canonicalString()+s.op.toString()+Wr(s.value);if(S1(s))return s.filters.map((e=>im(e))).join(",");{const e=s.filters.map((i=>im(i))).join(",");return`${s.op}(${e})`}}function w1(s,e){return s instanceof Vt?(function(a,o){return o instanceof Vt&&a.op===o.op&&a.field.isEqual(o.field)&&Ii(a.value,o.value)})(s,e):s instanceof Di?(function(a,o){return o instanceof Di&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&w1(d,o.filters[p])),!0):!1})(s,e):void Ce(19439)}function A1(s){return s instanceof Vt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wr(i.value)}`})(s):s instanceof Di?(function(i){return i.op.toString()+" {"+i.getFilters().map(A1).join(" ,")+"}"})(s):"Filter"}class HA extends Vt{constructor(e,i,a){super(e,i,a),this.key=Se.fromName(a.referenceValue)}matches(e){const i=Se.comparator(e.key,this.key);return this.matchesComparison(i)}}class FA extends Vt{constructor(e,i){super(e,"in",i),this.keys=C1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class GA extends Vt{constructor(e,i){super(e,"not-in",i),this.keys=C1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function C1(s,e){return(e.arrayValue?.values||[]).map((i=>Se.fromName(i.referenceValue)))}class YA extends Vt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Om(i)&&Mo(i.arrayValue,this.value)}}class QA extends Vt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Mo(this.value.arrayValue,i)}}class KA extends Vt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Mo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Mo(this.value.arrayValue,i)}}class XA extends Vt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Om(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Mo(this.value.arrayValue,a)))}}class $A{constructor(e,i=null,a=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function C_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new $A(s,e,i,a,o,c,d)}function Vm(s){const e=Me(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>im(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),dh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Wr(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Wr(a))).join(",")),e.Te=i}return e.Te}function jm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!BA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!w1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!A_(s.startAt,e.startAt)&&A_(s.endAt,e.endAt)}function sm(s){return Se.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class gh{constructor(e,i=null,a=[],o=[],c=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function JA(s,e,i,a,o,c,d,p){return new gh(s,e,i,a,o,c,d,p)}function km(s){return new gh(s)}function R_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function ZA(s){return Se.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function WA(s){return s.collectionGroup!==null}function So(s){const e=Me(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new kt(Kt.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Wc(c,a))})),i.has(Kt.keyField().canonicalString())||e.Ie.push(new Wc(Kt.keyField(),a))}return e.Ie}function Ai(s){const e=Me(s);return e.Ee||(e.Ee=e2(e,So(s))),e.Ee}function e2(s,e){if(s.limitType==="F")return C_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Wc(o.field,c)}));const i=s.endAt?new Zc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Zc(s.startAt.position,s.startAt.inclusive):null;return C_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function am(s,e,i){return new gh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function ph(s,e){return jm(Ai(s),Ai(e))&&s.limitType===e.limitType}function R1(s){return`${Vm(Ai(s))}|lt:${s.limitType}`}function Pr(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>A1(o))).join(", ")}]`),dh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Wr(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Wr(o))).join(",")),`Target(${a})`})(Ai(s))}; limitType=${s.limitType})`}function yh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Se.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of So(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,p,v){const _=w_(d,p,v);return d.inclusive?_<=0:_<0})(a.startAt,So(a),o)||a.endAt&&!(function(d,p,v){const _=w_(d,p,v);return d.inclusive?_>=0:_>0})(a.endAt,So(a),o))})(s,e)}function t2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function N1(s){return(e,i)=>{let a=!1;for(const o of So(s)){const c=n2(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function n2(s,e,i){const a=s.field.isKeyField()?Se.comparator(e.key,i.key):(function(c,d,p){const v=d.data.field(c),_=p.data.field(c);return v!==null&&_!==null?Zr(v,_):Ce(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Ce(19790,{direction:s.dir})}}class Fa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ia(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return d1(this.inner)}size(){return this.innerSize}}const i2=new ft(Se.comparator);function is(){return i2}const I1=new ft(Se.comparator);function _o(...s){let e=I1;for(const i of s)e=e.insert(i.key,i);return e}function D1(s){let e=I1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ka(){return wo()}function M1(){return wo()}function wo(){return new Fa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const s2=new ft(Se.comparator),a2=new kt(Se.comparator);function qe(...s){let e=a2;for(const i of s)e=e.add(i);return e}const r2=new kt(Be);function l2(){return r2}function Lm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function O1(s){return{integerValue:""+s}}function o2(s,e){return MA(e)?O1(e):Lm(s,e)}class _h{constructor(){this._=void 0}}function u2(s,e,i){return s instanceof eh?(function(o,c){const d={fields:{[p1]:{stringValue:g1},[_1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Mm(c)&&(c=mh(c)),c&&(d.fields[y1]=c),{mapValue:d}})(i,e):s instanceof Oo?j1(s,e):s instanceof Vo?k1(s,e):(function(o,c){const d=V1(o,c),p=N_(d)+N_(o.Ae);return nm(d)&&nm(o.Ae)?O1(p):Lm(o.serializer,p)})(s,e)}function c2(s,e,i){return s instanceof Oo?j1(s,e):s instanceof Vo?k1(s,e):i}function V1(s,e){return s instanceof th?(function(a){return nm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class eh extends _h{}class Oo extends _h{constructor(e){super(),this.elements=e}}function j1(s,e){const i=L1(e);for(const a of s.elements)i.some((o=>Ii(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Vo extends _h{constructor(e){super(),this.elements=e}}function k1(s,e){let i=L1(e);for(const a of s.elements)i=i.filter((o=>!Ii(o,a)));return{arrayValue:{values:i}}}class th extends _h{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function N_(s){return vt(s.integerValue||s.doubleValue)}function L1(s){return Om(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function h2(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof Oo&&o instanceof Oo||a instanceof Vo&&o instanceof Vo?Jr(a.elements,o.elements,Ii):a instanceof th&&o instanceof th?Ii(a.Ae,o.Ae):a instanceof eh&&o instanceof eh})(s.transform,e.transform)}class f2{constructor(e,i){this.version=e,this.transformResults=i}}class Ci{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ci}static exists(e){return new Ci(void 0,e)}static updateTime(e){return new Ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class vh{}function U1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new z1(s.key,Ci.none()):new Go(s.key,s.data,Ci.none());{const i=s.data,a=gn.empty();let o=new kt(Kt.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new sa(s.key,a,new wn(o.toArray()),Ci.none())}}function d2(s,e,i){s instanceof Go?(function(o,c,d){const p=o.value.clone(),v=D_(o.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof sa?(function(o,c,d){if(!Uc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=D_(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(P1(o)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ao(s,e,i,a){return s instanceof Go?(function(c,d,p,v){if(!Uc(c.precondition,d))return p;const _=c.value.clone(),T=M_(c.fieldTransforms,v,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof sa?(function(c,d,p,v){if(!Uc(c.precondition,d))return p;const _=M_(c.fieldTransforms,v,d),T=d.data;return T.setAll(P1(c)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,a):(function(c,d,p){return Uc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function m2(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=V1(a.transform,o||null);c!=null&&(i===null&&(i=gn.empty()),i.set(a.field,c))}return i||null}function I_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Jr(a,o,((c,d)=>h2(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Go extends vh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class sa extends vh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function P1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function D_(s,e,i){const a=new Map;$e(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);a.set(c.field,c2(d,p,i[o]))}return a}function M_(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,u2(c,d,e))}return a}class z1 extends vh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g2 extends vh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class p2{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&d2(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Ao(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Ao(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=M1();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const v=U1(d,p);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Ne.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qe())}isEqual(e){return this.batchId===e.batchId&&Jr(this.mutations,e.mutations,((i,a)=>I_(i,a)))&&Jr(this.baseMutations,e.baseMutations,((i,a)=>I_(i,a)))}}class Um{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){$e(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return s2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Um(e,i,a,o)}}class y2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Nt,Ge;function v2(s){switch(s){case ae.OK:return Ce(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ce(15467,{code:s})}}function B1(s){if(s===void 0)return ns("GRPC error has no .code"),ae.UNKNOWN;switch(s){case Nt.OK:return ae.OK;case Nt.CANCELLED:return ae.CANCELLED;case Nt.UNKNOWN:return ae.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return ae.INTERNAL;case Nt.UNAVAILABLE:return ae.UNAVAILABLE;case Nt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Nt.NOT_FOUND:return ae.NOT_FOUND;case Nt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Nt.ABORTED:return ae.ABORTED;case Nt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Nt.DATA_LOSS:return ae.DATA_LOSS;default:return Ce(39323,{code:s})}}(Ge=Nt||(Nt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function b2(){return new TextEncoder}const E2=new Ks([4294967295,4294967295],0);function O_(s){const e=b2().encode(s),i=new i1;return i.update(e),new Uint8Array(i.digest())}function V_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ks([i,a],0),new Ks([o,c],0)]}class Pm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new vo(`Invalid padding: ${i}`);if(a<0)throw new vo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new vo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ks.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Ks.fromNumber(a)));return o.compare(E2)===1&&(o=new Ks([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=O_(e),[a,o]=V_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Pm(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=O_(e),[a,o]=V_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Yo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new bh(Ne.min(),o,new ft(Be),is(),qe())}}class Yo{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Yo(a,i,qe(),qe(),qe())}}class Pc{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=o}}class q1{constructor(e,i){this.targetId=e,this.Ce=i}}class H1{constructor(e,i,a=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class j_{constructor(){this.ve=0,this.Fe=k_(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),i=qe(),a=qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Ce(38017,{changeType:c})}})),new Yo(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=k_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class T2{constructor(e){this.Ge=e,this.ze=new Map,this.je=is(),this.He=Rc(),this.Je=Rc(),this.Ze=new ft(Be)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(sm(c))if(a===0){const d=new Se(c.path);this.et(i,d,Wt.newNoDocument(d,Ne.min()))}else $e(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Ws(a).toUint8Array()}catch(v){if(v instanceof m1)return $r("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Pm(d,o,c)}catch(v){return $r(v instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&sm(p.target)){const v=new Se(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Wt.newNoDocument(v,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=qe();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new bh(e,i,this.Ze,this.je,a);return this.je=is(),this.He=Rc(),this.Je=Rc(),this.Ze=new ft(Be),o}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new j_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new kt(Be),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new kt(Be),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ge("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new j_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Rc(){return new ft(Se.comparator)}function k_(){return new ft(Se.comparator)}const x2={asc:"ASCENDING",desc:"DESCENDING"},S2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w2={and:"AND",or:"OR"};class A2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function rm(s,e){return s.useProto3Json||dh(e)?e:{value:e}}function nh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function F1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function C2(s,e){return nh(s,e.toTimestamp())}function Ri(s){return $e(!!s,49232),Ne.fromTimestamp((function(i){const a=Zs(i);return new lt(a.seconds,a.nanos)})(s))}function zm(s,e){return lm(s,e).canonicalString()}function lm(s,e){const i=(function(o){return new ht(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function G1(s){const e=ht.fromString(s);return $e($1(e),10190,{key:e.toString()}),e}function om(s,e){return zm(s.databaseId,e.path)}function Bd(s,e){const i=G1(e);if(i.get(1)!==s.databaseId.projectId)throw new be(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new be(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Se(Q1(i))}function Y1(s,e){return zm(s.databaseId,e)}function R2(s){const e=G1(s);return e.length===4?ht.emptyPath():Q1(e)}function um(s){return new ht(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Q1(s){return $e(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function L_(s,e,i){return{name:om(s,e),fields:i.value.mapValue.fields}}function N2(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ce(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,T){return _.useProto3Json?($e(T===void 0||typeof T=="string",58123),Xt.fromBase64String(T||"")):($e(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Xt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const T=_.code===void 0?ae.UNKNOWN:B1(_.code);return new be(T,_.message||"")})(d);i=new H1(a,o,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Bd(s,a.document.name),c=Ri(a.document.updateTime),d=a.document.createTime?Ri(a.document.createTime):Ne.min(),p=new gn({mapValue:{fields:a.document.fields}}),v=Wt.newFoundDocument(o,c,d,p),_=a.targetIds||[],T=a.removedTargetIds||[];i=new Pc(_,T,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Bd(s,a.document),c=a.readTime?Ri(a.readTime):Ne.min(),d=Wt.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Pc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Bd(s,a.document),c=a.removedTargetIds||[];i=new Pc([],c,o,null)}else{if(!("filter"in e))return Ce(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new _2(o,c),p=a.targetId;i=new q1(p,d)}}return i}function I2(s,e){let i;if(e instanceof Go)i={update:L_(s,e.key,e.value)};else if(e instanceof z1)i={delete:om(s,e.key)};else if(e instanceof sa)i={update:L_(s,e.key,e.data),updateMask:P2(e.fieldMask)};else{if(!(e instanceof g2))return Ce(16599,{dt:e.type});i={verify:om(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Oo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Vo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof th)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Ce(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:C2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ce(27497)})(s,e.precondition)),i}function D2(s,e){return s&&s.length>0?($e(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Ri(o.updateTime):Ri(c);return d.isEqual(Ne.min())&&(d=Ri(c)),new f2(d,o.transformResults||[])})(i,e)))):[]}function M2(s,e){return{documents:[Y1(s,e.path)]}}function O2(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Y1(s,o);const c=(function(_){if(_.length!==0)return X1(Di.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((T=>(function(N){return{field:zr(N.field),direction:k2(N.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=rm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function V2(s){let e=R2(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){$e(a===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(A){const N=K1(A);return N instanceof Di&&S1(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((N=>(function(X){return new Wc(Br(X.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let N;return N=typeof A=="object"?A.value:A,dh(N)?null:N})(i.limit));let v=null;i.startAt&&(v=(function(A){const N=!!A.before,L=A.values||[];return new Zc(L,N)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const N=!A.before,L=A.values||[];return new Zc(L,N)})(i.endAt)),JA(e,o,d,c,p,"F",v,_)}function j2(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function K1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Br(i.unaryFilter.field);return Vt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Br(i.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Br(i.unaryFilter.field);return Vt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Br(i.unaryFilter.field);return Vt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Vt.create(Br(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Di.create(i.compositeFilter.filters.map((a=>K1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(i.compositeFilter.op))})(s):Ce(30097,{filter:s})}function k2(s){return x2[s]}function L2(s){return S2[s]}function U2(s){return w2[s]}function zr(s){return{fieldPath:s.canonicalString()}}function Br(s){return Kt.fromServerFormat(s.fieldPath)}function X1(s){return s instanceof Vt?(function(i){if(i.op==="=="){if(S_(i.value))return{unaryFilter:{field:zr(i.field),op:"IS_NAN"}};if(x_(i.value))return{unaryFilter:{field:zr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(S_(i.value))return{unaryFilter:{field:zr(i.field),op:"IS_NOT_NAN"}};if(x_(i.value))return{unaryFilter:{field:zr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zr(i.field),op:L2(i.op),value:i.value}}})(s):s instanceof Di?(function(i){const a=i.getFilters().map((o=>X1(o)));return a.length===1?a[0]:{compositeFilter:{op:U2(i.op),filters:a}}})(s):Ce(54877,{filter:s})}function P2(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function $1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function J1(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Hs{constructor(e,i,a,o,c=Ne.min(),d=Ne.min(),p=Xt.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new Hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class z2{constructor(e){this.yt=e}}function B2(s){const e=V2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?am(e,e.limit,"L"):e}class q2{constructor(){this.Sn=new H2}addToCollectionParentIndex(e,i){return this.Sn.add(i),ne.resolve()}getCollectionParents(e,i){return ne.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return ne.resolve()}deleteFieldIndex(e,i){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,i){return ne.resolve()}getDocumentsMatchingTarget(e,i){return ne.resolve(null)}getIndexType(e,i){return ne.resolve(0)}getFieldIndexes(e,i){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,i){return ne.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,i){return ne.resolve(Js.min())}updateCollectionGroup(e,i,a){return ne.resolve()}updateIndexEntries(e,i){return ne.resolve()}}class H2{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new kt(ht.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new kt(ht.comparator)).toArray()}}const U_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Z1=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(Z1,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class el{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new el(0)}static ar(){return new el(-1)}}const P_="LruGarbageCollector",F2=1048576;function z_([s,e],[i,a]){const o=Be(s,i);return o===0?Be(e,a):o}class G2{constructor(e){this.Pr=e,this.buffer=new kt(z_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();z_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Y2{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ge(P_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ll(i)?ge(P_,"Ignoring IndexedDB error during garbage collection: ",i):await rl(i)}await this.Ar(3e5)}))}}class Q2{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return ne.resolve(fh.ce);const a=new G2(i);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(U_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),U_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,o,c,d,p,v,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(a=A,p=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(_=Date.now(),Ur()<=ze.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${A} documents in `+(_-v)+`ms
Total Duration: ${_-T}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function K2(s,e){return new Q2(s,e)}class X2{constructor(){this.changes=new Fa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?ne.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class J2{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Ao(a.mutation,o,wn.empty(),lt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,qe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=qe()){const o=ka();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=_o();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ka();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,qe())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,o){let c=is();const d=wo(),p=(function(){return wo()})();return i.forEach(((v,_)=>{const T=a.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof sa)?c=c.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Ao(T.mutation,_,T.mutation.getFieldMask(),lt.now())):d.set(_.key,wn.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>p.set(_,new $2(T,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=wo();let o=new ft(((d,p)=>d-p)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let T=a.get(v)||wn.empty();T=p.applyToLocalView(_,T),a.set(v,T);const A=(o.get(p.batchId)||qe()).add(v);o=o.insert(p.batchId,A)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,T=v.value,A=M1();T.forEach((N=>{if(!c.has(N)){const L=U1(i.get(N),a.get(N));L!==null&&A.set(N,L),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return ne.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return ZA(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):WA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):ne.resolve(ka());let p=No,v=c;return d.next((_=>ne.forEach(_,((T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(T)?ne.resolve():this.remoteDocumentCache.getEntry(e,T).next((N=>{v=v.insert(T,N)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,v,_,qe()))).next((T=>({batchId:p,changes:D1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Se(i)).next((a=>{let o=_o();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=_o();return this.indexManager.getCollectionParents(e,c).next((p=>ne.forEach(p,(v=>{const _=(function(A,N){return new gh(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((T=>{T.forEach(((A,N)=>{d=d.insert(A,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((v,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,Wt.newInvalidDocument(T)))}));let p=_o();return d.forEach(((v,_)=>{const T=c.get(v);T!==void 0&&Ao(T.mutation,_,wn.empty(),lt.now()),yh(i,_)&&(p=p.insert(v,_))})),p}))}}class Z2{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return ne.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ri(o.createTime)}})(i)),ne.resolve()}getNamedQuery(e,i){return ne.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:B2(o.bundledQuery),readTime:Ri(o.readTime)}})(i)),ne.resolve()}}class W2{constructor(){this.overlays=new ft(Se.comparator),this.Lr=new Map}getOverlay(e,i){return ne.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ka();return ne.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.bt(e,i,c)})),ne.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),ne.resolve()}getOverlaysForCollection(e,i,a){const o=ka(),c=i.length+1,d=new Se(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new ft(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let T=c.get(_.largestBatchId);T===null&&(T=ka(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const p=ka(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,T)=>p.set(_,T))),!(p.size()>=o)););return ne.resolve(p)}bt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new y2(i,a));let c=this.Lr.get(i);c===void 0&&(c=qe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class eC{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,ne.resolve()}}class Bm{constructor(){this.kr=new kt(zt.Kr),this.qr=new kt(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new zt(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new zt(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new Se(new ht([])),a=new zt(i,e),o=new zt(i,e+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new Se(new ht([])),a=new zt(i,e),o=new zt(i,e+1);let c=qe();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new zt(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class zt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return Se.comparator(e.key,i.key)||Be(e.Hr,i.Hr)}static Ur(e,i){return Be(e.Hr,i.Hr)||Se.comparator(e.key,i.key)}}class tC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new kt(zt.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new p2(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new zt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(d)}lookupMutationBatch(e,i){return ne.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return ne.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Dm:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new zt(i,0),o=new zt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const p=this.Zr(d.Hr);c.push(p)})),ne.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new kt(Be);return i.forEach((o=>{const c=new zt(o,0),d=new zt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),ne.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;Se.isDocumentKey(c)||(c=c.child(""));const d=new zt(new Se(c),0);let p=new kt(Be);return this.Jr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(p=p.add(v.Hr)),!0)}),d),ne.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){$e(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return ne.forEach(i.mutations,(o=>{const c=new zt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new zt(i,0),o=this.Jr.firstAfterOrEqual(a);return ne.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class nC{constructor(e){this.ti=e,this.docs=(function(){return new ft(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return ne.resolve(a?a.document.mutableCopy():Wt.newInvalidDocument(i))}getEntries(e,i){let a=is();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Wt.newInvalidDocument(o))})),ne.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=is();const d=i.path,p=new Se(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:T}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||RA(CA(T),a)<=0||(o.has(T.key)||yh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return ne.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Ce(9500)}ni(e,i){return ne.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new iC(this)}getSize(e){return ne.resolve(this.size)}}class iC extends X2{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),ne.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class sC{constructor(e){this.persistence=e,this.ri=new Fa((i=>Vm(i)),jm),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ii=0,this.si=new Bm,this.targetCount=0,this.oi=el._r()}forEachTarget(e,i){return this.ri.forEach(((a,o)=>i(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),ne.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new el(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,ne.resolve()}updateTargetData(e,i){return this.lr(i),ne.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ne.waitFor(c).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return ne.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),ne.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),ne.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),ne.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return ne.resolve(a)}containsKey(e,i){return ne.resolve(this.si.containsKey(i))}}class W1{constructor(e,i){this._i={},this.overlays={},this.ai=new fh(0),this.ui=!1,this.ui=!0,this.ci=new eC,this.referenceDelegate=e(this),this.li=new sC(this),this.indexManager=new q2,this.remoteDocumentCache=(function(o){return new nC(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new z2(i),this.Pi=new Z2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new W2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new tC(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){ge("MemoryPersistence","Starting transaction:",e);const o=new aC(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return ne.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class aC extends IA{constructor(e){super(),this.currentSequenceNumber=e}}class qm{constructor(e){this.persistence=e,this.Ri=new Bm,this.Ai=null}static Vi(e){return new qm(e)}get di(){if(this.Ai)return this.Ai;throw Ce(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),ne.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),ne.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),ne.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,(a=>{const o=Se.fromPath(a);return this.mi(e,o).next((c=>{c||i.removeEntry(o,Ne.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return ne.or([()=>ne.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class ih{constructor(e,i){this.persistence=e,this.fi=new Fa((a=>OA(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=K2(this,i)}static Vi(e,i){return new ih(e,i)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return ne.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((c=>c?ne.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(a++,c.removeEntry(d,Ne.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),ne.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),ne.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),ne.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=kc(e.data.value)),i}wr(e,i,a){return ne.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return ne.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Hm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=o}static Es(e,i){let a=qe(),o=qe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Hm(e,i.fromCache,a,o)}}class rC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class lC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return QT()?8:DA(en())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new rC;return this.ys(e,i,d).next((p=>{if(c.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>c.result))}ws(e,i,a,o){return a.documentReadCount<this.Vs?(Ur()<=ze.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Pr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(Ur()<=ze.DEBUG&&ge("QueryEngine","Query:",Pr(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(Ur()<=ze.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Pr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(i))):ne.resolve())}gs(e,i){if(R_(i))return ne.resolve(null);let a=Ai(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=am(i,null,"F"),a=Ai(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=qe(...c);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((v=>{const _=this.bs(i,p);return this.Ss(i,_,d,v.readTime)?this.gs(e,am(i,null,"F")):this.Ds(e,_,i,v)}))))})))))}ps(e,i,a,o){return R_(i)||o.isEqual(Ne.min())?ne.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?ne.resolve(null):(Ur()<=ze.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Pr(i)),this.Ds(e,d,i,AA(o,No)).next((p=>p)))}))}bs(e,i){let a=new kt(N1(e));return i.forEach(((o,c)=>{yh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,a){return Ur()<=ze.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Pr(i)),this.fs.getDocumentsMatchingQuery(e,i,Js.min(),a)}Ds(e,i,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Fm="LocalStore",oC=3e8;class uC{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new ft(Be),this.Fs=new Fa((c=>Vm(c)),jm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function cC(s,e,i,a){return new uC(s,e,i,a)}async function eb(s,e){const i=Me(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=qe();for(const _ of o){d.push(_.batchId);for(const T of _.mutations)v=v.add(T.key)}for(const _ of c){p.push(_.batchId);for(const T of _.mutations)v=v.add(T.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function hC(s,e){const i=Me(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,T){const A=_.batch,N=A.keys();let L=ne.resolve();return N.forEach((X=>{L=L.next((()=>T.getEntry(v,X))).next((Q=>{const P=_.docVersions.get(X);$e(P!==null,48541),Q.version.compareTo(P)<0&&(A.applyToRemoteDocument(Q,_),Q.isValidDocument()&&(Q.setReadTime(_.commitVersion),T.addEntry(Q)))}))})),L.next((()=>p.mutationQueue.removeMutationBatch(v,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=qe();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function tb(s){const e=Me(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function fC(s,e){const i=Me(s),a=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];e.targetChanges.forEach(((T,A)=>{const N=o.get(A);if(!N)return;p.push(i.li.removeMatchingKeys(c,T.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,T.addedDocuments,A))));let L=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?L=L.withResumeToken(Xt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):T.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(T.resumeToken,a)),o=o.insert(A,L),(function(Q,P,ie){return Q.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=oC?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(N,L,T)&&p.push(i.li.updateTargetData(c,L))}));let v=is(),_=qe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(dC(c,d,e.documentUpdates).next((T=>{v=T.Bs,_=T.Ls}))),!a.isEqual(Ne.min())){const T=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(T)}return ne.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,_))).next((()=>v))})).then((c=>(i.vs=o,c)))}function dC(s,e,i){let a=qe(),o=qe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=is();return i.forEach(((p,v)=>{const _=c.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(Ne.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):ge(Fm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function mC(s,e){const i=Me(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Dm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function gC(s,e){const i=Me(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,e).next((c=>c?(o=c,ne.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new Hs(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function cm(s,e,i){const a=Me(s),o=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ll(d))throw d;ge(Fm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function B_(s,e,i){const a=Me(s);let o=Ne.min(),c=qe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,T){const A=Me(v),N=A.Fs.get(T);return N!==void 0?ne.resolve(A.vs.get(N)):A.li.getTargetData(_,T)})(a,d,Ai(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?o:Ne.min(),i?c:qe()))).next((p=>(pC(a,t2(e),p),{documents:p,ks:c})))))}function pC(s,e,i){let a=s.Ms.get(e)||Ne.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class q_{constructor(){this.activeTargetIds=l2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yC{constructor(){this.vo=new q_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new q_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _C{Mo(e){}shutdown(){}}const H_="ConnectivityMonitor";class F_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ge(H_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ge(H_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nc=null;function hm(){return Nc===null?Nc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nc++,"0x"+Nc.toString(16)}const qd="RestConnection",vC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class bC{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===$c?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,c){const d=hm(),p=this.Qo(e,i.toUriEncodedString());ge(qd,`Sending RPC '${e}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,c);const{host:_}=new URL(p),T=nl(_);return this.zo(e,p,v,a,T).then((A=>(ge(qd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw $r(qd,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}jo(e,i,a,o,c,d){return this.Wo(e,i,a,o,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const a=vC[e];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class EC{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Jt="WebChannelConnection",po=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Yr extends bC{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Yr.c_){const e=l1();po(e,r1.STAT_EVENT,(i=>{i.stat===Wd.PROXY?ge(Jt,"STAT_EVENT: detected buffering proxy"):i.stat===Wd.NOPROXY&&ge(Jt,"STAT_EVENT: detected no buffering proxy")})),Yr.c_=!0}}zo(e,i,a,o,c){const d=hm();return new Promise(((p,v)=>{const _=new s1;_.setWithCredentials(!0),_.listenOnce(a1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case jc.NO_ERROR:const A=_.getResponseJson();ge(Jt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case jc.TIMEOUT:ge(Jt,`RPC '${e}' ${d} timed out`),v(new be(ae.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const N=_.getStatus();if(ge(Jt,`RPC '${e}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let L=_.getResponseJson();Array.isArray(L)&&(L=L[0]);const X=L?.error;if(X&&X.status&&X.message){const Q=(function(ie){const le=ie.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(le)>=0?le:ae.UNKNOWN})(X.status);v(new be(Q,X.message))}else v(new be(ae.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new be(ae.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ge(Jt,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);ge(Jt,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",T,a,15)}))}T_(e,i,a){const o=hm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const _=c.join("");ge(Jt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const T=d.createWebChannel(_,p);this.I_(T);let A=!1,N=!1;const L=new EC({Ho:X=>{N?ge(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,X):(A||(ge(Jt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),ge(Jt,`RPC '${e}' stream ${o} sending:`,X),T.send(X))},Jo:()=>T.close()});return po(T,yo.EventType.OPEN,(()=>{N||(ge(Jt,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),po(T,yo.EventType.CLOSE,(()=>{N||(N=!0,ge(Jt,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(T))})),po(T,yo.EventType.ERROR,(X=>{N||(N=!0,$r(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,X.name,"Message:",X.message),L.o_(new be(ae.UNAVAILABLE,"The operation could not be completed")))})),po(T,yo.EventType.MESSAGE,(X=>{if(!N){const Q=X.data[0];$e(!!Q,16349);const P=Q,ie=P?.error||P[0]?.error;if(ie){ge(Jt,`RPC '${e}' stream ${o} received error:`,ie);const le=ie.status;let he=(function(F){const S=Nt[F];if(S!==void 0)return B1(S)})(le),G=ie.message;he===void 0&&(he=ae.INTERNAL,G="Unknown error status: "+le+" with message "+ie.message),N=!0,L.o_(new be(he,G)),T.close()}else ge(Jt,`RPC '${e}' stream ${o} received:`,Q),L.__(Q)}})),Yr.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return o1()}}function TC(s){return new Yr(s)}function Hd(){return typeof document<"u"?document:null}function Eh(s){return new A2(s,!0)}Yr.c_=!1;class nb{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const G_="PersistentStream";class ib{constructor(e,i,a,o,c,d,p,v){this.Ci=e,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nb(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ae.RESOURCE_EXHAUSTED?(ns(i.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new be(ae.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(G_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ge(G_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xC extends ib{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=N2(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ne.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ne.min():d.readTime?Ri(d.readTime):Ne.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=um(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=sm(v)?{documents:M2(c,v)}:{query:O2(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=F1(c,d.resumeToken);const _=rm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ne.min())>0){p.readTime=nh(c,d.snapshotVersion.toTimestamp());const _=rm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const a=j2(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=um(this.serializer),i.removeTarget=e,this.K_(i)}}class SC extends ib{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=D2(e.writeResults,e.commitTime),a=Ri(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=um(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>I2(this.serializer,a)))};this.K_(i)}}class wC{}class AC extends wC{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new be(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,lm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new be(ae.UNKNOWN,c.toString())}))}jo(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,lm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new be(ae.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function CC(s,e,i,a){return new AC(s,e,i,a)}class RC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ns(i),this.aa=!1):ge("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ha="RemoteStore";class NC{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Ga(this)&&(ge(Ha,"Restarting streams for network reachability change."),await(async function(v){const _=Me(v);_.Ea.add(4),await Qo(_),_.Va.set("Unknown"),_.Ea.delete(4),await Th(_)})(this))}))})),this.Va=new RC(a,o)}}async function Th(s){if(Ga(s))for(const e of s.Ra)await e(!0)}async function Qo(s){for(const e of s.Ra)await e(!1)}function sb(s,e){const i=Me(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Km(i)?Qm(i):ol(i).O_()&&Ym(i,e))}function Gm(s,e){const i=Me(s),a=ol(i);i.Ia.delete(e),a.O_()&&ab(i,e),i.Ia.size===0&&(a.O_()?a.L_():Ga(i)&&i.Va.set("Unknown"))}function Ym(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ol(s).Z_(e)}function ab(s,e){s.da.$e(e),ol(s).X_(e)}function Qm(s){s.da=new T2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),ol(s).start(),s.Va.ua()}function Km(s){return Ga(s)&&!ol(s).x_()&&s.Ia.size>0}function Ga(s){return Me(s).Ea.size===0}function rb(s){s.da=void 0}async function IC(s){s.Va.set("Online")}async function DC(s){s.Ia.forEach(((e,i)=>{Ym(s,e)}))}async function MC(s,e){rb(s),Km(s)?(s.Va.ha(e),Qm(s)):s.Va.set("Unknown")}async function OC(s,e,i){if(s.Va.set("Online"),e instanceof H1&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(s,e)}catch(a){ge(Ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await sh(s,a)}else if(e instanceof Pc?s.da.Xe(e):e instanceof q1?s.da.st(e):s.da.tt(e),!i.isEqual(Ne.min()))try{const a=await tb(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const T=c.Ia.get(_);T&&c.Ia.set(_,T.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const T=c.Ia.get(v);if(!T)return;c.Ia.set(v,T.withResumeToken(Xt.EMPTY_BYTE_STRING,T.snapshotVersion)),ab(c,v);const A=new Hs(T.target,v,_,T.sequenceNumber);Ym(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){ge(Ha,"Failed to raise snapshot:",a),await sh(s,a)}}async function sh(s,e,i){if(!ll(e))throw e;s.Ea.add(1),await Qo(s),s.Va.set("Offline"),i||(i=()=>tb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ge(Ha,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Th(s)}))}function lb(s,e){return e().catch((i=>sh(s,i,e)))}async function xh(s){const e=Me(s),i=ta(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dm;for(;VC(e);)try{const o=await mC(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,jC(e,o)}catch(o){await sh(e,o)}ob(e)&&ub(e)}function VC(s){return Ga(s)&&s.Ta.length<10}function jC(s,e){s.Ta.push(e);const i=ta(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function ob(s){return Ga(s)&&!ta(s).x_()&&s.Ta.length>0}function ub(s){ta(s).start()}async function kC(s){ta(s).ra()}async function LC(s){const e=ta(s);for(const i of s.Ta)e.ea(i.mutations)}async function UC(s,e,i){const a=s.Ta.shift(),o=Um.from(a,e,i);await lb(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await xh(s)}async function PC(s,e){e&&ta(s).Y_&&await(async function(a,o){if((function(d){return v2(d)&&d!==ae.ABORTED})(o.code)){const c=a.Ta.shift();ta(a).B_(),await lb(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await xh(a)}})(s,e),ob(s)&&ub(s)}async function Y_(s,e){const i=Me(s);i.asyncQueue.verifyOperationInProgress(),ge(Ha,"RemoteStore received new credentials");const a=Ga(i);i.Ea.add(3),await Qo(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Th(i)}async function zC(s,e){const i=Me(s);e?(i.Ea.delete(2),await Th(i)):e||(i.Ea.add(2),await Qo(i),i.Va.set("Unknown"))}function ol(s){return s.ma||(s.ma=(function(i,a,o){const c=Me(i);return c.sa(),new xC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:IC.bind(null,s),Yo:DC.bind(null,s),t_:MC.bind(null,s),J_:OC.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Km(s)?Qm(s):s.Va.set("Unknown")):(await s.ma.stop(),rb(s))}))),s.ma}function ta(s){return s.fa||(s.fa=(function(i,a,o){const c=Me(i);return c.sa(),new SC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:kC.bind(null,s),t_:PC.bind(null,s),ta:LC.bind(null,s),na:UC.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await xh(s)):(await s.fa.stop(),s.Ta.length>0&&(ge(Ha,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Xm{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new La,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,p=new Xm(e,i,d,o,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $m(s,e){if(ns("AsyncQueue",`${e}: ${s}`),ll(s))return new be(ae.UNAVAILABLE,`${e}: ${s}`);throw s}class Qr{static emptySet(e){return new Qr(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||Se.comparator(i.key,a.key):(i,a)=>Se.comparator(i.key,a.key),this.keyedMap=_o(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Qr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Qr;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class Q_{constructor(){this.ga=new ft(Se.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ce(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class tl{constructor(e,i,a,o,c,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new tl(e,i,Qr.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class BC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class qC{constructor(){this.queries=K_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Me(i),c=o.queries;o.queries=K_(),c.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new be(ae.ABORTED,"Firestore shutting down"))}}function K_(){return new Fa((s=>R1(s)),ph)}async function HC(s,e){const i=Me(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(a=2):(c=new BC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=$m(d,`Initialization of query '${Pr(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Jm(i)}async function FC(s,e){const i=Me(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function GC(s,e){const i=Me(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(o)&&(a=!0);d.wa=o}}a&&Jm(i)}function YC(s,e,i){const a=Me(s),o=a.queries.get(e);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(e)}function Jm(s){s.Ca.forEach((e=>{e.next()}))}var fm,X_;(X_=fm||(fm={})).Ma="default",X_.Cache="cache";class QC{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new tl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fm.Cache}}class cb{constructor(e){this.key=e}}class hb{constructor(e){this.key=e}}class KC{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qe(),this.mutatedKeys=qe(),this.eu=N1(e),this.tu=new Qr(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new Q_,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,A)=>{const N=o.get(T),L=yh(this.query,A)?A:null,X=!!N&&this.mutatedKeys.has(N.key),Q=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let P=!1;N&&L?N.data.isEqual(L.data)?X!==Q&&(a.track({type:3,doc:L}),P=!0):this.su(N,L)||(a.track({type:2,doc:L}),P=!0,(v&&this.eu(L,v)>0||_&&this.eu(L,_)<0)&&(p=!0)):!N&&L?(a.track({type:0,doc:L}),P=!0):N&&!L&&(a.track({type:1,doc:N}),P=!0,(v||_)&&(p=!0)),P&&(L?(d=d.add(L),c=Q?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,A)=>(function(L,X){const Q=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Vt:P})}};return Q(L)-Q(X)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,_=v!==this.Xa;return this.Xa=v,d.length!==0||_?{snapshot:new tl(this.query,e.tu,c,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Q_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=qe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new hb(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new cb(a))})),i}cu(e){this.Za=e.ks,this.Ya=qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Zm="SyncEngine";class XC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class $C{constructor(e){this.key=e,this.hu=!1}}class JC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fa((p=>R1(p)),ph),this.Iu=new Map,this.Eu=new Set,this.Ru=new ft(Se.comparator),this.Au=new Map,this.Vu=new Bm,this.du={},this.mu=new Map,this.fu=el.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZC(s,e,i=!0){const a=yb(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await fb(a,e,i,!0),o}async function WC(s,e){const i=yb(s);await fb(i,e,!0,!1)}async function fb(s,e,i,a){const o=await gC(s.localStore,Ai(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await eR(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&sb(s.remoteStore,o),p}async function eR(s,e,i,a,o){s.pu=(A,N,L)=>(async function(Q,P,ie,le){let he=P.view.ru(ie);he.Ss&&(he=await B_(Q.localStore,P.query,!1).then((({documents:S})=>P.view.ru(S,he))));const G=le&&le.targetChanges.get(P.targetId),re=le&&le.targetMismatches.get(P.targetId)!=null,F=P.view.applyChanges(he,Q.isPrimaryClient,G,re);return J_(Q,P.targetId,F.au),F.snapshot})(s,A,N,L);const c=await B_(s.localStore,e,!0),d=new KC(e,c.ks),p=d.ru(c.documents),v=Yo.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(p,s.isPrimaryClient,v);J_(s,i,_.au);const T=new XC(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function tR(s,e,i){const a=Me(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!ph(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await cm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Gm(a.remoteStore,o.targetId),dm(a,o.targetId)})).catch(rl)):(dm(a,o.targetId),await cm(a.localStore,o.targetId,!0))}async function nR(s,e){const i=Me(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Gm(i.remoteStore,a.targetId))}async function iR(s,e,i){const a=cR(s);try{const o=await(function(d,p){const v=Me(d),_=lt.now(),T=p.reduce(((L,X)=>L.add(X.key)),qe());let A,N;return v.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let X=is(),Q=qe();return v.xs.getEntries(L,T).next((P=>{X=P,X.forEach(((ie,le)=>{le.isValidDocument()||(Q=Q.add(ie))}))})).next((()=>v.localDocuments.getOverlayedDocuments(L,X))).next((P=>{A=P;const ie=[];for(const le of p){const he=m2(le,A.get(le.key).overlayedDocument);he!=null&&ie.push(new sa(le.key,he,E1(he.value.mapValue),Ci.exists(!0)))}return v.mutationQueue.addMutationBatch(L,_,ie,p)})).next((P=>{N=P;const ie=P.applyToLocalDocumentSet(A,Q);return v.documentOverlayCache.saveOverlays(L,P.batchId,ie)}))})).then((()=>({batchId:N.batchId,changes:D1(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let _=d.du[d.currentUser.toKey()];_||(_=new ft(Be)),_=_.insert(p,v),d.du[d.currentUser.toKey()]=_})(a,o.batchId,i),await Ko(a,o.changes),await xh(a.remoteStore)}catch(o){const c=$m(o,"Failed to persist write");i.reject(c)}}async function db(s,e){const i=Me(s);try{const a=await fC(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?$e(d.hu,14607):o.removedDocuments.size>0&&($e(d.hu,42227),d.hu=!1))})),await Ko(i,a,e)}catch(a){await rl(a)}}function $_(s,e,i){const a=Me(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=Me(d);v.onlineState=p;let _=!1;v.queries.forEach(((T,A)=>{for(const N of A.ba)N.va(p)&&(_=!0)})),_&&Jm(v)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function sR(s,e,i){const a=Me(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new ft(Se.comparator);d=d.insert(c,Wt.newNoDocument(c,Ne.min()));const p=qe().add(c),v=new bh(Ne.min(),new Map,new ft(Be),d,p);await db(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(e),Wm(a)}else await cm(a.localStore,e,!1).then((()=>dm(a,e,i))).catch(rl)}async function aR(s,e){const i=Me(s),a=e.batch.batchId;try{const o=await hC(i.localStore,e);gb(i,a,null),mb(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Ko(i,o)}catch(o){await rl(o)}}async function rR(s,e,i){const a=Me(s);try{const o=await(function(d,p){const v=Me(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return v.mutationQueue.lookupMutationBatch(_,p).next((A=>($e(A!==null,37113),T=A.keys(),v.mutationQueue.removeMutationBatch(_,A)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,T,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>v.localDocuments.getDocuments(_,T)))}))})(a.localStore,e);gb(a,e,i),mb(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Ko(a,o)}catch(o){await rl(o)}}function mb(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function gb(s,e,i){const a=Me(s);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function dm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||pb(s,a)}))}function pb(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(Gm(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),Wm(s))}function J_(s,e,i){for(const a of i)a instanceof cb?(s.Vu.addReference(a.key,e),lR(s,a)):a instanceof hb?(ge(Zm,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||pb(s,a.key)):Ce(19791,{wu:a})}function lR(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(ge(Zm,"New document in limbo: "+i),s.Eu.add(a),Wm(s))}function Wm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new Se(ht.fromString(e)),a=s.fu.next();s.Au.set(a,new $C(i)),s.Ru=s.Ru.insert(i,a),sb(s.remoteStore,new Hs(Ai(km(i.path)),a,"TargetPurposeLimboResolution",fh.ce))}}async function Ko(s,e,i){const a=Me(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const T=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,T?"current":"not-current")}if(_){o.push(_);const T=Hm.Es(v.targetId,_);c.push(T)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(v,_){const T=Me(v);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>ne.forEach(_,(N=>ne.forEach(N.Ts,(L=>T.persistence.referenceDelegate.addReference(A,N.targetId,L))).next((()=>ne.forEach(N.Is,(L=>T.persistence.referenceDelegate.removeReference(A,N.targetId,L)))))))))}catch(A){if(!ll(A))throw A;ge(Fm,"Failed to update sequence numbers: "+A)}for(const A of _){const N=A.targetId;if(!A.fromCache){const L=T.vs.get(N),X=L.snapshotVersion,Q=L.withLastLimboFreeSnapshotVersion(X);T.vs=T.vs.insert(N,Q)}}})(a.localStore,c))}async function oR(s,e){const i=Me(s);if(!i.currentUser.isEqual(e)){ge(Zm,"User change. New user:",e.toKey());const a=await eb(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new be(ae.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Ko(i,a.Ns)}}function uR(s,e){const i=Me(s),a=i.Au.get(e);if(a&&a.hu)return qe().add(a.key);{let o=qe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function yb(s){const e=Me(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=db.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sR.bind(null,e),e.Pu.J_=GC.bind(null,e.eventManager),e.Pu.yu=YC.bind(null,e.eventManager),e}function cR(s){const e=Me(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rR.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return cC(this.persistence,new lC,e.initialUser,this.serializer)}Cu(e){return new W1(qm.Vi,this.serializer)}Du(e){return new yC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class hR extends ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){$e(this.persistence.referenceDelegate instanceof ih,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Y2(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new W1((a=>ih.Vi(a,i)),this.serializer)}}class mm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>$_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=oR.bind(null,this.syncEngine),await zC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new qC})()}createDatastore(e){const i=Eh(e.databaseInfo.databaseId),a=TC(e.databaseInfo);return CC(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,p){return new NC(a,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>$_(this.syncEngine,i,0)),(function(){return F_.v()?new F_:new _C})())}createSyncEngine(e,i){return(function(o,c,d,p,v,_,T){const A=new JC(o,c,d,p,v,_);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Me(i);ge(Ha,"RemoteStore shutting down."),a.Ea.add(5),await Qo(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mm.provider={build:()=>new mm};class fR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ns("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const na="FirestoreClient";class dR{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ge(na,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ge(na,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new La;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=$m(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Fd(s,e){s.asyncQueue.verifyOperationInProgress(),ge(na,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await eb(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Z_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await mR(s);ge(na,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Y_(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>Y_(e.remoteStore,o))),s._onlineComponents=e}async function mR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ge(na,"Using user provided OfflineComponentProvider");try{await Fd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;$r("Error using user provided cache. Falling back to memory cache: "+i),await Fd(s,new ah)}}else ge(na,"Using default OfflineComponentProvider"),await Fd(s,new hR(void 0));return s._offlineComponents}async function _b(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ge(na,"Using user provided OnlineComponentProvider"),await Z_(s,s._uninitializedComponentsProvider._online)):(ge(na,"Using default OnlineComponentProvider"),await Z_(s,new mm))),s._onlineComponents}function gR(s){return _b(s).then((e=>e.syncEngine))}async function W_(s){const e=await _b(s),i=e.eventManager;return i.onListen=ZC.bind(null,e.syncEngine),i.onUnlisten=tR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=WC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=nR.bind(null,e.syncEngine),i}function pR(s,e,i,a){const o=new fR(a),c=new QC(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>HC(await W_(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>FC(await W_(s),c)))}}function yR(s,e){const i=new La;return s.asyncQueue.enqueueAndForget((async()=>iR(await gR(s),e,i))),i.promise}function vb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const _R="ComponentProvider",ev=new Map;function vR(s,e,i,a,o){return new kA(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,vb(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const bb="firestore.googleapis.com",tv=!0;class nv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bb,this.ssl=tv}else this.host=e.host,this.ssl=e.ssl??tv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Z1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<F2)throw new be(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vb(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eg{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new mA;switch(a.type){case"firstParty":return new _A(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new be(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=ev.get(i);a&&(ge(_R,"Removing Datastore"),ev.delete(i),a.terminate())})(this),Promise.resolve()}}function bR(s,e,i,a={}){s=Xs(s,eg);const o=nl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(yv(`https://${p}`),_v("Firestore",!0)),c.host!==bb&&c.host!==p&&$r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:o,emulatorOptions:a};if(!Pa(v,d)&&(s._setSettings(v),a.mockUserToken)){let _,T;if(typeof a.mockUserToken=="string")_=a.mockUserToken,T=Zt.MOCK_USER;else{_=UT(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new be(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Zt(A)}s._authCredentials=new gA(new c1(_,T))}}class Sh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Sh(this.firestore,e,this._query)}}class jt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Fo(i,jt._jsonSchema))return new jt(e,a||null,new Se(ht.fromString(i.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:Dt("string",jt._jsonSchemaVersion),referencePath:Dt("string")};class jo extends Sh{constructor(e,i,a){super(e,i,km(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new Se(e))}withConverter(e){return new jo(this.firestore,e,this._path)}}function It(s,e,...i){if(s=an(s),arguments.length===1&&(e=Nm.newId()),SA("doc","path",e),s instanceof eg){const a=ht.fromString(e,...i);return g_(a),new jt(s,null,new Se(a))}{if(!(s instanceof jt||s instanceof jo))throw new be(ae.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ht.fromString(e,...i));return g_(a),new jt(s.firestore,s instanceof jo?s.converter:null,new Se(a))}}const iv="AsyncQueue";class sv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nb(this,"async_queue_retry"),this._c=()=>{const a=Hd();a&&ge(iv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new La;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ll(e))throw e;ge(iv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ns("INTERNAL UNHANDLED ERROR: ",av(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Xm.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ce(47125,{Pc:av(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function av(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ko extends eg{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new sv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sv(e),this._firestoreClient=void 0,await e}}}function ER(s,e){const i=typeof s=="object"?s:Tv(),a=typeof s=="string"?s:$c,o=bm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=kT("firestore");c&&bR(o,...c)}return o}function Eb(s){if(s._terminated)throw new be(ae.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||TR(s),s._firestoreClient}function TR(s){const e=s._freezeSettings(),i=vR(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new dR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Xt.fromBase64String(e))}catch(i){throw new be(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Pn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fo(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Dt("string",Pn._jsonSchemaVersion),bytes:Dt("string")};class tg{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new be(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ng{constructor(e){this._methodName=e}}class Ni{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new be(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new be(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(Fo(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Dt("string",Ni._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class ei{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fo(e,ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ei(e.vectorValues);throw new be(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Dt("string",ei._jsonSchemaVersion),vectorValues:Dt("object")};const xR=/^__.*__$/;class SR{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new sa(e,this.data,this.fieldMask,i,this.fieldTransforms):new Go(e,this.data,i,this.fieldTransforms)}}class Tb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new sa(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function xb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{dataSource:s})}}class ig{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ig({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return rh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(xb(this.dataSource)&&xR.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class wR{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Eh(e)}createContext(e,i,a,o=!1){return new ig({dataSource:e,methodName:i,targetDoc:a,path:Kt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sb(s){const e=s._freezeSettings(),i=Eh(s._databaseId);return new wR(s._databaseId,!!e.ignoreUndefinedProperties,i)}function AR(s,e,i,a,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);sg("Data must be an object, but it was:",d,a);const p=wb(a,d);let v,_;if(c.merge)v=new wn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const A of c.mergeFields){const N=Lo(e,A,i);if(!d.contains(N))throw new be(ae.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Rb(T,N)||T.push(N)}v=new wn(T),_=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,_=d.fieldTransforms;return new SR(new gn(p),v,_)}class wh extends ng{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wh}}function CR(s,e,i,a){const o=s.createContext(1,e,i);sg("Data must be an object, but it was:",o,a);const c=[],d=gn.empty();ia(a,((v,_)=>{const T=Cb(e,v,i);_=an(_);const A=o.childContextForFieldPath(T);if(_ instanceof wh)c.push(T);else{const N=Ah(_,A);N!=null&&(c.push(T),d.set(T,N))}}));const p=new wn(c);return new Tb(d,p,o.fieldTransforms)}function RR(s,e,i,a,o,c){const d=s.createContext(1,e,i),p=[Lo(e,a,i)],v=[o];if(c.length%2!=0)throw new be(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)p.push(Lo(e,c[N])),v.push(c[N+1]);const _=[],T=gn.empty();for(let N=p.length-1;N>=0;--N)if(!Rb(_,p[N])){const L=p[N];let X=v[N];X=an(X);const Q=d.childContextForFieldPath(L);if(X instanceof wh)_.push(L);else{const P=Ah(X,Q);P!=null&&(_.push(L),T.set(L,P))}}const A=new wn(_);return new Tb(T,A,d.fieldTransforms)}function Ah(s,e){if(Ab(s=an(s)))return sg("Unsupported field value:",e,s),wb(s,e);if(s instanceof ng)return(function(a,o){if(!xb(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let v=Ah(p,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=an(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return o2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=lt.fromDate(a);return{timestampValue:nh(o.serializer,c)}}if(a instanceof lt){const c=new lt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:nh(o.serializer,c)}}if(a instanceof Ni)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Pn)return{bytesValue:F1(o.serializer,a._byteString)};if(a instanceof jt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:zm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ei)return(function(d,p){const v=d instanceof ei?d.toArray():d;return{mapValue:{fields:{[v1]:{stringValue:b1},[Jc]:{arrayValue:{values:v.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return Lm(p.serializer,T)}))}}}}}})(a,o);if(J1(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Im(a)}`)})(s,e)}function wb(s,e){const i={};return d1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ia(s,((a,o)=>{const c=Ah(o,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function Ab(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof lt||s instanceof Ni||s instanceof Pn||s instanceof jt||s instanceof ng||s instanceof ei||J1(s))}function sg(s,e,i){if(!Ab(i)||!h1(i)){const a=Im(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function Lo(s,e,i){if((e=an(e))instanceof tg)return e._internalPath;if(typeof e=="string")return Cb(s,e);throw rh("Field path arguments must be of type string or ",s,!1,void 0,i)}const NR=new RegExp("[~\\*/\\[\\]]");function Cb(s,e,i){if(e.search(NR)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new tg(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function rh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new be(ae.INVALID_ARGUMENT,p+s+v)}function Rb(s,e){return s.some((i=>i.isEqual(e)))}class IR{convertValue(e,i="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return ia(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[Jc].arrayValue?.values?.map((a=>vt(a.doubleValue)));return new ei(i)}convertGeoPoint(e){return new Ni(vt(e.latitude),vt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=mh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Io(e));default:return null}}convertTimestamp(e){const i=Zs(e);return new lt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=ht.fromString(e);$e($1(a),9688,{name:e});const o=new Do(a.get(1),a.get(3)),c=new Se(a.popFirst(5));return o.isEqual(i)||ns(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class Nb extends IR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,i)}}const rv="@firebase/firestore",lv="4.10.0";function ov(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Ib{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Lo("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class DR extends Ib{data(){return super.data()}}function MR(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new be(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function OR(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class bo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ua extends Ib{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Lo("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ua._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ua._jsonSchema={type:Dt("string",Ua._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class zc extends Ua{data(e={}){return super.data(e)}}class Kr{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new bo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new zc(this._firestore,this._userDataWriter,a.key,a,new bo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new be(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new zc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new bo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new zc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new bo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:VR(p.type),doc:v,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:s})}}Kr._jsonSchemaVersion="firestore/querySnapshot/1.0",Kr._jsonSchema={type:Dt("string",Kr._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};function jR(s,e,i){s=Xs(s,jt);const a=Xs(s.firestore,ko),o=OR(s.converter,e),c=Sb(a);return Db(a,[AR(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Ci.none())])}function ct(s,e,i,...a){s=Xs(s,jt);const o=Xs(s.firestore,ko),c=Sb(o);let d;return d=typeof(e=an(e))=="string"||e instanceof tg?RR(c,"updateDoc",s._key,e,i,a):CR(c,"updateDoc",s._key,e),Db(o,[d.toMutation(s._key,Ci.exists(!0))])}function kR(s,...e){s=an(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||ov(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(ov(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,p;if(s instanceof jt)d=Xs(s.firestore,ko),p=km(s._key.path),c={next:_=>{e[a]&&e[a](LR(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=Xs(s,Sh);d=Xs(_.firestore,ko),p=_._query;const T=new Nb(d);c={next:A=>{e[a]&&e[a](new Kr(d,T,_,A))},error:e[a+1],complete:e[a+2]},MR(s._query)}const v=Eb(d);return pR(v,p,o,c)}function Db(s,e){const i=Eb(s);return yR(i,e)}function LR(s,e,i){const a=i.docs.get(e._key),o=new Nb(s);return new Ua(s,o,e._key,a,new bo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){dA(il),Xr(new za("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new ko(new pA(a.getProvider("auth-internal")),new vA(d,a.getProvider("app-check-internal")),LA(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ys(rv,lv,e),Ys(rv,lv,"esm2020")})();const Mb=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const UR=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const PR=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const uv=s=>{const e=PR(s);return e.charAt(0).toUpperCase()+e.slice(1)};var zR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const BR=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const qR=_e.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},v)=>_e.createElement("svg",{ref:v,...zR,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:Mb("lucide",o),...!c&&!BR(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,T])=>_e.createElement(_,T)),...Array.isArray(c)?c:[c]]));const Fe=(s,e)=>{const i=_e.forwardRef(({className:a,...o},c)=>_e.createElement(qR,{ref:c,iconNode:e,className:Mb(`lucide-${UR(uv(s))}`,`lucide-${s}`,a),...o}));return i.displayName=uv(s),i};const HR=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Ob=Fe("brain",HR);const FR=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],GR=Fe("briefcase",FR);const YR=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],QR=Fe("calculator",YR);const KR=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],XR=Fe("car",KR);const $R=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Vb=Fe("chart-pie",$R);const JR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ZR=Fe("chevron-down",JR);const WR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],eN=Fe("chevron-up",WR);const tN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],nN=Fe("circle-check",tN);const iN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],sN=Fe("circle-dollar-sign",iN);const aN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],rN=Fe("circle-plus",aN);const lN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],oN=Fe("eye-off",lN);const uN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cN=Fe("eye",uN);const hN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],fN=Fe("heart",hN);const dN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],mN=Fe("history",dN);const gN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],pN=Fe("house",gN);const yN=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],_N=Fe("party-popper",yN);const vN=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],bN=Fe("pen-line",vN);const EN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Uo=Fe("pen",EN);const TN=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],jb=Fe("piggy-bank",TN);const xN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],kb=Fe("plus",xN);const SN=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],gm=Fe("receipt",SN);const wN=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],AN=Fe("refresh-ccw",wN);const CN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Lb=Fe("save",CN);const RN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],NN=Fe("search",RN);const IN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],DN=Fe("settings",IN);const MN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ag=Fe("shield-check",MN);const ON=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],VN=Fe("shopping-bag",ON);const jN=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],kN=Fe("shopping-cart",jN);const LN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],pm=Fe("sparkles",LN);const UN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],rg=Fe("target",UN);const PN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ch=Fe("trash-2",PN);const zN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],BN=Fe("triangle-alert",zN);const qN=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],HN=Fe("utensils",qN);const FN=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],GN=Fe("wallet",FN);const YN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ub=Fe("x",YN),QN={apiKey:"AIzaSyDQ6cQzQlWNDVVB_LR4wBJx1nsF4uPkQ5Q",authDomain:"my-budget-app-3fa79.firebaseapp.com",projectId:"my-budget-app-3fa79",storageBucket:"my-budget-app-3fa79.firebasestorage.app",messagingSenderId:"799821737037",appId:"1:799821737037:web:01db29268f89b3baa74004"},Pb=Ev(QN),cv=hA(Pb),kr=ER(Pb),Lr="pro-budgeter-pro",zb="AIzaSyCkUIz9fX_wfgayOXVIxZeJJkkeINEPKHw",Bb=s=>s?s.charAt(0).toUpperCase()+s.slice(1).toLowerCase():"",lg=s=>{const e=s.toLowerCase();return e.includes("grocer")||e.includes("food")?kN:e.includes("eat")||e.includes("restaurant")?HN:e.includes("transport")||e.includes("fuel")||e.includes("car")?XR:e.includes("shop")||e.includes("cloth")?VN:e.includes("leisure")||e.includes("event")||e.includes("party")?_N:e.includes("health")||e.includes("beauty")||e.includes("gym")?fN:e.includes("bill")||e.includes("rent")?gm:e.includes("income")||e.includes("salary")?GN:e.includes("saving")||e.includes("invest")||e.includes("fund")?jb:e.includes("emergency")?ag:sN};function KN(){const[s,e]=_e.useState(null),[i,a]=_e.useState(null),[o,c]=_e.useState(!0),[d,p]=_e.useState("home"),[v,_]=_e.useState(null),T=new Date,A=T.toLocaleString("default",{month:"short"}).toUpperCase(),N=T.getDate();_e.useEffect(()=>{const ie=document.createElement("style");ie.innerHTML=`
      @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap');
      body { font-family: 'Plus Jakarta Sans', sans-serif; }
      input, select, textarea { font-size: 16px !important; }
      .glass { background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(12px); }
      .scrollbar-hide::-webkit-scrollbar { display: none; }
      .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
      @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-5px); } 100% { transform: translateY(0px); } }
      .animate-float { animation: float 3s ease-in-out infinite; }
      .modal-overlay { background: rgba(0, 0, 0, 0.4); backdrop-filter: blur(4px); }
    `,document.head.appendChild(ie)},[]),_e.useEffect(()=>{(async()=>{try{await KS(cv)}catch(he){console.error("Auth error:",he)}})();const le=ew(cv,e);return()=>le()},[]),_e.useEffect(()=>{if(!s)return;const ie=It(kr,"artifacts",Lr,"users",s.uid,"settings","budgetData"),le=kR(ie,async he=>{const G=new Date().getMonth()+1,re=new Date().getFullYear();if(he.exists()){let F=he.data(),S=!1,w=[...F.transactions||[]];if(F.custom_goals||(F.custom_goals=[],S=!0),F.emergency_deposits===void 0&&(F.emergency_deposits=0,S=!0),F.last_month&&F.last_month!==G){const V=(F.income_sources||[]).reduce((oe,me)=>oe+me.amount,0)||F.monthly_income||0,R=Object.values(F.bills||{}).reduce((oe,me)=>oe+(typeof me=="object"?me.amount:me),0),ve=V+(F.income_rollover||0),Ae=w.filter(oe=>new Date(oe.timestamp).getMonth()+1===F.last_month&&oe.category!=="Income"),j=Ae.reduce((oe,me)=>oe+me.amount,0),Y=ve-R-j,te={...F.allocations};Object.keys(F.allocations||{}).forEach(oe=>{const me=Ae.filter(J=>J.category===oe).reduce((J,se)=>J+se.amount,0),M=(F.allocations[oe]||0)-me;te[oe]=(F.base_allocations?.[oe]||0)+M}),F={...F,income_rollover:Y,allocations:te,spent:Object.keys(F.spent||{}).reduce((oe,me)=>({...oe,[me]:0}),{}),last_month:G},S=!0}const C=new Date,O=F.bills||{};Object.entries(O).forEach(([V,R])=>{const ve=typeof R=="object"?R.amount:R,Ae=typeof R=="object"?R.date:1;if(C.getDate()>=Ae&&!w.some(Y=>Y.category==="Bills"&&Y.description===V&&new Date(Y.timestamp).getMonth()===C.getMonth()&&new Date(Y.timestamp).getFullYear()===re)){const Y=new Date(re,G-1,Ae);Y>new Date&&Y.setTime(new Date().getTime()),w.unshift({id:`bill-${V}-${G}-${re}`,amount:ve,category:"Bills",description:V,timestamp:Y.toISOString(),isSystem:!0}),S=!0}}),(F.income_sources||[]).forEach(V=>{const R=V.date||1;if(C.getDate()>=R&&!w.some(Ae=>Ae.category==="Income"&&Ae.description===V.name&&new Date(Ae.timestamp).getMonth()===C.getMonth()&&new Date(Ae.timestamp).getFullYear()===re)){const Ae=new Date(re,G-1,R);Ae>new Date&&Ae.setTime(new Date().getTime()),w.unshift({id:`inc-${V.id}-${G}-${re}`,amount:V.amount,category:"Income",description:V.name,timestamp:Ae.toISOString(),isSystem:!0,type:"credit"}),S=!0}}),S&&(F.transactions=w,await ct(ie,F)),a(F)}else{const F={Groceries:350,"Eating Out":150,Transportation:120,Shopping:100,"Leisure & Events":100,"Health & Beauty":50,Miscellaneous:50,Investments:200,"Emergency Fund":100},S=[{id:"inc-jan",amount:2500,category:"Income",description:"Main Salary",timestamp:new Date(re,0,1).toISOString(),type:"credit"}],w={monthly_income:2500,income_sources:[{id:"main",name:"Main Salary",amount:2500,date:1}],income_rollover:0,bills:{Rent:{amount:800,date:1},"Council Tax":{amount:150,date:5}},categories:["Groceries","Eating Out","Transportation","Shopping","Leisure & Events","Health & Beauty","Miscellaneous","Investments","Emergency Fund"],hidden_categories:[],base_allocations:F,allocations:F,spent:{Groceries:0},transactions:S,last_month:G,emergency_deposits:0,custom_goals:[]};jR(ie,w),a(w)}c(!1)});return()=>le()},[s]);const L=_e.useMemo(()=>{if(!i)return{effective:0,bills:0,allocatedRemaining:0,freeCash:0,totalSpent:0,savingsSpent:0,savingsAllocated:0,totalAllocated:0,totalIncome:0,emergencySpent:0,emergencyAllocated:0,totalInvestedAllTime:0,emergencyBalance:0,realSpent:{},unallocated:0};const ie=new Date().getMonth(),le=new Date().getFullYear(),he=new Date().getDate(),G=(i.transactions||[]).filter(de=>{const xe=new Date(de.timestamp);return xe.getMonth()===ie&&xe.getFullYear()===le}),re=G.filter(de=>de.category==="Income").reduce((de,xe)=>de+xe.amount,0);let F=0;(i.income_sources||[]).forEach(de=>{(de.date||1)>he&&(F+=parseFloat(de.amount))});const S=re+F,w=S+(i.income_rollover||0),C=Object.values(i.bills||{}).reduce((de,xe)=>de+(typeof xe=="object"?xe.amount:xe),0),O=Object.values(i.allocations||{}).reduce((de,xe)=>de+xe,0),I=w-C-O,V={};let R=0,ve=0,Ae=0,j=0,Y=0;const te=(i.custom_goals||[]).map(de=>de.name);G.forEach(de=>{if(de.category==="Income"||de.category==="Bills")return;const xe=te.includes(de.category)&&!de.isContribution,rn=de.category==="Emergency Fund"&&!de.isContribution;xe||rn||(de.isContribution&&(Y+=de.amount),V[de.category]=(V[de.category]||0)+de.amount)});const oe=i.categories.includes("Investments")?"Investments":"Savings & Investments";R=V[oe]||0,ve=i.allocations[oe]||0;const me=G.filter(de=>de.category==="Emergency Fund"&&de.isContribution).reduce((de,xe)=>de+xe.amount,0);Ae=me,j=i.allocations["Emergency Fund"]||0;const M=Object.values(V).reduce((de,xe)=>de+xe,0),J=M-Y+C;let se=0;Object.keys(i.allocations||{}).forEach(de=>{let xe=V[de]||0;de==="Emergency Fund"&&(xe=me);const rn=xe-(i.allocations[de]||0);rn>0&&(se+=rn)});const ce=w-C-O-se,fe=(i.transactions||[]).filter(de=>de.category==="Emergency Fund"&&!de.isContribution).reduce((de,xe)=>de+xe.amount,0),Te=(i.emergency_deposits||0)-fe,Ie=(i.transactions||[]).filter(de=>de.category==="Investments"||de.category==="Savings & Investments").reduce((de,xe)=>de+xe.amount,0);return{effective:w,bills:C,allocatedRemaining:O-M,freeCash:ce,totalSpent:J,savingsSpent:R,savingsAllocated:ve,totalAllocated:O,totalAllocatedSpent:M,emergencySpent:Ae,emergencyAllocated:j,emergencyBalance:Te,totalInvestedAllTime:Ie,realSpent:V,totalIncome:S,unallocated:I}},[i]),X=(ie,le=!1)=>{_({msg:ie,isError:le}),setTimeout(()=>_(null),3e3)},Q=async ie=>{const le=It(kr,"artifacts",Lr,"users",s.uid,"settings","budgetData");await ct(le,{transactions:i.transactions.filter(he=>he.id!==ie)}),X("Transaction removed")},P=async ie=>{const le=It(kr,"artifacts",Lr,"users",s.uid,"settings","budgetData"),he=i.transactions.map(G=>G.id===ie.id?ie:G);await ct(le,{transactions:he}),X("Transaction updated")};return o?g.jsx("div",{className:"flex items-center justify-center h-screen bg-slate-50",children:g.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-[3px] border-slate-200 border-t-blue-600"})}):g.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] text-slate-900 pb-32 max-w-xl mx-auto overflow-x-hidden",children:[g.jsxs("header",{className:"px-6 pt-12 pb-8",children:[g.jsxs("div",{className:"flex justify-between items-start mb-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Income Pot"}),g.jsxs("div",{className:"flex items-baseline gap-2",children:[g.jsxs("p",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:["",L.effective.toLocaleString()]}),g.jsxs("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-lg ${L.unallocated<0?"bg-rose-100 text-rose-600":"bg-emerald-100 text-emerald-600"}`,children:[L.unallocated>=0?"+":"","",L.unallocated.toLocaleString()," left"]})]})]}),g.jsxs("div",{className:"bg-white px-3 py-2 rounded-2xl shadow-sm border border-slate-100 flex flex-col items-center justify-center min-w-[54px] animate-float",children:[g.jsx("span",{className:"text-[10px] font-black text-blue-600 leading-none",children:A}),g.jsx("span",{className:"text-xl font-black text-slate-800 leading-none mt-1",children:N})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{className:"bg-emerald-600 rounded-[2rem] p-5 shadow-lg shadow-emerald-200 flex flex-col justify-between h-32 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white/10 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),g.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center text-white mb-2 backdrop-blur-sm",children:g.jsx(GR,{size:20})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-bold text-white/70 uppercase tracking-wider mb-1",children:"Total Invested"}),g.jsxs("p",{className:"text-xl font-black text-white leading-none mb-2",children:["",L.totalInvestedAllTime.toLocaleString()]}),g.jsx("div",{className:"flex items-center gap-1.5",children:L.totalInvestedAllTime>0?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"bg-yellow-400 p-0.5 rounded-full",children:g.jsx(rg,{size:8,className:"text-yellow-900"})}),g.jsx("span",{className:"text-[9px] font-bold text-white/90",children:L.totalInvestedAllTime>=1e4?"10k Club ":L.totalInvestedAllTime>=1e3?"1k Club ":"Seedling "})]}):g.jsx("span",{className:"text-[9px] font-bold text-white/50",children:"Start investing!"})})]})]}),g.jsxs("div",{className:"bg-rose-50 rounded-[2rem] p-5 border border-rose-100 flex flex-col justify-between h-32",children:[g.jsx("div",{className:"w-10 h-10 rounded-xl bg-white flex items-center justify-center text-rose-500 mb-2",children:g.jsx(gm,{size:20})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-bold text-rose-500/70 uppercase tracking-wider mb-1",children:"Fixed Bills"}),g.jsxs("p",{className:"text-lg font-black text-rose-800 leading-none",children:["",L.bills.toLocaleString()]})]})]}),g.jsxs("div",{className:"bg-amber-50 rounded-[2rem] p-5 border border-amber-100 flex flex-col justify-between h-32",children:[g.jsx("div",{className:"w-10 h-10 rounded-xl bg-white flex items-center justify-center text-amber-600 mb-2",children:g.jsx(ag,{size:20})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-bold text-amber-600/70 uppercase tracking-wider mb-1",children:"Emerg. Balance"}),g.jsxs("p",{className:"text-lg font-black text-amber-800 leading-none mb-1",children:["",L.emergencyBalance.toLocaleString()]}),g.jsx("div",{className:"w-full h-1.5 bg-amber-200/50 rounded-full overflow-hidden mb-1",children:g.jsx("div",{className:"h-full bg-amber-500 rounded-full transition-all duration-500",style:{width:`${Math.min(100,Math.max(0,L.emergencyBalance/(i?.emergency_target||1)*100))}%`}})}),g.jsxs("div",{className:"flex justify-between text-[8px] font-bold text-amber-600/60",children:[g.jsxs("span",{children:["Goal: ",(i?.emergency_target||0).toLocaleString()]}),g.jsxs("span",{children:["",Math.max(0,(i?.emergency_target||0)-L.emergencyBalance).toLocaleString()," Left"]})]})]})]}),g.jsxs("div",{className:"bg-white rounded-[2rem] p-5 border border-slate-100 shadow-sm flex flex-col justify-between h-32",children:[g.jsx("div",{className:"bg-indigo-50 w-10 h-10 rounded-xl flex items-center justify-center text-indigo-600 mb-2",children:g.jsx(Vb,{size:20})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Remaining"}),g.jsxs("p",{className:"text-lg font-black text-slate-900 leading-none mb-2",children:["",L.allocatedRemaining.toLocaleString()]}),g.jsx("div",{className:"w-full h-1.5 bg-slate-100 rounded-full overflow-hidden mb-1",children:g.jsx("div",{className:"h-full bg-indigo-500 rounded-full transition-all duration-500",style:{width:`${Math.min(100,Math.max(0,L.allocatedRemaining/(L.totalAllocated||1)*100))}%`}})}),g.jsxs("div",{className:"flex justify-between text-[8px] font-bold text-slate-400",children:[g.jsxs("span",{children:["",L.allocatedRemaining," left"]}),g.jsxs("span",{children:["",L.totalAllocatedSpent," spent"]})]})]})]})]})]}),g.jsxs("main",{className:"px-6",children:[d==="home"&&g.jsx(XN,{data:i,metrics:L,onDeleteTx:Q}),d==="daily"&&g.jsx($N,{data:i,user:s,showNotify:X,db:kr,appId:Lr,onDeleteTx:Q,onUpdateTx:P,metrics:L}),d==="planning"&&g.jsx(WN,{data:i,user:s,showNotify:X,db:kr,appId:Lr,metrics:L}),d==="settings"&&g.jsx(rI,{data:i,user:s,showNotify:X,db:kr,appId:Lr})]}),g.jsxs("nav",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-[90%] max-w-sm glass border border-white/50 flex justify-around items-center p-2.5 z-50 rounded-[2.5rem] shadow-[0_20px_50px_rgba(0,0,0,0.1)]",children:[g.jsx(Ic,{active:d==="home",icon:pN,onClick:()=>p("home")}),g.jsx(Ic,{active:d==="daily",icon:kb,isMain:!0,onClick:()=>p("daily")}),g.jsx(Ic,{active:d==="planning",icon:gm,onClick:()=>p("planning")}),g.jsx(Ic,{active:d==="settings",icon:DN,onClick:()=>p("settings")})]}),v&&g.jsx("div",{className:`fixed top-8 left-1/2 -translate-x-1/2 ${v.isError?"bg-rose-600":"bg-slate-900"} text-white px-6 py-4 rounded-3xl shadow-2xl flex items-center gap-3 z-[100] w-[85%]`,children:g.jsx("span",{className:"font-bold text-sm",children:v.msg})})]})}function Ic({active:s,icon:e,onClick:i,isMain:a}){return a?g.jsx("button",{onClick:i,className:"bg-blue-600 text-white p-4 rounded-full shadow-lg shadow-blue-200 active:scale-90 transition-transform -translate-y-2",children:g.jsx(e,{className:"w-6 h-6",strokeWidth:3})}):g.jsx("button",{onClick:i,className:`p-4 transition-all ${s?"text-blue-600":"text-slate-400 opacity-60"}`,children:g.jsx(e,{className:"w-6 h-6",strokeWidth:2.5})})}function XN({data:s,metrics:e,onDeleteTx:i}){const a=new Date,o=a.toLocaleString("default",{month:"short"}).toUpperCase(),c=new Date(a.getFullYear(),a.getMonth()+1,0).getDate(),p=a.getDate()/c*100,v=s?.categories.filter(L=>!(s.hidden_categories||[]).includes(L))||[],_=Math.max(0,e.totalAllocated-e.savingsAllocated-e.emergencyAllocated),T=Math.max(0,e.unallocated),A=[{label:"Fixed Bills",amount:e.bills,color:"#f43f5e",tailwind:"bg-rose-500"},{label:"Daily Expenses",amount:_,color:"#3b82f6",tailwind:"bg-blue-500"},{label:"Emergency Fund",amount:e.emergencyAllocated,color:"#f59e0b",tailwind:"bg-amber-500"},{label:"Investments",amount:e.savingsAllocated,color:"#10b981",tailwind:"bg-emerald-500"},{label:"Free Cash",amount:T,color:"#cbd5e1",tailwind:"bg-slate-300"}],N=_e.useMemo(()=>{const L=e.effective||1;let X=0;const Q=A.map(P=>{if(P.amount<=0)return null;const ie=X,le=P.amount/L*100;return X+=le,`${P.color} ${ie}% ${X}%`}).filter(Boolean);return Q.length===0?"conic-gradient(#f1f5f9 0% 100%)":`conic-gradient(${Q.join(", ")})`},[A,e.effective]);return g.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[g.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 border border-slate-100 shadow-sm relative overflow-hidden",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsxs("h3",{className:"text-sm font-black text-slate-900 flex items-center gap-2",children:[g.jsx(Vb,{size:18,className:"text-blue-600"})," Monthly Flow"]}),g.jsx("span",{className:"text-[10px] font-bold text-slate-400 bg-slate-50 px-3 py-1.5 rounded-full",children:o})]}),g.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[g.jsxs("div",{className:"relative w-48 h-48 flex-shrink-0",children:[g.jsx("div",{className:"w-full h-full rounded-full shadow-inner",style:{background:N}}),g.jsxs("div",{className:"absolute inset-3 bg-white rounded-full flex flex-col items-center justify-center shadow-lg border border-slate-50",children:[g.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Total In"}),g.jsxs("p",{className:"text-2xl font-black text-slate-900 tracking-tight",children:["",(e.effective||0).toLocaleString()]})]})]}),g.jsx("div",{className:"flex-grow w-full space-y-3",children:A.map(L=>g.jsxs("div",{className:"flex items-center justify-between group",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`w-3 h-3 rounded-full ${L.tailwind} ring-2 ring-white shadow-sm`}),g.jsx("span",{className:"text-xs font-bold text-slate-600 group-hover:text-slate-900 transition-colors",children:L.label})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("span",{className:"text-xs font-black text-slate-900",children:["",L.amount.toLocaleString()]}),g.jsxs("span",{className:"text-[10px] text-slate-400 ml-1 font-medium",children:[(L.amount/(e.effective||1)*100).toFixed(0),"%"]})]})]},L.label))})]})]}),(s.custom_goals||[]).length>0&&g.jsxs("div",{children:[g.jsx("div",{className:"flex justify-between items-center mb-4 px-2",children:g.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Active Goals"})}),g.jsx("div",{className:"flex gap-3 overflow-x-auto pb-4 scrollbar-hide snap-x",children:s.custom_goals.map(L=>{const X=L.currentAmount||0,Q=L.targetAmount||1,P=Math.min(100,X/Q*100);return g.jsxs("div",{className:"min-w-[160px] snap-start bg-white p-5 rounded-[2rem] border border-slate-100 shadow-sm flex flex-col justify-between",children:[g.jsxs("div",{className:"mb-3",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-xl",children:g.jsx(rg,{size:16})}),g.jsxs("span",{className:"text-[10px] font-bold text-slate-400",children:[P.toFixed(0),"%"]})]}),g.jsx("h4",{className:"font-bold text-slate-900 text-sm truncate",children:L.name}),g.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:L.targetDate||"No date"})]}),g.jsxs("div",{children:[g.jsx("div",{className:"w-full h-1.5 bg-slate-100 rounded-full overflow-hidden mb-1",children:g.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-1000",style:{width:`${P}%`}})}),g.jsxs("p",{className:"text-[10px] font-bold text-slate-600",children:["",X.toLocaleString()," ",g.jsxs("span",{className:"text-slate-300",children:["/ ",Q.toLocaleString()]})]})]})]},L.id)})})]}),g.jsxs("div",{children:[g.jsx("div",{className:"flex justify-between items-center mb-4 px-2",children:g.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Spending"})}),g.jsx("div",{className:"space-y-3",children:v.map(L=>{const X=e.realSpent?.[L]||0,Q=s.allocations[L]||0,P=Math.min(100,X/(Q||1)*100),ie=lg(L);let le="bg-blue-500";return P>100?le="bg-rose-500":P>85?le="bg-amber-500":P<p&&Q>0&&(le="bg-emerald-500"),g.jsx("div",{className:"bg-white p-4 rounded-[2rem] border border-slate-100 shadow-sm",children:g.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center text-slate-600 bg-slate-50",children:g.jsx(ie,{size:18})}),g.jsxs("div",{className:"flex-grow",children:[g.jsxs("div",{className:"flex justify-between items-end mb-1",children:[g.jsx("h4",{className:"font-bold text-slate-900 text-sm",children:L}),g.jsxs("span",{className:`text-xs font-black ${P>100?"text-rose-500":"text-slate-700"}`,children:["",X.toFixed(0)," ",g.jsxs("span",{className:"text-slate-300 text-[10px]",children:["/ ",Q]})]})]}),g.jsxs("div",{className:"relative w-full h-2 bg-slate-100 rounded-full overflow-hidden",children:[Q>0&&g.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-slate-300 z-10",style:{left:`${p}%`}}),g.jsx("div",{className:`h-full ${le} rounded-full transition-all duration-700`,style:{width:`${P}%`}})]})]})]})},L)})})]})]})}function $N({data:s,user:e,showNotify:i,db:a,appId:o,onDeleteTx:c,onUpdateTx:d,metrics:p}){const[v,_]=_e.useState("log");return g.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 pb-24",children:[g.jsxs("div",{className:"flex p-1 bg-white border border-slate-100 rounded-2xl mb-6 shadow-sm mx-auto max-w-[90%]",children:[g.jsxs("button",{onClick:()=>_("log"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all flex items-center justify-center gap-2 ${v==="log"?"bg-slate-900 text-white shadow-md":"text-slate-400 hover:bg-slate-50"}`,children:[g.jsx(bN,{size:16})," Log Expense"]}),g.jsxs("button",{onClick:()=>_("history"),className:`flex-1 py-3 rounded-xl text-sm font-bold transition-all flex items-center justify-center gap-2 ${v==="history"?"bg-slate-900 text-white shadow-md":"text-slate-400 hover:bg-slate-50"}`,children:[g.jsx(mN,{size:16})," History"]})]}),v==="log"?g.jsx(JN,{data:s,user:e,showNotify:i,db:a,appId:o,metrics:p}):g.jsx(ZN,{data:s,onDeleteTx:c,onUpdateTx:d})]})}function JN({data:s,user:e,showNotify:i,db:a,appId:o,metrics:c}){const[d,p]=_e.useState(""),[v,_]=_e.useState(""),[T,A]=_e.useState(""),[N,L]=_e.useState(new Date().toISOString().split("T")[0]),X=(s.categories||[]).filter(P=>!(s.hidden_categories||[]).includes(P)),Q=async()=>{const P=parseFloat(d);if(!P||P<=0||!T)return;const ie=(s.custom_goals||[]).find(re=>re.name===T);if(T==="Emergency Fund"){const re=c.emergencyBalance;if(P>re){i(`Insufficient Emergency Funds (${re.toLocaleString()})`,!0);return}}else if(ie){const re=ie.currentAmount||0;if(P>re){i(`Insufficient funds in ${T} goal (${re.toLocaleString()})`,!0);return}}else{const re=s.allocations[T]||0,F=c.realSpent?.[T]||0,S=re-F;if(P>S){i(`Exceeds budget! Only ${S.toLocaleString()} left.`,!0);return}}const le=It(a,"artifacts",o,"users",e.uid,"settings","budgetData");let G={transactions:[{id:Math.random().toString(36).substr(2,9),amount:P,category:T,description:v||T,timestamp:new Date(N).toISOString()},...s.transactions||[]]};if(ie){const re=s.custom_goals.map(F=>F.name===T?{...F,currentAmount:Math.max(0,(F.currentAmount||0)-P)}:F);G.custom_goals=re}await ct(le,G),i(`Logged ${P} to ${T}`),p(""),_(""),L(new Date().toISOString().split("T")[0])};return g.jsx("div",{className:"space-y-6",children:g.jsxs("div",{className:"bg-white rounded-[2.5rem] p-6 shadow-sm border border-slate-100",children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("div",{className:"flex justify-between items-center mb-3 px-1",children:g.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Select Category"})}),g.jsx("div",{className:"flex gap-2 overflow-x-auto pb-4 scrollbar-hide snap-x",children:X.map(P=>{const ie=lg(P),le=P==="Investments"||P==="Savings & Investments",he=P==="Emergency Fund",G=(s.custom_goals||[]).find(S=>S.name===P);let re=0,F="left";if(he)re=c.emergencyBalance,F="saved";else if(G)re=G.currentAmount||0,F="saved";else{const S=s.allocations[P]||0,w=c.realSpent?.[P]||0;re=Math.max(0,S-w)}return g.jsxs("button",{onClick:()=>A(P),className:`flex-shrink-0 snap-start px-5 py-4 rounded-2xl flex flex-col items-center gap-2 min-w-[90px] transition-all border
                    ${T===P?"bg-blue-600 text-white border-blue-600 shadow-lg shadow-blue-200 scale-105":"bg-slate-50 text-slate-400 border-slate-100 hover:bg-slate-100"}`,children:[g.jsx(ie,{size:20,strokeWidth:2.5}),g.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-center leading-tight max-w-[80px] truncate",children:le?"Investments":P}),g.jsxs("span",{className:`text-[9px] font-bold ${T===P?"text-blue-200":"text-slate-400"}`,children:["",re.toLocaleString()," ",F]})]},P)})})]}),g.jsxs("div",{className:"space-y-4 mb-8",children:[g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-2xl font-black text-slate-300",children:""}),g.jsx("input",{type:"number",inputMode:"decimal",value:d,onChange:P=>p(P.target.value),className:"w-full bg-slate-50 p-6 pl-12 rounded-3xl text-4xl font-black outline-none border-2 border-transparent focus:border-blue-500 transition-all placeholder:text-slate-200",placeholder:"0.00",autoFocus:!0})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsx("input",{type:"text",value:v,onChange:P=>_(P.target.value),className:"w-full bg-white border border-slate-200 p-4 rounded-2xl font-semibold text-slate-700 outline-none focus:border-blue-500",placeholder:"Description (opt)"}),g.jsx("input",{type:"date",value:N,onChange:P=>L(P.target.value),className:"w-full bg-white border border-slate-200 p-4 rounded-2xl font-semibold text-slate-700 outline-none focus:border-blue-500"})]})]}),g.jsxs("button",{onClick:Q,disabled:!d||!T,className:"w-full bg-slate-900 disabled:opacity-50 text-white font-bold py-5 rounded-[2rem] shadow-xl active:scale-95 transition-all text-lg flex items-center justify-center gap-2",children:[g.jsx(nN,{size:20})," Record Transaction"]})]})})}function ZN({data:s,onDeleteTx:e,onUpdateTx:i}){const[a,o]=_e.useState(new Date().getMonth()),[c,d]=_e.useState(null),[p,v]=_e.useState(""),[_,T]=_e.useState("All"),A=new Date().getFullYear(),N=s.transactions||[],L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],X=_e.useMemo(()=>N.filter(G=>{const re=new Date(G.timestamp);let F=!1;a==="ALL"?F=!0:a==="YTD"?F=re.getFullYear()===A:F=re.getMonth()===a&&re.getFullYear()===A;const S=G.description.toLowerCase().includes(p.toLowerCase())||G.category.toLowerCase().includes(p.toLowerCase());let w=!0;return _!=="All"&&(_==="Recurring Bills"?w=G.category==="Bills":w=G.category===_),F&&S&&w}).sort((G,re)=>new Date(re.timestamp)-new Date(G.timestamp)),[N,a,p,_]),Q=_e.useMemo(()=>{const G=typeof a=="number",re=N.filter(Y=>{const te=new Date(Y.timestamp);return a==="ALL"?!0:(a==="YTD"||te.getMonth()===a)&&te.getFullYear()===A}),F=re.filter(Y=>Y.category!=="Income"&&!Y.isContribution),S=re.filter(Y=>Y.category==="Income");let w=[],C=[],O=0,I=[],V=!1,R=0;if(G){const Y=new Date(A,a+1,0).getDate();O=Y,V=a===new Date().getMonth();const te=new Date().getDate();R=te;const oe=new Array(Y+1).fill(0),me=new Array(Y+1).fill(0);F.forEach(se=>oe[new Date(se.timestamp).getDate()]+=se.amount),S.forEach(se=>me[new Date(se.timestamp).getDate()]+=se.amount);let M=0,J=0;for(let se=1;se<=Y&&(M+=oe[se],J+=me[se],!(V&&se>te));se++)w.push(M),C.push(J);if(V){let se=w[w.length-1]||0;I=new Array(Y).fill(null),I[te-1]=se;for(let ce=te+1;ce<=Y;ce++){let fe=0;Object.entries(s.bills||{}).forEach(([Te,Ie])=>{const de=typeof Ie=="object"?Ie.amount:Ie;(typeof Ie=="object"?Ie.date:1)===ce&&(fe+=de)}),se+=fe,I[ce-1]=se}}}else{const Y=fe=>`${fe.getFullYear()}-${String(fe.getMonth()).padStart(2,"0")}`;let te=[];if(a==="YTD")for(let fe=0;fe<12;fe++)te.push(`${A}-${String(fe).padStart(2,"0")}`);else if(N.length>0){const fe=[...N].sort((xe,rn)=>new Date(xe.timestamp)-new Date(rn.timestamp));let Te=new Date(fe[0].timestamp);Te.setDate(1);const Ie=new Date;let de=new Date(Te);for(;de<=Ie;)te.push(Y(de)),de.setMonth(de.getMonth()+1);te.length===0&&te.push(Y(new Date))}else te.push(Y(new Date));O=te.length;const oe={},me={};te.forEach(fe=>{oe[fe]=0,me[fe]=0}),F.forEach(fe=>{const Te=Y(new Date(fe.timestamp));oe[Te]!==void 0&&(oe[Te]+=fe.amount)}),S.forEach(fe=>{const Te=Y(new Date(fe.timestamp));me[Te]!==void 0&&(me[Te]+=fe.amount)});let M=0,J=0,se=[],ce=[];if(te.forEach(fe=>{M+=oe[fe],J+=me[fe],se.push(M),ce.push(J)}),a==="YTD"){const fe=new Date().getMonth();w=se.slice(0,fe+1),C=ce.slice(0,fe+1),R=fe+1}else w=se,C=ce,R=te.length}const ve=w[w.length-1]||0,Ae=C[C.length-1]||0,j=Ae-ve;return{visibleSpend:w,visibleIncome:C,spendProjections:I,currentTotalSpend:ve,currentTotalIncome:Ae,net:j,totalXPoints:O,isMonthlyView:G,isCurrentTimeframe:V,todayIndex:R}},[N,a,s.bills]),P=(G,re,F,S=!1,w)=>{if(!G||G.length===0)return null;const C=G.map((O,I)=>{if(O==null)return null;const V=re<=1?50:I/(re-1)*100,R=w===0?50:50-O/w*50;return`${V},${R}`}).filter(O=>O!==null).join(" ");return g.jsx("polyline",{points:C,fill:"none",stroke:F,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:S?"4 4":"",vectorEffect:"non-scaling-stroke"})},ie=Math.max(...Q.visibleSpend,...Q.visibleIncome,100)*1.2,le=ie===0?50:50-Q.currentTotalSpend/ie*50,he=ie===0?50:50-Q.currentTotalIncome/ie*50;return g.jsxs("div",{className:"space-y-6",children:[c&&g.jsx("div",{className:"fixed inset-0 z-[100] modal-overlay flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[2rem] p-6 shadow-2xl animate-in zoom-in-95 duration-200",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Edit Transaction"}),g.jsx("button",{onClick:()=>d(null),className:"bg-slate-100 p-2 rounded-full",children:g.jsx(Ub,{size:20})})]}),g.jsxs("div",{className:"space-y-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Date"}),g.jsx("input",{type:"date",value:new Date(c.timestamp).toISOString().split("T")[0],onChange:G=>d({...c,timestamp:new Date(G.target.value).toISOString()}),className:"w-full bg-slate-50 p-3 rounded-xl font-bold text-sm border border-slate-100 outline-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Amount"}),g.jsx("input",{type:"number",value:c.amount,onChange:G=>d({...c,amount:G.target.value===""?"":parseFloat(G.target.value)}),className:"w-full bg-slate-50 p-3 rounded-xl font-bold text-lg border border-slate-100 outline-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Description"}),g.jsx("input",{type:"text",value:c.description,onChange:G=>d({...c,description:G.target.value}),className:"w-full bg-slate-50 p-3 rounded-xl font-bold text-sm border border-slate-100 outline-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Category"}),g.jsxs("select",{value:c.category,onChange:G=>d({...c,category:G.target.value}),className:"w-full bg-slate-50 p-3 rounded-xl font-bold text-sm border border-slate-100 outline-none",children:[s.categories.map(G=>g.jsx("option",{value:G,children:G},G)),g.jsx("option",{value:"Bills",children:"Bills (System)"}),g.jsx("option",{value:"Income",children:"Income"})]})]})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs("button",{onClick:()=>{e(c.id),d(null)},className:"flex-1 bg-rose-50 text-rose-600 py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2",children:[g.jsx(Ch,{size:16})," Delete"]}),g.jsxs("button",{onClick:()=>{i({...c,amount:Number(c.amount)||0}),d(null)},className:"flex-1 bg-blue-600 text-white py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 shadow-lg shadow-blue-200",children:[g.jsx(Lb,{size:16})," Save"]})]})]})}),g.jsxs("div",{className:"flex overflow-x-auto gap-2 pb-2 scrollbar-hide px-2",children:[g.jsx("button",{onClick:()=>o("ALL"),className:`px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap transition-all ${a==="ALL"?"bg-slate-900 text-white shadow-md":"bg-white text-slate-400 border border-slate-100"}`,children:"All Time"}),g.jsx("button",{onClick:()=>o("YTD"),className:`px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap transition-all ${a==="YTD"?"bg-slate-900 text-white shadow-md":"bg-white text-slate-400 border border-slate-100"}`,children:"YTD"}),g.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1 self-center"}),L.map((G,re)=>re>new Date().getMonth()&&A===new Date().getFullYear()?null:g.jsx("button",{onClick:()=>o(re),className:`px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap transition-all ${a===re?"bg-blue-600 text-white shadow-md":"bg-white text-slate-400 border border-slate-100"}`,children:G},G))]}),g.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-slate-100 shadow-sm relative overflow-hidden",children:[g.jsx("div",{className:"flex justify-between items-start mb-6 relative z-10",children:g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:a==="ALL"?"Lifetime Net":a==="YTD"?"YTD Net Flow":"Monthly Net"}),g.jsxs("h3",{className:`text-2xl font-extrabold leading-tight ${Q.net>=0?"text-emerald-600":"text-rose-600"}`,children:[Q.net>=0?"+":"","",Q.net.toLocaleString()]}),g.jsxs("div",{className:"flex gap-4 mt-2",children:[g.jsxs("span",{className:"text-[10px] font-bold text-emerald-600 flex items-center gap-1",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})," In: ",Q.currentTotalIncome.toLocaleString()]}),g.jsxs("span",{className:"text-[10px] font-bold text-blue-600 flex items-center gap-1",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-600"})," Out: ",Q.currentTotalSpend.toLocaleString()]})]})]})}),g.jsxs("div",{className:"h-32 w-full relative mb-4",children:[g.jsxs("svg",{viewBox:"0 0 100 50",preserveAspectRatio:"none",className:"w-full h-full overflow-visible",children:[[0,25,50,75,100].map(G=>g.jsx("line",{x1:"0",y1:50-G/2,x2:"100",y2:50-G/2,stroke:"#f1f5f9",strokeWidth:"0.5",strokeDasharray:"2 2"},G)),P(Q.visibleIncome,Q.totalXPoints,"#10b981",!1,ie),P(Q.visibleSpend,Q.totalXPoints,"#2563eb",!1,ie),Q.isMonthlyView&&P(Q.spendProjections,Q.totalXPoints,"#2563eb",!0,ie),(Q.isCurrentTimeframe||!Q.isMonthlyView)&&Q.visibleSpend.length>0&&g.jsxs(g.Fragment,{children:[g.jsx("circle",{cx:Q.totalXPoints<=1?50:(Q.todayIndex-1)/(Q.totalXPoints-1)*100,cy:le,r:"2",fill:"#2563eb",stroke:"white",strokeWidth:"1"}),g.jsx("circle",{cx:Q.totalXPoints<=1?50:(Q.todayIndex-1)/(Q.totalXPoints-1)*100,cy:he,r:"2",fill:"#10b981",stroke:"white",strokeWidth:"1"})]})]}),g.jsxs("div",{className:"flex justify-between text-[9px] font-bold text-slate-300 mt-2 uppercase tracking-wider",children:[g.jsx("span",{children:Q.isMonthlyView?"Day 1":a==="ALL"?"Start":"Jan"}),g.jsx("span",{children:Q.isMonthlyView||a==="ALL"?"End":"Dec"})]})]})]}),g.jsxs("div",{className:"bg-white rounded-[2rem] border border-slate-100 shadow-sm overflow-hidden",children:[g.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex gap-2",children:[g.jsxs("div",{className:"relative flex-grow",children:[g.jsx(NN,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:14}),g.jsx("input",{value:p,onChange:G=>v(G.target.value),placeholder:"Search...",className:"w-full bg-white pl-8 pr-3 py-2 rounded-xl text-xs font-bold border border-slate-100 outline-none"})]}),g.jsxs("select",{value:_,onChange:G=>T(G.target.value),className:"bg-white px-3 py-2 rounded-xl text-xs font-bold border border-slate-100 outline-none text-slate-600",children:[g.jsx("option",{value:"All",children:"All"}),g.jsx("option",{value:"Recurring Bills",children:"Recurring"}),g.jsx("option",{value:"Income",children:"Income"}),s.categories.map(G=>g.jsx("option",{value:G,children:G},G))]})]}),g.jsxs("div",{className:"flex justify-between items-center px-6 py-2 bg-slate-50/50 border-b border-slate-50",children:[g.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Description"}),g.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Amount"})]}),g.jsx("div",{className:"divide-y divide-slate-50",children:X.length===0?g.jsx("div",{className:"p-8 text-center text-slate-400 text-xs font-medium",children:"No transactions."}):X.map(G=>{const re=lg(G.category),F=!G.isSystem&&!G.isContribution,S=G.category==="Income";return g.jsxs("div",{onClick:()=>F&&d(G),className:`p-4 hover:bg-slate-50 transition-colors flex justify-between items-center group ${F?"cursor-pointer active:scale-[0.98]":"opacity-80"}`,children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center font-bold text-xs ${S?"bg-emerald-50 text-emerald-600":"bg-blue-50 text-blue-600"}`,children:g.jsx(re,{size:18})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-bold text-slate-900",children:Bb(G.description)||G.category}),g.jsxs("p",{className:"text-[10px] text-slate-400 font-bold",children:[new Date(G.timestamp).toLocaleDateString("en-GB",{day:"2-digit",month:"short"}),"  ",G.category]})]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("span",{className:`font-black text-right min-w-[60px] ${S?"text-emerald-600":"text-slate-900"}`,children:[S?"+":"-","",G.amount.toFixed(2)]}),F&&g.jsx(Uo,{size:14,className:"text-slate-300 opacity-0 group-hover:opacity-100 transition-opacity"})]})]},G.id)})})]})]})}function WN({data:s,user:e,showNotify:i,db:a,appId:o,metrics:c}){const[d,p]=_e.useState("savings");return g.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 pb-24",children:[g.jsxs("div",{className:"flex p-1 bg-white border border-slate-100 rounded-2xl mb-6 shadow-sm mx-auto max-w-[95%]",children:[g.jsxs("button",{onClick:()=>p("savings"),className:`flex-1 py-3 rounded-xl text-[11px] font-bold transition-all flex items-center justify-center gap-1.5 ${d==="savings"?"bg-slate-900 text-white shadow-md":"text-slate-400 hover:bg-slate-50"}`,children:[g.jsx(jb,{size:14})," Savings"]}),g.jsxs("button",{onClick:()=>p("recurring"),className:`flex-1 py-3 rounded-xl text-[11px] font-bold transition-all flex items-center justify-center gap-1.5 ${d==="recurring"?"bg-slate-900 text-white shadow-md":"text-slate-400 hover:bg-slate-50"}`,children:[g.jsx(AN,{size:14})," Recurring"]}),g.jsxs("button",{onClick:()=>p("budget"),className:`flex-1 py-3 rounded-xl text-[11px] font-bold transition-all flex items-center justify-center gap-1.5 ${d==="budget"?"bg-slate-900 text-white shadow-md":"text-slate-400 hover:bg-slate-50"}`,children:[g.jsx(Ob,{size:14})," Budget"]})]}),d==="recurring"&&g.jsx(sI,{data:s,user:e,showNotify:i,db:a,appId:o,metrics:c}),d==="budget"&&g.jsx(aI,{data:s,user:e,showNotify:i,db:a,appId:o,metrics:c}),d==="savings"&&g.jsx(eI,{data:s,user:e,showNotify:i,db:a,appId:o,metrics:c})]})}function eI({data:s,user:e,showNotify:i,db:a,appId:o,metrics:c}){const[d,p]=_e.useState("investments");return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide",children:[g.jsx("button",{onClick:()=>p("investments"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-wider whitespace-nowrap transition-colors ${d==="investments"?"bg-emerald-600 text-white":"bg-emerald-50 text-emerald-600"}`,children:"Investments"}),g.jsx("button",{onClick:()=>p("emergency"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-wider whitespace-nowrap transition-colors ${d==="emergency"?"bg-amber-600 text-white":"bg-amber-50 text-amber-600"}`,children:"Emergency Fund"}),g.jsx("button",{onClick:()=>p("goals"),className:`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-wider whitespace-nowrap transition-colors ${d==="goals"?"bg-blue-600 text-white":"bg-blue-50 text-blue-600"}`,children:"Goals"})]}),d==="investments"&&g.jsx(tI,{data:s}),d==="emergency"&&g.jsx(nI,{data:s,user:e,showNotify:i,db:a,appId:o,metrics:c}),d==="goals"&&g.jsx(iI,{data:s,user:e,showNotify:i,db:a,appId:o,metrics:c})]})}function tI({data:s}){const[e,i]=_e.useState("ALL"),a=(s.transactions||[]).filter(T=>T.category==="Investments"||T.category==="Savings & Investments"),o=a.reduce((T,A)=>T+A.amount,0),c=_e.useMemo(()=>{const T={};return a.forEach(A=>{const N=A.description||"Unspecified";T[N]=(T[N]||0)+A.amount}),Object.entries(T).sort((A,N)=>N[1]-A[1])},[a]),d=_e.useMemo(()=>{let T=0;if(o===0)return"conic-gradient(#f1f5f9 0% 100%)";const A=["#059669","#2563eb","#d97706","#dc2626","#7c3aed","#0891b2","#db2777","#84cc16"];return"conic-gradient("+c.map((N,L)=>{const X=T,Q=N[1]/o*100;return T+=Q,`${A[L%A.length]} ${X}% ${T}%`}).join(", ")+")"},[c,o]),p=_e.useMemo(()=>{const T=[...a].sort((Q,P)=>new Date(Q.timestamp)-new Date(P.timestamp));if(T.length===0)return[];const A=new Date().getFullYear(),N=e==="YTD"?T.filter(Q=>new Date(Q.timestamp).getFullYear()===A):T;if(N.length===0)return[];let L=0;const X=N.map((Q,P)=>(L+=Q.amount,{val:L,idx:P,date:new Date(Q.timestamp)}));return X.length===1&&e==="ALL"&&X.unshift({val:0,idx:-1,date:new Date(X[0].date.getTime()-864e5)}),X},[a,e]),v=p.length>0?p[p.length-1].val*1.1:100,_=(T=!1)=>{if(p.length===0)return null;const A=p.length,N=p.map((L,X)=>{const Q=A<=1?50:X/(A-1)*100,P=50-L.val/v*50;return`${Q},${P}`});return T?`${N.join(" ")} 100,50 0,50`:N.join(" ")};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-white rounded-[2.5rem] p-6 border border-slate-100 shadow-sm relative overflow-hidden",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Portfolio Growth"}),g.jsxs("h2",{className:"text-3xl font-black text-slate-900",children:["",o.toLocaleString()]})]}),g.jsxs("div",{className:"flex gap-1 bg-slate-100 p-1 rounded-lg",children:[g.jsx("button",{onClick:()=>i("ALL"),className:`text-[10px] font-bold px-3 py-1.5 rounded-md transition-all ${e==="ALL"?"bg-white shadow-sm text-emerald-600":"text-slate-400"}`,children:"All"}),g.jsx("button",{onClick:()=>i("YTD"),className:`text-[10px] font-bold px-3 py-1.5 rounded-md transition-all ${e==="YTD"?"bg-white shadow-sm text-emerald-600":"text-slate-400"}`,children:"YTD"})]})]}),g.jsx("div",{className:"h-40 w-full relative",children:g.jsxs("svg",{viewBox:"0 0 100 50",preserveAspectRatio:"none",className:"w-full h-full overflow-visible",children:[g.jsx("defs",{children:g.jsxs("linearGradient",{id:"investGradient",x1:"0",x2:"0",y1:"0",y2:"1",children:[g.jsx("stop",{offset:"0%",stopColor:"#10b981",stopOpacity:"0.2"}),g.jsx("stop",{offset:"100%",stopColor:"#10b981",stopOpacity:"0"})]})}),[0,25,50].map(T=>g.jsx("line",{x1:"0",y1:T,x2:"100",y2:T,stroke:"#f1f5f9",strokeWidth:"0.5",strokeDasharray:"2 2"},T)),g.jsx("polygon",{points:_(!0),fill:"url(#investGradient)"}),g.jsx("polyline",{points:_(!1),fill:"none",stroke:"#059669",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",vectorEffect:"non-scaling-stroke"}),p.length>0&&g.jsx("circle",{cx:p.length<=1?50:100,cy:50-p[p.length-1].val/v*50,r:"3",fill:"#059669",stroke:"white",strokeWidth:"2"})]})})]}),g.jsxs("div",{className:"bg-white rounded-[2rem] p-6 border border-slate-100 shadow-sm flex flex-col md:flex-row gap-6 items-center",children:[g.jsxs("div",{className:"relative w-40 h-40 flex-shrink-0",children:[g.jsx("div",{className:"w-full h-full rounded-full border-4 border-slate-50",style:{background:d}}),g.jsxs("div",{className:"absolute inset-0 m-8 bg-white rounded-full flex items-center justify-center flex-col shadow-sm",children:[g.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Assets"}),g.jsx("span",{className:"text-sm font-black text-slate-900",children:c.length})]})]}),g.jsxs("div",{className:"flex-grow w-full space-y-3",children:[g.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Allocation"}),c.length===0?g.jsx("p",{className:"text-xs text-slate-400 italic",children:"No investments yet."}):c.map(([T,A],N)=>{const L=["bg-emerald-600","bg-blue-600","bg-amber-600","bg-rose-600","bg-violet-600","bg-cyan-600","bg-pink-600","bg-lime-600"],X=L[N%L.length],Q=(A/o*100).toFixed(1);return g.jsxs("div",{className:"flex items-center justify-between group",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:`w-2 h-2 rounded-full ${X}`}),g.jsx("span",{className:"text-xs font-bold text-slate-700",children:Bb(T)})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("span",{className:"text-xs font-black text-slate-900 block",children:["",A.toLocaleString()]}),g.jsxs("span",{className:"text-[10px] font-bold text-slate-400",children:[Q,"%"]})]})]},T)})]})]})]})}function nI({data:s,user:e,showNotify:i,db:a,appId:o,metrics:c}){const[d,p]=_e.useState(!1),[v,_]=_e.useState(s.emergency_target||0),[T,A]=_e.useState(s.emergency_deadline||""),[N,L]=_e.useState(""),[X,Q]=_e.useState(null),[P,ie]=_e.useState(!1),le=s.emergency_target||0,he=c.emergencyBalance||0,G=Math.max(0,le-he),re=le>0?Math.min(100,he/le*100):0,F=he>=le&&le>0,S=(j,Y)=>{if(!Y||!j)return 0;const te=new Date(Y),oe=new Date,me=(te.getFullYear()-oe.getFullYear())*12+(te.getMonth()-oe.getMonth()),M=Math.max(0,j-he);return me<=0?M:M/me},w=_e.useMemo(()=>S(le,s.emergency_deadline),[le,s.emergency_deadline,he]),C=_e.useMemo(()=>S(v,T),[v,T,he]),O=async()=>{const j=It(a,"artifacts",o,"users",e.uid,"settings","budgetData");await ct(j,{emergency_target:parseFloat(v),emergency_deadline:T}),p(!1),i("Emergency Plan Updated")},I=async()=>{if(!N)return;const j=parseFloat(N);if(F){i("Emergency Goal Reached!",!0);return}const Y=c.emergencyAllocated||0,te=c.emergencySpent||0,oe=Math.max(0,Y-te);if(j>oe){i(`Exceeds Monthly Budget! Only ${oe.toFixed(0)} left.`,!0);return}const me=It(a,"artifacts",o,"users",e.uid,"settings","budgetData"),M={id:Math.random().toString(36).substr(2,9),amount:j,category:"Emergency Fund",description:"Manual Deposit",timestamp:new Date().toISOString(),isContribution:!0};await ct(me,{emergency_deposits:(s.emergency_deposits||0)+j,transactions:[M,...s.transactions||[]]}),i(`Deposited ${j}`),L("")},V=()=>{const j=c.emergencyAllocated||0,Y=c.emergencySpent||0,te=Math.max(0,j-Y);L(te.toString())},R=async()=>{ie(!0);const Y=`
          Analyze emergency fund.
          Disposable Income: ${(c.totalIncome||0)-(c.bills||0)} (Total Income ${c.totalIncome} - Fixed Bills ${c.bills}).
          Note: User needs money for daily living from this disposable amount.
          
          Task:
          1. Suggest Target Amount (3-6 months coverage).
          2. Suggest Monthly Contribution (affordable amount from disposable, leaving room for daily expenses).
          3. Calculate Target Date based on that contribution.
          
          Return JSON ONLY: { "suggestedAmount": number, "deadline": "YYYY-MM-DD", "monthly": number, "reasoning": "string" }
        `;try{let me=(await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${zb}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:Y}]}]})})).json()).candidates?.[0]?.content?.parts?.[0]?.text||"";const M=me.indexOf("{"),J=me.lastIndexOf("}");M!==-1&&J!==-1&&(me=me.substring(M,J+1)),Q(JSON.parse(me))}catch(te){console.error(te),i("AI Analysis Failed",!0)}ie(!1)},ve=(j,Y)=>{if(!X)return;const te={...X,[j]:Y};if(j==="suggestedAmount")te.monthly=S(Y,te.deadline);else if(j==="deadline")te.monthly=S(te.suggestedAmount,Y);else if(j==="monthly"){const oe=Math.max(0,te.suggestedAmount-he),me=Y>0?Math.ceil(oe/Y):0,M=new Date;M.setMonth(M.getMonth()+me),te.deadline=M.toISOString().split("T")[0]}Q(te)},Ae=async()=>{if(!X)return;const j=It(a,"artifacts",o,"users",e.uid,"settings","budgetData");await ct(j,{emergency_target:parseFloat(X.suggestedAmount),emergency_deadline:X.deadline}),Q(null),i("AI Plan Accepted")};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-amber-50 rounded-[2.5rem] p-8 border border-amber-100 relative overflow-hidden group",children:[g.jsxs("div",{className:"flex justify-between items-start mb-6",children:[g.jsx("div",{className:"p-3 bg-white text-amber-500 rounded-2xl shadow-sm",children:g.jsx(ag,{size:24})}),g.jsx("button",{onClick:()=>p(!d),className:"text-amber-400 hover:text-amber-600 bg-white p-2 rounded-xl transition-colors",children:g.jsx(Uo,{size:16})})]}),d?g.jsxs("div",{className:"mb-6 space-y-3 bg-white/50 p-4 rounded-2xl",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-amber-700 uppercase",children:"Target Amount"}),g.jsx("input",{type:"number",value:v,onChange:j=>_(j.target.value),className:"w-full bg-white p-2 rounded-lg font-bold text-amber-900 outline-none border border-amber-200"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-amber-700 uppercase",children:"Target Date"}),g.jsx("input",{type:"date",value:T,onChange:j=>A(j.target.value),className:"w-full bg-white p-2 rounded-lg font-bold text-amber-900 outline-none border border-amber-200"})]}),g.jsxs("div",{className:"text-[10px] font-bold text-amber-600 pt-1 flex items-center gap-1",children:[g.jsx(QR,{size:12})," Needs ",C.toFixed(0),"/mo savings"]}),g.jsx("button",{onClick:O,className:"w-full bg-amber-600 text-white py-2 rounded-lg font-bold text-xs",children:"Save Changes"})]}):g.jsxs("div",{className:"mb-6",children:[g.jsx("p",{className:"text-xs font-bold text-amber-700/60 uppercase tracking-widest mb-1",children:"Current Balance"}),g.jsxs("h2",{className:"text-4xl font-black text-amber-900",children:["",he.toLocaleString()]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[g.jsxs("div",{className:"bg-white/60 p-3 rounded-2xl",children:[g.jsx("p",{className:"text-[9px] font-bold text-amber-600 uppercase mb-1",children:"Target"}),g.jsxs("p",{className:"text-sm font-black text-amber-900",children:["",le.toLocaleString()]}),g.jsx("p",{className:"text-[9px] font-medium text-amber-700/60",children:s.emergency_deadline||"No date set"})]}),g.jsxs("div",{className:"bg-white/60 p-3 rounded-2xl",children:[g.jsx("p",{className:"text-[9px] font-bold text-amber-600 uppercase mb-1",children:"Monthly Need"}),g.jsxs("p",{className:"text-sm font-black text-amber-900",children:["",w.toFixed(0)]}),g.jsx("p",{className:"text-[9px] font-medium text-amber-700/60",children:"to meet deadline"})]})]})]}),g.jsxs("div",{className:"relative",children:[g.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-amber-800/60 mb-1.5 uppercase tracking-wide",children:[g.jsxs("span",{children:[re.toFixed(0),"% Ready"]}),g.jsxs("span",{children:["",G.toLocaleString()," to go"]})]}),g.jsx("div",{className:"w-full h-4 bg-amber-200/50 rounded-full overflow-hidden relative",children:g.jsx("div",{className:"h-full bg-amber-500 transition-all duration-1000",style:{width:`${re}%`}})})]})]}),g.jsxs("div",{className:`bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm space-y-3 ${F?"opacity-50 pointer-events-none grayscale":""}`,children:[g.jsxs("div",{className:"flex justify-between items-center px-1",children:[g.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Monthly Allowance"}),g.jsxs("span",{className:"text-xs font-bold text-slate-700",children:["",Math.max(0,(c.emergencyAllocated||0)-(c.emergencySpent||0))," remaining"]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"number",placeholder:F?"Goal Reached!":"Amount",value:N,onChange:j=>L(j.target.value),disabled:F,className:"flex-grow bg-slate-50 p-4 rounded-2xl font-bold border border-slate-100 outline-none"}),g.jsx("button",{onClick:V,className:"bg-slate-100 text-slate-600 px-4 rounded-2xl font-bold text-[10px] uppercase tracking-wider hover:bg-slate-200 transition-colors",children:"Max"})]}),g.jsx("button",{onClick:I,className:"w-full bg-slate-900 text-white py-4 rounded-2xl font-bold text-xs uppercase tracking-wider shadow-lg active:scale-95 transition-transform",children:F?"Goal Achieved":"Deposit to Pot"})]}),g.jsxs("div",{className:"bg-rose-50 p-4 rounded-2xl border border-rose-100 flex gap-3 items-start",children:[g.jsx(BN,{className:"text-rose-500 flex-shrink-0",size:18}),g.jsxs("p",{className:"text-xs text-rose-700 leading-relaxed font-medium",children:[g.jsx("b",{children:"Withdrawals:"}),' To spend from this pot, go to "Log Expense" and select "Emergency Fund". Your balance is capped at ',he.toLocaleString(),"."]})]}),X?g.jsxs("div",{className:"bg-indigo-50 p-6 rounded-[2rem] border border-indigo-100 animate-in fade-in slide-in-from-bottom-4",children:[g.jsxs("div",{className:"flex gap-2 items-center mb-3",children:[g.jsx(pm,{className:"text-indigo-500",size:18}),g.jsx("h4",{className:"font-bold text-indigo-900 text-sm",children:"AI Suggestion"})]}),g.jsxs("div",{className:"space-y-3 mb-4",children:[g.jsxs("div",{className:"bg-white/50 p-3 rounded-xl border border-indigo-100",children:[g.jsx("label",{className:"text-[9px] font-bold text-indigo-400 uppercase block mb-1",children:"Target Amount"}),g.jsx("input",{type:"number",value:X.suggestedAmount,onChange:j=>ve("suggestedAmount",j.target.value),className:"w-full bg-transparent font-black text-indigo-900 outline-none border-b border-indigo-200 focus:border-indigo-500 text-sm"})]}),g.jsxs("div",{className:"bg-white/50 p-3 rounded-xl border border-indigo-100",children:[g.jsx("label",{className:"text-[9px] font-bold text-indigo-400 uppercase block mb-1",children:"Target Date"}),g.jsx("input",{type:"date",value:X.deadline,onChange:j=>ve("deadline",j.target.value),className:"w-full bg-transparent font-black text-indigo-900 outline-none border-b border-indigo-200 focus:border-indigo-500 text-sm"})]}),g.jsxs("div",{className:"bg-white/50 p-3 rounded-xl border border-indigo-100",children:[g.jsx("label",{className:"text-[9px] font-bold text-indigo-400 uppercase block mb-1",children:"Monthly Contribution"}),g.jsx("input",{type:"number",value:Math.round(X.monthly),onChange:j=>ve("monthly",j.target.value),className:"w-full bg-transparent font-black text-indigo-900 outline-none border-b border-indigo-200 focus:border-indigo-500 text-sm"})]}),g.jsxs("p",{className:"text-xs text-indigo-700/80 italic leading-relaxed px-1",children:['"',X.reasoning,'"']})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:Ae,className:"flex-1 bg-indigo-600 text-white py-3 rounded-xl font-bold text-xs",children:"Accept Plan"}),g.jsx("button",{onClick:()=>Q(null),className:"flex-1 bg-white text-indigo-600 py-3 rounded-xl font-bold text-xs",children:"Decline"})]})]}):g.jsxs("button",{onClick:R,disabled:P,className:"w-full py-4 bg-white border border-slate-200 text-slate-600 rounded-2xl font-bold text-xs uppercase tracking-widest shadow-sm flex items-center justify-center gap-2",children:[P?g.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-slate-400 border-t-transparent"}):g.jsx(Ob,{size:16}),"Suggest Goal with AI"]})]})}function iI({data:s,user:e,showNotify:i,db:a,appId:o,metrics:c}){const[d,p]=_e.useState(!1),[v,_]=_e.useState({name:"",target:"",date:""}),[T,A]=_e.useState(null),[N,L]=_e.useState({target:"",date:""}),[X,Q]=_e.useState({}),P=async()=>{if(!v.name||!v.target)return;const G=It(a,"artifacts",o,"users",e.uid,"settings","budgetData"),re={id:Math.random().toString(36).substr(2,9),name:v.name,targetAmount:parseFloat(v.target),targetDate:v.date,currentAmount:0},F=[...s.categories||[],v.name],S={...s.allocations,[v.name]:0},w={...s.base_allocations,[v.name]:0};await ct(G,{custom_goals:[...s.custom_goals||[],re],categories:F,allocations:S,base_allocations:w}),p(!1),_({name:"",target:"",date:""}),i("Goal Created & Added to Budget")},ie=async(G,re)=>{const F=It(a,"artifacts",o,"users",e.uid,"settings","budgetData"),S=(s.custom_goals||[]).filter(C=>C.id!==G),w=(s.categories||[]).filter(C=>C!==re);await ct(F,{custom_goals:S,categories:w}),i("Goal Deleted")},le=async G=>{const re=It(a,"artifacts",o,"users",e.uid,"settings","budgetData"),F=s.custom_goals.map(S=>S.id===G?{...S,targetAmount:parseFloat(N.target),targetDate:N.date}:S);await ct(re,{custom_goals:F}),A(null),i("Goal Updated")},he=async(G,re)=>{const F=parseFloat(X[re]);if(!F)return;const S=s.allocations[G]||0,w=c.realSpent?.[G]||0,C=Math.max(0,S-w);if(F>C){i(`Exceeds Monthly Allocation! Only ${C.toFixed(0)} left in budget.`,!0);return}const O=It(a,"artifacts",o,"users",e.uid,"settings","budgetData"),I={id:Math.random().toString(36).substr(2,9),amount:F,category:G,description:"Goal Deposit",timestamp:new Date().toISOString(),isContribution:!0},V=s.custom_goals.map(R=>R.id===re?{...R,currentAmount:(R.currentAmount||0)+F}:R);await ct(O,{transactions:[I,...s.transactions||[]],custom_goals:V}),Q({...X,[re]:""}),i(`Deposited ${F} to ${G}`)};return g.jsxs("div",{className:"space-y-6",children:[d?g.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-xl animate-in zoom-in-95",children:[g.jsx("h3",{className:"font-black text-slate-900 mb-4",children:"New Saving Goal"}),g.jsxs("div",{className:"space-y-3 mb-4",children:[g.jsx("input",{placeholder:"Goal Name (e.g. New Laptop)",value:v.name,onChange:G=>_({...v,name:G.target.value}),className:"w-full bg-slate-50 p-3 rounded-xl font-bold text-sm outline-none"}),g.jsx("input",{type:"number",placeholder:"Target Amount",value:v.target,onChange:G=>_({...v,target:G.target.value}),className:"w-full bg-slate-50 p-3 rounded-xl font-bold text-sm outline-none"}),g.jsx("input",{type:"date",value:v.date,onChange:G=>_({...v,date:G.target.value}),className:"w-full bg-slate-50 p-3 rounded-xl font-bold text-sm outline-none text-slate-500"})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:P,className:"flex-1 bg-slate-900 text-white py-3 rounded-xl font-bold text-xs",children:"Create"}),g.jsx("button",{onClick:()=>p(!1),className:"flex-1 bg-slate-100 text-slate-600 py-3 rounded-xl font-bold text-xs",children:"Cancel"})]})]}):g.jsxs("button",{onClick:()=>p(!0),className:"w-full py-4 bg-slate-900 text-white rounded-[2rem] font-bold text-sm flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-transform",children:[g.jsx(rN,{size:20})," Create New Goal"]}),g.jsxs("div",{className:"space-y-4",children:[(s.custom_goals||[]).map(G=>{const re=G.currentAmount||0,F=Math.min(100,re/G.targetAmount*100),S=Math.max(0,G.targetAmount-re),w=F>=100,C=T===G.id;let O=0;if(G.targetDate){const ve=new Date(G.targetDate),Ae=new Date,j=(ve.getFullYear()-Ae.getFullYear())*12+(ve.getMonth()-Ae.getMonth());j>0?O=S/j:O=S}const I=s.allocations[G.name]||0,V=c.realSpent?.[G.name]||0,R=Math.max(0,I-V);return g.jsxs("div",{className:"bg-blue-50 rounded-[2.5rem] p-8 border border-blue-100 relative overflow-hidden group",children:[g.jsxs("div",{className:"flex justify-between items-start mb-6",children:[g.jsx("div",{className:"p-3 bg-white text-blue-500 rounded-2xl shadow-sm",children:g.jsx(rg,{size:24})}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>{C?setIsEditing(null):(A(G.id),L({target:G.targetAmount,date:G.targetDate}))},className:"text-blue-400 hover:text-blue-600 bg-white p-2 rounded-xl transition-colors",children:g.jsx(Uo,{size:16})}),g.jsx("button",{onClick:()=>ie(G.id,G.name),className:"text-rose-400 hover:text-rose-600 bg-white p-2 rounded-xl transition-colors",children:g.jsx(Ch,{size:16})})]})]}),C?g.jsxs("div",{className:"mb-6 space-y-3 bg-white/50 p-4 rounded-2xl",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-blue-700 uppercase",children:"Target Amount"}),g.jsx("input",{type:"number",value:N.target,onChange:ve=>L({...N,target:ve.target.value}),className:"w-full bg-white p-2 rounded-lg font-bold text-blue-900 outline-none border border-blue-200"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-blue-700 uppercase",children:"Target Date"}),g.jsx("input",{type:"date",value:N.date,onChange:ve=>L({...N,date:ve.target.value}),className:"w-full bg-white p-2 rounded-lg font-bold text-blue-900 outline-none border border-blue-200"})]}),g.jsx("button",{onClick:()=>le(G.id),className:"w-full bg-blue-600 text-white py-2 rounded-lg font-bold text-xs",children:"Save Changes"})]}):g.jsxs("div",{className:"mb-6",children:[g.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[g.jsx("h4",{className:"text-lg font-black text-blue-900",children:G.name}),w&&g.jsx("span",{className:"text-[10px] bg-emerald-500 text-white px-2 py-0.5 rounded-full font-bold uppercase",children:"Done"})]}),g.jsxs("h2",{className:"text-4xl font-black text-blue-900",children:["",re.toLocaleString()]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[g.jsxs("div",{className:"bg-white/60 p-3 rounded-2xl",children:[g.jsx("p",{className:"text-[9px] font-bold text-blue-600 uppercase mb-1",children:"Target"}),g.jsxs("p",{className:"text-sm font-black text-blue-900",children:["",G.targetAmount.toLocaleString()]}),g.jsx("p",{className:"text-[9px] font-medium text-blue-700/60",children:G.targetDate||"No date"})]}),g.jsxs("div",{className:"bg-white/60 p-3 rounded-2xl",children:[g.jsx("p",{className:"text-[9px] font-bold text-blue-600 uppercase mb-1",children:"Monthly Need"}),g.jsx("p",{className:"text-sm font-black text-blue-900",children:O>0?`${O.toFixed(0)}`:"-"}),g.jsx("p",{className:"text-[9px] font-medium text-blue-700/60",children:"to meet deadline"})]})]})]}),g.jsxs("div",{className:"relative mb-6",children:[g.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-blue-800/60 mb-1.5 uppercase tracking-wide",children:[g.jsxs("span",{children:[F.toFixed(0),"%"]}),g.jsxs("span",{children:["",S.toLocaleString()," left"]})]}),g.jsx("div",{className:"w-full h-4 bg-blue-200/50 rounded-full overflow-hidden relative",children:g.jsx("div",{className:"h-full bg-blue-500 transition-all duration-1000",style:{width:`${F}%`}})})]}),!w&&g.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-blue-100 flex flex-col gap-2",children:[g.jsxs("div",{className:"flex justify-between px-1",children:[g.jsx("span",{className:"text-[10px] font-bold text-blue-300 uppercase",children:"Budget"}),g.jsxs("span",{className:"text-[10px] font-black text-blue-600",children:["",R.toFixed(0)," avail"]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"number",placeholder:"Add funds...",value:X[G.id]||"",onChange:ve=>Q({...X,[G.id]:ve.target.value}),className:"flex-grow bg-slate-50 px-3 py-2 rounded-xl text-sm font-bold border border-slate-100 outline-none"}),g.jsx("button",{onClick:()=>Q({...X,[G.id]:R.toString()}),className:"bg-slate-100 text-slate-500 px-3 rounded-xl font-bold text-[10px] uppercase",children:"Max"}),g.jsx("button",{onClick:()=>he(G.name,G.id),className:"bg-blue-600 text-white px-4 rounded-xl font-bold text-xs uppercase tracking-wider",children:"Add"})]})]})]},G.id)}),(s.custom_goals||[]).length===0&&!d&&g.jsx("div",{className:"text-center p-8 text-slate-400 text-sm font-medium",children:"No active goals. Create one to start saving!"})]})]})}function sI({data:s,user:e,showNotify:i,db:a,appId:o,metrics:c}){const[d,p]=_e.useState(""),[v,_]=_e.useState(""),[T,A]=_e.useState(1),[N,L]=_e.useState("bill"),[X,Q]=_e.useState("recurring"),[P,ie]=_e.useState(null),le=c.unallocated,he=async()=>{if(!d||!v)return;const F=parseFloat(v),S=It(a,"artifacts",o,"users",e.uid,"settings","budgetData");if(N==="bill"){if(F>le+.01){i(`Cannot add bill. Only ${le.toFixed(2)} available.`,!0);return}await ct(S,{bills:{...s.bills||{},[d]:{amount:F,date:parseInt(T)}}}),i("Added Recurring Bill")}else if(X==="recurring"){const w=[...s.income_sources||[],{id:Math.random().toString(36).substr(2,5),name:d,amount:F,date:parseInt(T)}];await ct(S,{income_sources:w}),i("Added Recurring Income")}else{const w={id:Math.random().toString(36).substr(2,9),amount:F,category:"Income",description:d,timestamp:new Date().toISOString(),isSystem:!1,type:"credit"};await ct(S,{transactions:[w,...s.transactions||[]]}),i("One-Time Income Logged")}p(""),_("")},G=async()=>{if(!P)return;const F=It(a,"artifacts",o,"users",e.uid,"settings","budgetData"),S=new Date().getMonth(),w=new Date().getFullYear();if(P.type==="income"){const C=s.income_sources.map(I=>I.id===P.id?P:I),O=s.transactions.map(I=>I.isSystem&&I.description===P.originalName&&I.category==="Income"?{...I,description:P.name,amount:parseFloat(P.amount)}:I);await ct(F,{income_sources:C,transactions:O})}else{const C=parseFloat(P.amount),O=s.bills[P.originalName]?.amount||0;if(C-O>le+.01){i(`Cannot increase bill. Only ${le.toFixed(2)} available.`,!0);return}const V={...s.bills};P.originalName!==P.name&&delete V[P.originalName],V[P.name]={amount:C,date:parseInt(P.date)};const R=s.transactions.map(ve=>{if(ve.isSystem&&ve.description===P.originalName&&ve.category==="Bills"){const Ae=new Date(ve.timestamp);if(Ae.getMonth()===S&&Ae.getFullYear()===w)return{...ve,description:P.name,amount:C}}return ve});await ct(F,{bills:V,transactions:R})}ie(null),i("Item Updated")},re=async()=>{const F=It(a,"artifacts",o,"users",e.uid,"settings","budgetData"),S=new Date().getMonth(),w=new Date().getFullYear();if(P.type==="income"){const C=s.income_sources.filter(I=>I.id!==P.id),O=s.transactions.filter(I=>{if(I.isSystem&&I.description===P.name&&I.category==="Income"){const V=new Date(I.timestamp);return!(V.getMonth()===S&&V.getFullYear()===w)}return!0});await ct(F,{income_sources:C,transactions:O})}else{const C={...s.bills};delete C[P.name];const O=s.transactions.filter(I=>{if(I.isSystem&&I.description===P.name&&I.category==="Bills"){const V=new Date(I.timestamp);return!(V.getMonth()===S&&V.getFullYear()===w)}return!0});await ct(F,{bills:C,transactions:O})}ie(null),i("Item Deleted")};return g.jsxs("div",{className:"space-y-6",children:[P&&g.jsx("div",{className:"fixed inset-0 z-[100] modal-overlay flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[2rem] p-6 shadow-2xl animate-in zoom-in-95",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsxs("h3",{className:"text-lg font-black text-slate-900",children:["Edit ",P.type==="income"?"Income":"Bill"]}),g.jsx("button",{onClick:()=>ie(null),className:"bg-slate-100 p-2 rounded-full",children:g.jsx(Ub,{size:20})})]}),g.jsxs("div",{className:"space-y-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Name"}),g.jsx("input",{type:"text",value:P.name,onChange:F=>ie({...P,name:F.target.value}),className:"w-full bg-slate-50 p-3 rounded-xl font-bold text-sm border border-slate-100 outline-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Amount"}),g.jsx("input",{type:"number",value:P.amount,onChange:F=>ie({...P,amount:F.target.value}),className:"w-full bg-slate-50 p-3 rounded-xl font-bold text-lg border border-slate-100 outline-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Day (1-31)"}),g.jsx("select",{value:P.date,onChange:F=>ie({...P,date:parseInt(F.target.value)}),className:"w-full bg-slate-50 p-3 rounded-xl font-bold text-sm border border-slate-100 outline-none",children:[...Array(31)].map((F,S)=>g.jsx("option",{value:S+1,children:S+1},S))})]})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs("button",{onClick:re,className:"flex-1 bg-rose-50 text-rose-600 py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2",children:[g.jsx(Ch,{size:16})," Delete"]}),g.jsxs("button",{onClick:G,className:"flex-1 bg-blue-600 text-white py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 shadow-lg",children:[g.jsx(Lb,{size:16})," Update"]})]})]})}),g.jsxs("div",{className:"bg-white rounded-[2rem] p-8 border border-slate-100 shadow-sm",children:[g.jsxs("div",{className:"flex gap-2 mb-6 bg-slate-50 p-1 rounded-xl",children:[g.jsx("button",{onClick:()=>L("bill"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${N==="bill"?"bg-white shadow-sm text-slate-900":"text-slate-400"}`,children:"Bill"}),g.jsx("button",{onClick:()=>L("income"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${N==="income"?"bg-white shadow-sm text-emerald-600":"text-slate-400"}`,children:"Income"})]}),N==="income"&&g.jsxs("div",{className:"flex gap-4 mb-4 px-2",children:[g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"radio",className:"hidden",checked:X==="recurring",onChange:()=>Q("recurring")}),g.jsx("span",{className:`text-xs font-bold ${X==="recurring"?"text-slate-900":"text-slate-400"}`,children:"Monthly"})]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"radio",className:"hidden",checked:X==="one-off",onChange:()=>Q("one-off")}),g.jsx("span",{className:`text-xs font-bold ${X==="one-off"?"text-slate-900":"text-slate-400"}`,children:"One-Time"})]})]}),g.jsxs("div",{className:"space-y-3 mb-6",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{placeholder:"Name",value:d,onChange:F=>p(F.target.value),className:"flex-grow bg-slate-50 p-4 rounded-2xl font-bold border border-slate-100 outline-none text-sm"}),X==="recurring"&&g.jsx("select",{value:T,onChange:F=>A(F.target.value),className:"bg-slate-50 p-4 rounded-2xl font-bold border border-slate-100 outline-none text-sm w-20 text-center",children:[...Array(31)].map((F,S)=>g.jsx("option",{value:S+1,children:S+1},S))})]}),g.jsx("input",{type:"number",placeholder:"0.00",value:v,onChange:F=>_(F.target.value),className:"w-full bg-slate-50 p-4 pl-10 rounded-2xl font-black border border-slate-100 outline-none"})]}),N==="bill"&&g.jsxs("div",{className:"text-[10px] text-slate-400 font-bold mb-4 flex justify-between px-2",children:[g.jsx("span",{children:"Available to allocate:"}),g.jsxs("span",{className:le<0?"text-rose-500":"text-emerald-500",children:["",Math.max(0,le).toLocaleString()]})]}),g.jsx("button",{onClick:he,className:`w-full text-white font-bold py-4 rounded-2xl text-xs uppercase tracking-widest ${N==="income"?"bg-emerald-600":"bg-slate-900"}`,children:N==="income"?X==="recurring"?"Add Recurring Income":"Log One-Time Income":"Add Recurring Bill"})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-3 ml-2",children:"Recurring Income"}),g.jsx("div",{className:"space-y-2",children:(s.income_sources||[]).map(F=>g.jsxs("div",{onClick:()=>ie({...F,originalName:F.name,type:"income"}),className:"bg-white p-4 rounded-2xl flex justify-between items-center border border-slate-100 cursor-pointer hover:border-emerald-200",children:[g.jsx("div",{children:g.jsx("p",{className:"text-sm font-bold text-slate-900",children:F.name})}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("span",{className:"font-black text-emerald-600",children:["+",F.amount]}),g.jsx(Uo,{size:14,className:"text-slate-300"})]})]},F.id))})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-3 ml-2",children:"Recurring Bills"}),g.jsx("div",{className:"space-y-2",children:Object.entries(s.bills||{}).map(([F,S])=>g.jsxs("div",{onClick:()=>ie({name:F,originalName:F,amount:S.amount,date:S.date,type:"bill"}),className:"bg-white p-4 rounded-2xl flex justify-between items-center border border-slate-100 cursor-pointer hover:border-blue-200",children:[g.jsx("div",{children:g.jsx("p",{className:"text-sm font-bold text-slate-900",children:F})}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("span",{className:"font-black text-slate-900",children:["",S.amount]}),g.jsx(Uo,{size:14,className:"text-slate-300"})]})]},F))})]})]})]})}function aI({data:s,user:e,showNotify:i,db:a,appId:o,metrics:c}){const[d,p]=_e.useState(""),[v,_]=_e.useState(!1),[T,A]=_e.useState(!1),[N,L]=_e.useState(null),[X,Q]=_e.useState(!1),[P,ie]=_e.useState(!1),le=(s.categories||[]).filter(j=>!(s.hidden_categories||[]).includes(j)),he=s.hidden_categories||[],G=["Groceries","Eating Out","Transportation","Shopping","Leisure & Events","Health & Beauty","Miscellaneous","Investments","Emergency Fund"],re=Object.values(s.base_allocations||{}).reduce((j,Y)=>j+(parseFloat(Y)||0),0),F=(c.totalIncome||0)-(c.bills||0),S=F-re,w=async(j,Y)=>{const te=parseFloat(Y)||0,oe=s.base_allocations?.[j]||0;if(re-oe+te>F+.01){i(`Exceeds Total Income! Max allocatable: ${(F-(re-oe)).toFixed(0)}`,!0);return}const M=It(a,"artifacts",o,"users",e.uid,"settings","budgetData"),J=(s.allocations?.[j]||0)-oe;await ct(M,{base_allocations:{...s.base_allocations,[j]:te},allocations:{...s.allocations,[j]:te+J}}),i("Saved")},C=()=>{c.totalIncome<=0||c.bills<=0?ie(!0):O()},O=async()=>{ie(!1),Q(!0);const j=`
      Act as a financial advisor. I need a budget.
      My Total Income: ${c.totalIncome}
      My Fixed Bills: ${JSON.stringify(s.bills)} (Total: ${c.bills})
      My Categories: ${JSON.stringify(le)}

      RULES:
      1. Calculate Disposable Income = Total Income - Fixed Bills.
      2. Apply 50/30/20 rule to Disposable Income:
         - Needs (50%): Essential daily living (Groceries, Transport, Health) + Emergency Fund.
         - Wants (30%): Eating Out, Shopping, Leisure.
         - Savings (20%): Strictly for "Savings & Investments".
      3. If Disposable is negative, warn me.

      RETURN ONLY A JSON OBJECT with this structure (no markdown):
      {
        "allocations": { "Category Name": number },
        "advice": "Short string explanation",
        "health_score": number
      }
    `;try{let oe=(await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${zb}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:j}]}]})})).json()).candidates?.[0]?.content?.parts?.[0]?.text||"";const me=oe.indexOf("{"),M=oe.lastIndexOf("}");if(me!==-1&&M!==-1)oe=oe.substring(me,M+1);else throw new Error("Invalid JSON response");const J=JSON.parse(oe);L(J),A(!0)}catch(Y){console.error(Y),i("AI Generation Failed",!0)}Q(!1)},I=(j,Y)=>{L({...N,allocations:{...N.allocations,[j]:parseFloat(Y)||0}})},V=async()=>{if(!N)return;const j=It(a,"artifacts",o,"users",e.uid,"settings","budgetData"),Y=[...s.categories];Object.keys(N.allocations).forEach(me=>{Y.includes(me)||Y.push(me)});const te={...s.allocations,...N.allocations},oe={...s.base_allocations,...N.allocations};await ct(j,{categories:Y,allocations:te,base_allocations:oe}),L(null),A(!1),i("Budget Applied!")},R=async j=>{const Y=It(a,"artifacts",o,"users",e.uid,"settings","budgetData");let te=[...he];te.includes(j)?te=te.filter(oe=>oe!==j):te.push(j),await ct(Y,{hidden_categories:te}),i(te.includes(j)?"Category Hidden":"Category Restored")},ve=async j=>{if(G.includes(j)){i("Cannot delete default category",!0);return}const Y=It(a,"artifacts",o,"users",e.uid,"settings","budgetData"),te=s.categories.filter(oe=>oe!==j);await ct(Y,{categories:te}),i("Category Deleted")},Ae=async()=>{if(!d)return;const j=It(a,"artifacts",o,"users",e.uid,"settings","budgetData");await ct(j,{categories:[...s.categories||[],d],base_allocations:{...s.base_allocations,[d]:0},allocations:{...s.allocations,[d]:0}}),p(""),i("Category Added")};return g.jsxs("div",{className:"space-y-8 pb-12",children:[P&&g.jsx("div",{className:"fixed inset-0 z-[100] modal-overlay flex items-center justify-center p-6",children:g.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl p-6 shadow-2xl animate-in zoom-in-95",children:[g.jsx("h3",{className:"text-lg font-black text-slate-900 mb-2",children:"Missing Financial Data"}),g.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"You haven't added sufficient Income or Recurring Bills yet. The AI suggestion might be inaccurate."}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:O,className:"flex-1 bg-slate-900 text-white py-3 rounded-xl font-bold text-sm",children:"Go Ahead"}),g.jsx("button",{onClick:()=>ie(!1),className:"flex-1 bg-slate-100 text-slate-600 py-3 rounded-xl font-bold text-sm",children:"Cancel"})]})]})}),g.jsx("div",{className:"bg-blue-600 rounded-[2rem] p-8 text-white shadow-xl shadow-blue-200 relative overflow-hidden",children:g.jsxs("div",{className:"relative z-10",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx(pm,{size:20,className:"text-yellow-300"}),g.jsx("h3",{className:"font-black text-lg",children:"Smart Budget AI"})]}),T?g.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2",children:[g.jsx("div",{className:"bg-white/10 p-4 rounded-2xl border border-white/20",children:g.jsxs("p",{className:"text-xs italic opacity-90 leading-relaxed",children:['"',N.advice,'"']})}),g.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:Object.entries(N.allocations).map(([j,Y])=>g.jsxs("div",{className:"flex justify-between items-center text-xs bg-white/5 p-2 rounded-lg",children:[g.jsx("span",{children:j}),g.jsx("input",{type:"number",value:Y,onChange:te=>I(j,te.target.value),className:"w-16 bg-white/20 text-white font-bold p-1 rounded text-right outline-none"})]},j))}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:V,className:"flex-1 bg-white text-blue-600 py-3 rounded-xl font-bold text-sm shadow-lg",children:"Accept Plan"}),g.jsx("button",{onClick:()=>A(!1),className:"flex-1 bg-blue-700 text-white py-3 rounded-xl font-bold text-sm",children:"Cancel"})]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("p",{className:"text-sm opacity-90 mb-6 leading-relaxed",children:["Based on your income of ",g.jsxs("b",{children:["",c.totalIncome]})," and fixed bills of ",g.jsxs("b",{children:["",c.bills]}),", we can auto-generate a 50/30/20 plan for you."]}),g.jsxs("button",{onClick:C,disabled:X,className:"w-full bg-white text-blue-600 py-4 rounded-2xl font-bold text-sm shadow-lg active:scale-95 transition-transform flex justify-center items-center gap-2",children:[X?g.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-600 border-t-transparent"}):g.jsx(pm,{size:16}),X?"Analyzing Finances...":"Generate Proposal"]})]})]})}),g.jsxs("div",{className:"bg-white rounded-[2rem] p-8 border border-slate-100 shadow-sm",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block",children:"Budget Allocations"}),g.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full ${S<0?"bg-rose-100 text-rose-600":"bg-emerald-100 text-emerald-600"}`,children:S>=0?`${S} Left`:`Over by ${Math.abs(S)}`})]}),g.jsx("div",{className:"space-y-4",children:le.map(j=>g.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-4 rounded-2xl",children:[g.jsx("span",{className:"text-xs font-black text-slate-600 uppercase",children:j}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[10px] font-black text-slate-400",children:""}),g.jsx("input",{type:"number",value:s.base_allocations[j]||0,onChange:Y=>w(j,Y.target.value),className:"w-24 text-right bg-white p-3 pl-6 rounded-xl font-black text-sm outline-none shadow-sm"})]})]},j))})]}),g.jsxs("div",{className:"bg-slate-50 rounded-[2rem] p-6 border border-slate-100",children:[g.jsxs("button",{onClick:()=>_(!v),className:"w-full flex justify-between items-center",children:[g.jsx("span",{className:"text-xs font-black text-slate-500 uppercase tracking-widest",children:"Manage Categories"}),v?g.jsx(eN,{size:16,className:"text-slate-400"}):g.jsx(ZR,{size:16,className:"text-slate-400"})]}),v&&g.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200 animate-in fade-in slide-in-from-top-2",children:[g.jsxs("div",{className:"flex gap-2 mb-4",children:[g.jsx("input",{value:d,onChange:j=>p(j.target.value),placeholder:"New Category Name",className:"flex-grow bg-white px-4 py-3 rounded-xl text-sm font-bold border border-slate-200 outline-none"}),g.jsx("button",{onClick:Ae,className:"bg-slate-900 text-white w-12 rounded-xl flex items-center justify-center",children:g.jsx(kb,{size:20})})]}),g.jsx("div",{className:"space-y-2 mb-6",children:le.map(j=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-xl border border-slate-100",children:[g.jsx("span",{className:"text-sm font-bold text-slate-700 pl-2",children:j}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>R(j),className:"p-2 text-slate-400 hover:text-blue-600 bg-slate-50 rounded-lg",children:g.jsx(cN,{size:16})}),!G.includes(j)&&g.jsx("button",{onClick:()=>ve(j),className:"p-2 text-slate-400 hover:text-rose-500 bg-slate-50 rounded-lg",children:g.jsx(Ch,{size:16})})]})]},j))}),he.length>0&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-[10px] font-bold text-slate-300 uppercase tracking-widest px-2",children:"Hidden"}),he.map(j=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-100 border border-dashed border-slate-200 rounded-xl opacity-75",children:[g.jsx("span",{className:"text-sm font-bold text-slate-500 pl-2",children:j}),g.jsx("button",{onClick:()=>R(j),className:"p-2 text-slate-400 hover:text-blue-600 bg-white rounded-lg",children:g.jsx(oN,{size:16})})]},j))]})]})]})]})}function rI({data:s,user:e,showNotify:i,db:a,appId:o}){const[c,d]=_e.useState(!1),p=async()=>{const v=It(a,"artifacts",o,"users",e.uid,"settings","budgetData"),_={};s.categories.forEach(T=>{_[T]=0}),await ct(v,{monthly_income:0,income_sources:[],income_rollover:0,base_allocations:_,allocations:_,spent:_,transactions:[],bills:{}}),d(!1),i("All Data Wiped",!0)};return g.jsxs("div",{className:"space-y-6 pt-6",children:[g.jsxs("div",{className:"bg-white rounded-[2rem] p-8 border border-slate-100 shadow-sm space-y-4",children:[g.jsx("h3",{className:"text-xl font-extrabold text-slate-900",children:"Settings"}),g.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl flex items-center justify-between",children:[g.jsx("span",{className:"text-sm font-bold text-slate-700",children:"App Version"}),g.jsx("span",{className:"text-xs font-bold text-slate-400 bg-white px-3 py-1 rounded-full",children:"v2.1 AI"})]})]}),g.jsxs("div",{className:"bg-rose-50 rounded-[2rem] p-8 border border-rose-100 flex flex-col items-center",children:[g.jsx("p",{className:"text-[10px] font-black text-rose-500 uppercase tracking-widest mb-4",children:"Danger Zone"}),c?g.jsxs("div",{className:"flex gap-4",children:[g.jsx("button",{onClick:p,className:"bg-rose-600 text-white px-6 py-3 rounded-2xl font-bold text-xs uppercase",children:"Confirm"}),g.jsx("button",{onClick:()=>d(!1),className:"bg-slate-200 text-slate-600 px-6 py-3 rounded-2xl font-bold text-xs uppercase",children:"Cancel"})]}):g.jsx("button",{onClick:()=>d(!0),className:"text-rose-600 font-bold text-sm",children:"Wipe All Data"})]})]})}CT.createRoot(document.getElementById("root")).render(g.jsx(_e.StrictMode,{children:g.jsx(KN,{})}));
